{"version":3,"sources":["webpack:///webpack/bootstrap 1dbc3e4ee43de3d8b8e1","webpack:///./src/javascript/index.js","webpack:///./src/javascript/config.js","webpack:///./src/javascript/binary/base/pjax.js","webpack:///./src/javascript/binary/static_pages/endpoint.js","webpack:///./src/javascript/binary/base/logged_in.js","webpack:///./src/javascript/binary/base/login.js","webpack:///./src/javascript/binary/base/markets.js","webpack:///./src/javascript/binary/base/menu_content.js","webpack:///./src/javascript/binary/base/onerror.js","webpack:///./src/javascript/binary/base/page.js","webpack:///./src/javascript/binary/base/storage.js","webpack:///./src/javascript/binary/base/utility.js","webpack:///./src/javascript/binary/base.js","webpack:///./src/javascript/binary/common_functions/active_symbols.js","webpack:///./src/javascript/binary/common_functions/attach_dom/button.js","webpack:///./src/javascript/binary/common_functions/attach_dom/flextable.js","webpack:///./src/javascript/binary/common_functions/attach_dom/password_strength_meter.js","webpack:///./src/javascript/binary/common_functions/attach_dom/table.js","webpack:///./src/javascript/binary/common_functions/common_data.js","webpack:///./src/javascript/binary/common_functions/currency_to_symbol.js","webpack:///./src/javascript/binary/common_functions/event_handler.js","webpack:///./src/javascript/binary/common_functions/frontend.js","webpack:///./src/javascript/binary/common_functions/get_app_details.js","webpack:///./src/javascript/binary/common_functions/guide.js","webpack:///./src/javascript/binary/common_functions/passwordmeter.js","webpack:///./src/javascript/binary/common_functions/risk_classification.js","webpack:///./src/javascript/binary/common_functions/session_duration_limit.js","webpack:///./src/javascript/binary/common_functions/string_util.js","webpack:///./src/javascript/binary/common_functions/traffic_source.js","webpack:///./src/javascript/binary/common_functions/valid_account_opening.js","webpack:///./src/javascript/binary/common_functions/validation.js","webpack:///./src/javascript/binary/common_functions/validation_v2.js","webpack:///./src/javascript/binary/components/date_picker/selected_dates.js","webpack:///./src/javascript/binary/components/date_picker.js","webpack:///./src/javascript/binary/components/time_picker.js","webpack:///./src/javascript/binary/components/trackjs_onerror.js","webpack:///./src/javascript/binary/static_pages/get_started_jp.js","webpack:///./src/javascript/binary/static_pages/job_details.js","webpack:///./src/javascript/binary/static_pages/static_pjax.js","webpack:///./src/javascript/binary/validator.js","webpack:///./src/javascript/binary/websocket_pages/cashier/account_transferws.js","webpack:///./src/javascript/binary/websocket_pages/cashier/cashier.js","webpack:///./src/javascript/binary/websocket_pages/cashier/deposit_withdraw_ws.js","webpack:///./src/javascript/binary/websocket_pages/cashier/payment_agent_listws.js","webpack:///./src/javascript/binary/websocket_pages/cashier/payment_agent_withdrawws.js","webpack:///./src/javascript/binary/websocket_pages/resources/asset_index/asset_indexws.data.js","webpack:///./src/javascript/binary/websocket_pages/resources/asset_index/asset_indexws.ui.js","webpack:///./src/javascript/binary/websocket_pages/resources/asset_indexws.js","webpack:///./src/javascript/binary/websocket_pages/resources/market_times/market_timesws.data.js","webpack:///./src/javascript/binary/websocket_pages/resources/market_times/market_timesws.ui.js","webpack:///./src/javascript/binary/websocket_pages/resources/market_timesws.js","webpack:///./src/javascript/binary/websocket_pages/socket.js","webpack:///./src/javascript/binary/websocket_pages/trade/analysis.js","webpack:///./src/javascript/binary/websocket_pages/trade/barriers.js","webpack:///./src/javascript/binary/websocket_pages/trade/charts/digit_infows.js","webpack:///./src/javascript/binary/websocket_pages/trade/charts/highchartws.js","webpack:///./src/javascript/binary/websocket_pages/trade/common.js","webpack:///./src/javascript/binary/websocket_pages/trade/content.js","webpack:///./src/javascript/binary/websocket_pages/trade/contract.js","webpack:///./src/javascript/binary/websocket_pages/trade/currency.js","webpack:///./src/javascript/binary/websocket_pages/trade/defaults.js","webpack:///./src/javascript/binary/websocket_pages/trade/duration.js","webpack:///./src/javascript/binary/websocket_pages/trade/event.js","webpack:///./src/javascript/binary/websocket_pages/trade/message.js","webpack:///./src/javascript/binary/websocket_pages/trade/price.js","webpack:///./src/javascript/binary/websocket_pages/trade/process.js","webpack:///./src/javascript/binary/websocket_pages/trade/purchase.js","webpack:///./src/javascript/binary/websocket_pages/trade/starttime.js","webpack:///./src/javascript/binary/websocket_pages/trade/symbols.js","webpack:///./src/javascript/binary/websocket_pages/trade/tick.js","webpack:///./src/javascript/binary/websocket_pages/trade/tick_trade.js","webpack:///./src/javascript/binary/websocket_pages/trade/tradepage.js","webpack:///./src/javascript/binary/websocket_pages/user/account/authenticate.js","webpack:///./src/javascript/binary/websocket_pages/user/account/change_password.js","webpack:///./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.data.js","webpack:///./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.init.js","webpack:///./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer.js","webpack:///./src/javascript/binary/websocket_pages/user/account/portfolio/portfolio.init.js","webpack:///./src/javascript/binary/websocket_pages/user/account/portfolio.js","webpack:///./src/javascript/binary/websocket_pages/user/account/profit_table/profit_table.data.js","webpack:///./src/javascript/binary/websocket_pages/user/account/profit_table/profit_table.init.js","webpack:///./src/javascript/binary/websocket_pages/user/account/profit_table/profit_table.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/account/profit_table.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/api_token.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.data.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.init.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/financial_assessment.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/iphistory/iphistory.data.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/iphistory/iphistory.init.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/iphistory/iphistory.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/iphistory.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/limits/limits.init.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/limits/limits.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/limits.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/metatrader/metatrader.data.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/metatrader/metatrader.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/metatrader.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/self_exclusion.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/settings_detailsws.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings/settings_securityws.js","webpack:///./src/javascript/binary/websocket_pages/user/account/settings.js","webpack:///./src/javascript/binary/websocket_pages/user/account/statement/statement.data.js","webpack:///./src/javascript/binary/websocket_pages/user/account/statement/statement.init.js","webpack:///./src/javascript/binary/websocket_pages/user/account/statement/statement.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/account/statement.js","webpack:///./src/javascript/binary/websocket_pages/user/account/top_up_virtualws.js","webpack:///./src/javascript/binary/websocket_pages/user/lost_password/lost_password.init.js","webpack:///./src/javascript/binary/websocket_pages/user/lost_password.js","webpack:///./src/javascript/binary/websocket_pages/user/my_accountws.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/financial_acc_opening/financial_acc_opening.data.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/financial_acc_opening/financial_acc_opening.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/financial_acc_opening.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/japan_acc_opening/japan_acc_opening.data.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/japan_acc_opening/japan_acc_opening.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/japan_acc_opening.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/real_acc_opening/real_acc_opening.data.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/real_acc_opening/real_acc_opening.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/real_acc_opening.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/virtual_acc_opening/virtual_acc_opening.data.js","webpack:///./src/javascript/binary/websocket_pages/user/new_account/virtual_acc_opening.js","webpack:///./src/javascript/binary/websocket_pages/user/reality_check/reality_check.data.js","webpack:///./src/javascript/binary/websocket_pages/user/reality_check/reality_check.init.js","webpack:///./src/javascript/binary/websocket_pages/user/reality_check/reality_check.ui.js","webpack:///./src/javascript/binary/websocket_pages/user/reset_password/reset_password.init.js","webpack:///./src/javascript/binary/websocket_pages/user/reset_password.js","webpack:///./src/javascript/binary/websocket_pages/user/tnc_approval.js","webpack:///./src/javascript/binary/websocket_pages/user/verify_email.js","webpack:///./src/javascript/binary/websocket_pages/user/view_popup/view_popup_ui.js","webpack:///./src/javascript/binary/websocket_pages/user/view_popup/view_popupws.js","webpack:///./src/javascript/binary/websocket_pages/user/viewbalance/viewbalance.init.js","webpack:///./src/javascript/binary/websocket_pages/user/viewbalance/viewbalance.ui.js","webpack:///./src/javascript/binary/websocket_pages/websocket_pjax.js","webpack:///./src/javascript/binary_japan/knowledge_test/knowledge_test.data.js","webpack:///./src/javascript/binary_japan/knowledge_test/knowledge_test.init.js","webpack:///./src/javascript/binary_japan/knowledge_test/knowledge_test.ui.js","webpack:///./src/javascript/binary_japan/knowledge_test.js","webpack:///./src/javascript/binary_japan/trade_japan/JPTradePage.js","webpack:///./src/javascript/binary_japan/trade_japan/portfolio.js","webpack:///./src/javascript/binary_japan/trade_japan/pricing_details.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AC3SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA8B,2CAA2C;AACzE;AACA;AACA,6DAA4D;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,sBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,mDAAkD,IAAI;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;;AAEA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,aAAY;AACZ,eAAc,eAAe,EAAE;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;;;;;;;AChCA;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,gHAA+G;AAC/G,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS,WAAW;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+HAA8H;AAC9H;AACA,uBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AClFA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACnCA,kD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrIA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,0BAAyB,2BAA2B;AACpD;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AClKA;AACA;;AAEA;AACA;;AAEA;;AAEA,4CAA2C;;AAE3C;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACjBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,oBAAoB;AAChD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kCAAiC,wCAAwC;AACzE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAiC;AACjC,kEAAiE;AACjE,wBAAuB;AACvB,+CAA8C,2BAA2B;AACzE;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,gCAA+B,oBAAoB;AACnD;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,4BAA2B,cAAc;AACzC,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;AACA,mCAAkC,gCAAgC;AAClE,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA,mCAAkC,oBAAoB,IAAI;AAC1D;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,iCAAgC,gCAAgC,EAAE;AAClE;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,+CAA8C,iBAAiB,EAAE;AACjE;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET,iBAAgB;AAChB,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,sBAAqB,0BAA0B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA,MAAK;AACL;AACA;AACA;AACA,gCAA+B,0BAA0B,mCAAmC;AAC5F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAA+B,8BAA8B;AAC7D,gCAA+B,8BAA8B;AAC7D;AACA;AACA,oCAAmC,sCAAsC;AACzE,oCAAmC,sCAAsC;AACzE,oCAAmC,kBAAkB;AACrD;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,+DAA8D,mBAAmB,4BAA4B;;AAE7G;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAgF,yBAAyB;AACzG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA,gCAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,kCAAiC,uBAAuB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,qDAAqD;AACnF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,mCAAkC,IAAI;AACtC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,EAAE;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA,MAAK;AACL,oCAAmC;AACnC;AACA,yFAAwF;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,qEAAoE,qBAAqB;AACzF,iFAAgF,qBAAqB;AACrG,+DAA8D,mBAAmB;AACjF;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtnCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;;AAEA,uC;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,2BAA2B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,sCAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE;AACzE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,8BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,EAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL,EAAC;;AAED;AACA;AACA;AACA,gCAA+B,qBAAqB,EAAE;AACtD,2BAA0B,UAAU,EAAE;AACtC,0BAAyB,aAAa;AACtC;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpRA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,yBAAwB;AACxB;;AAEA;AACA,oBAAmB;AACnB,uBAAsB;AACtB,oBAAmB;AACnB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACjJD;AACA;AACA;AACA,wCAAuC,gBAAgB;AACvD,8CAA6C,gBAAgB;AAC7D;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA,+BAA8B,iBAAiB;AAC/C,+BAA8B,iBAAiB;AAC/C,8BAA6B,+CAA+C;AAC5E;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACzDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,sEAAsE;AACjH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACnCA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB;AACA;AACA;AACA,iDAAgD,yBAAyB;AACzE,4CAA2C,kDAAkD;AAC7F;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,SAAS;AACxB,gBAAe,yBAAyB;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET,yBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,yBAAwB,kBAAkB;AAC1C;AACA;AACA,iCAAgC,gCAAgC;AAChE,iCAAgC,gCAAgC;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACvIA;AACA,gCAA+B,6BAA6B;AAC5D;;AAEA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;;AAE5B;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oDAAmD;;AAEnD;AACA;AACA;AACA,+BAA8B,8CAA8C;AAC5E,cAAa;AACb,+BAA8B,mHAAmH;AACjJ,cAAa;AACb,+BAA8B,uBAAuB;AACrD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,4BAA2B,YAAY;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iDAAgD,4EAA4E;AAC5H;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA,oBAAmB;AACnB,gBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,gDAA+C,MAAM;AACrD,sCAAqC,MAAM;AAC3C,oCAAmC,MAAM;AACzC,mCAAkC,MAAM;AACxC,0CAAyC;AACzC,0BAAyB;AACzB;AACA,iDAAgD,MAAM;AACtD,gCAA+B;AAC/B,0BAAyB;AACzB;AACA;AACA,0BAAyB;AACzB;AACA,mDAAkD,MAAM;AACxD,gCAA+B,MAAM;AACrC,sCAAqC,MAAM;AAC3C,qCAAoC,MAAM;AAC1C,uCAAsC,MAAM;AAC5C,iCAAgC,MAAM;AACtC,0CAAyC;AACzC;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,aAAa;AACvC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,0BAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,gDAAgD;AACjF;AACA;AACA,YAAW;AACX;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,8BAA6B,uCAAuC;AACpE;AACA;AACA,QAAO;AACP,0DAAyD,wEAAwE;AACjI;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,oBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,iBAAiB;AAClD;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB,qCAAqC;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAiC;AACjC,0CAAyC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA,wBAAuB,uBAAuB;AAC9C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,EAAC;;AAED;AACA,QAAO,4BAA4B;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrmBA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA,sFAAqF,mBAAmB;AACxG;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB,iBAAgB;;AAEhB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB,0BAA0B;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AClLA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA,YAAW;AACX;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACtEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,kBAAkB;AAC/D;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACrEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,qEAAoE;AACpE;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iCAAgC;AAChC;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oCAAoC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK,OAAO;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,+BAA+B,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,+BAA+B,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,wBAAwB,KAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACpIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA,mDAAkD,KAAK;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6CAA4C,KAAK;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,oBAAoB,6BAA6B;AACjE;;AAEA;AACA,iBAAgB,oBAAoB,kCAAkC;AACtE;;AAEA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iEAAgE,KAAK;AACrE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC5HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAoB;AACpB;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,wBAAuB;AACvB;AACA;AACA,wBAAuB;AACvB;AACA;AACA,gBAAe;AACf;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,gBAAe;AACf,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;;;;;;ACzHA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;ACjFA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAsB,qEAAqE;AAC3F,uBAAsB,qEAAqE;AAC3F;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;AClFA;AACA;;AAEA;AACA,4BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACzCA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA,4BAA2B,oBAAoB;AAC/C,8BAA6B;AAC7B;AACA,EAAC;;AAED;AACA;AACA,4BAA2B,sBAAsB;AACjD,8BAA6B;AAC7B;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;AClKA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAAyC,WAAW;AACpD;AACA;AACA;AACA,cAAa,OAAO,GAAG,0CAA0C;AACjE,8CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,0BAA0B,mBAAmB,KAAK;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C,wBAAwB,EAAE;AACzE,oDAAmD,2CAA2C,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4BAA2B,gDAAgD;;AAE3E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb,UAAS;;AAET;;AAEA;AACA;;AAEA,+BAA8B,yBAAyB;;AAEvD,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,yDAAwD;AACxD;AACA;AACA,sBAAqB;;AAErB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,kBAAiB;;AAEjB,+BAA8B,mBAAmB;AACjD;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAmC,yBAAyB;AAC5D;AACA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAoC,kFAAkF;AACtH,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP,4BAA2B,0CAA0C,yBAAyB;AAC9F;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,oDAAoD;AAC7E,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,0BAAyB,8CAA8C;AACvE,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,0BAAyB,wBAAwB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,4CAA2C,8DAA8D;AACzG;AACA;AACA,wBAAuB;AACvB;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA;AACA,oBAAmB;AACnB;AACA,oBAAmB;AACnB;AACA,oBAAmB;AACnB;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb,kCAAiC,0CAA0C,2BAA2B;AACtG,cAAa;AACb,kCAAiC,wBAAwB;AACzD;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC5KA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sCAAqC,sBAAsB;AAC3D,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA,2CAA0C,iCAAiC;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAsC,gBAAgB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACrKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAsC;AACtC;AACA;AACA;;AAEA;;AAEA;AACA,8BAA6B,+BAA+B;AAC5D,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,8DAA8D;AAC7F;AACA,2BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA0C,iCAAiC;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAiC,IAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,+CAA8C,gCAAgC;AAC9E;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP,4BAA2B,8CAA8C;AACzE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,cAAa;AACb,kCAAiC,0CAA0C,wCAAwC;AACnH;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACpUA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA,4BAA2B,0BAA0B;AACrD,4BAA2B,iBAAiB;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACvCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAiC,uBAAuB;AACxD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,aAAa;AACpD,2DAA0D,0EAA0E;AACpI;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAsB,+BAA+B;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,4CAA2C,iBAAiB;AAC5D,iCAAgC,8HAA8H;AAC9J;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzHA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B,uBAAuB;AACjD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACjFD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,gCAA+B,0BAA0B;AACzD;;AAEA,4BAA2B,iCAAiC;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B,mEAAmE;AAC7F;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,+BAA8B,sCAAsC;AACpE;;AAEA,uBAAsB,oBAAoB;AAC1C;;AAEA;AACA;AACA,yDAAwD,wDAAwD;AAChH;;AAEA;AACA,wCAAuC,UAAU;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAiC,uBAAuB;AACxD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4BAA2B,qBAAqB;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA2B,iBAAiB;AAC5C,iCAAgC,oFAAoF;AACpH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACjKA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB;AACnB;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mDAAkD,oBAAoB;AACtE,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAqF;AACrF,oFAAmF;AACnF,wFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,wBAAwB;AAC1D,iEAAgE,0CAA0C;AAC1G,mCAAkC,gBAAgB;AAClD;AACA,uCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,8BAA8B;AACrF;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA,6BAA4B,0CAA0C;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,2BAA0B,4BAA4B;AACtD,oBAAmB;AACnB;AACA;AACA;AACA,8BAA6B,+CAA+C;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA6B,qBAAqB,EAAE;AACpD;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACzVA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wDAAuD,SAAS;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;AC/OA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kGAAiG;AACjG;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,wCAAuC,yBAAyB,EAAE;AAClE;AACA;AACA,UAAS;AACT;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,gBAAe,QAAQ;AACvB,kBAAiB,cAAc;AAC/B,oBAAmB,cAAc;AACjC;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,yBAAyB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA,yCAAwC,mBAAmB;AAC3D;AACA,UAAS;AACT,0CAAyC;AACzC;AACA;AACA,mCAAkC,4BAA4B;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,2CAA0C;AAC1C;AACA,qCAAoC;AACpC;;AAEA,kDAAiD;AACjD,uDAAsD;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAwC,oBAAoB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA,cAAa;AACb;AACA,4DAA2D;AAC3D,kBAAiB;AACjB,4DAA2D;AAC3D;AACA;AACA;;AAEA;AACA,0CAAyC;AACzC;AACA;AACA,cAAa;AACb;AACA,4DAA2D;AAC3D,kBAAiB;AACjB,4DAA2D;AAC3D;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,oCAAmC,0BAA0B;AAC7D;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACxRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2DAA0D,iBAAiB,SAAS,WAAW,SAAS,kBAAkB,mBAAmB,qBAAqB;AAClK,0DAAyD,qBAAqB,wBAAwB,kBAAkB,UAAU,WAAW;AAC7I,yDAAwD,qBAAqB,wBAAwB,kBAAkB,WAAW,YAAY;AAC9I,0DAAyD,iBAAiB,SAAS,WAAW,SAAS,kBAAkB,oBAAoB,qBAAqB;AAClK,mDAAkD,kBAAkB,oBAAoB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA,UAAS;AACT,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,mBAAkB;AAClB,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,8BAA8B,eAAe;AAChE,UAAS;AACT;AACA,oBAAmB,6BAA6B;AAChD;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT,qBAAoB,oCAAoC;AACxD,kBAAiB,eAAe;AAChC,qBAAoB,gBAAgB;AACpC;AACA;AACA,sBAAqB;AACrB,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT,yBAAwB,iBAAiB;AACzC;;AAEA;AACA;AACA,gBAAe;AACf,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oEAAoE;AACvF;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,sBAAqB,8CAA8C;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,0CAA0C;AAC5D;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,sBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,mBAAkB,4BAA4B;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B,iCAAiC;AAC3D;AACA,2CAA0C,SAAS,0EAA0E,QAAQ,mEAAmE;AACxM;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA8B,wGAAwG;AACtI,QAAO;AACP,+BAA8B,4HAA4H;AAC1J,+BAA8B,wHAAwH;AACtJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAA+C,QAAQ;AACvD;AACA,2CAA0C,SAAS,4EAA4E,QAAQ,qEAAqE;AAC5M;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAiD;AACjD,+BAA8B;AAC9B,WAAU;AACV;AACA,kDAAiD,QAAQ;AACzD;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAiD;AACjD,WAAU;AACV;AACA,4CAA2C,QAAQ;AACnD;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA2B,iBAAiB,EAAE;AAC9C,mCAAkC,mBAAmB,EAAE;AACvD,mCAAkC,mBAAmB,EAAE;AACvD,oCAAmC,mBAAmB,EAAE;AACxD,sCAAqC,oBAAoB,EAAE;AAC3D,uCAAsC,qBAAqB,EAAE;AAC7D,WAAU,qBAAqB,EAAE;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAc,2BAA2B;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACnoBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA6B,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,iBAAiB;AAC1C;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA,qBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC,yBAAwB,+BAA+B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,wCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAgD,SAAS;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAA+E,6BAA6B;AAC5G;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+DAA8D,YAAY,kBAAkB,wBAAwB;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD,EAAE;AACzD;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACp5BA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;AC9TA;AACA;AACA,0DAAyD,sBAAsB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA4B;AAC5B,uBAAsB;AACtB,wBAAuB;AACvB,sBAAqB;AACrB,0BAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAmC;AACnC;;AAEA;;AAEA,uBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA2B,4BAA4B;AACvD;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAwB,EAAE;AAC1B;AACA,0BAAyB,EAAE;AAC3B;AACA,oCAAmC,EAAE;AACrC;AACA,8BAA6B,EAAE;AAC/B;AACA,+BAA8B,EAAE;AAChC;AACA,6BAA4B,EAAE;AAC9B;AACA,iCAAgC,EAAE;AAClC;AACA,yBAAwB,EAAE;AAC1B;AACA,4BAA2B,EAAE;AAC7B;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;ACrMA;AACA;AACA;AACA,6BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,qBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAwB,yCAAyC;AACjE;AACA;AACA,iCAAgC,qBAAqB;AACrD;AACA;AACA,yCAAwC,kBAAkB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAgC,6BAA6B,mCAAmC,oBAAoB,EAAE;AACtH,6BAA4B,oBAAoB,EAAE;AAClD;AACA,mCAAkC,sBAAsB,EAAE;AAC1D,oCAAmC,8BAA8B,EAAE;AACnE,kCAAiC,4BAA4B,EAAE;AAC/D;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8DAA6D,SAAS;AACtE;AACA;AACA,0BAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA,wEAAuE;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0DAAyD,SAAS;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,sCAAqC,SAAS,wDAAwD;AACtG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACjhBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;AC5RA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAwF,8BAA8B;AACtH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5XA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8DAA6D,YAAY;AACzE;;AAEA,mCAAkC,OAAO;AACzC,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;ACtPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,wD;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,+BAA8B,kBAAkB;AAChD;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;ACzHA;AACA,gFAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0BAAyB,uBAAuB,uBAAuB;;AAEvE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAkC,+CAA+C,EAAE;AACnF,mCAAkC,yBAAyB,EAAE;AAC7D,mCAAkC,sBAAsB,EAAE;AAC1D,wCAAuC,yBAAyB,EAAE;AAClE,mCAAkC;AAClC;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,4BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AClIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,uCAAuC;AAClE;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,4BAA2B,uCAAuC;AAClE;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,4BAA2B,mCAAmC;AAC9D;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,qDAAqD;AAClF;AACA,kBAAiB;AACjB,2BAA0B,eAAe;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB;AACA,6BAA4B,oCAAoC;AAChE,0BAAyB,eAAe;AACxC,cAAa;AACb;AACA,sBAAqB;AACrB,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B,0DAA0D;AACtF;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,8BAA6B,mCAAmC;AAChE;AACA;AACA;AACA,2FAA0F;;AAE1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,+EAA+E;AACtG;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;;AAEA;AACA,wBAAuB;AACvB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA,IAAG;AACH,sBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACxYA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB,uBAAuB;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA,kBAAiB;AACjB,oCAAmC,wBAAwB;AAC3D;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;AC1CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;;AAEA,wBAAuB;AACvB,wBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACpBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC7LA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC/EA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACtBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,cAAc;AACzC;AACA,4BAA2B,iCAAiC;AAC5D,4BAA2B,gBAAgB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;;AAEA;AACA,gCAA+B,0CAA0C;AACzE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,gCAA+B,eAAe;AAC9C,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAA+B,kBAAkB;AACjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,4BAA2B,uCAAuC;AAClE,4BAA2B,4BAA4B;AACvD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;;;;;;;ACjNA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAAyC;AACzC;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA4C,qCAAqC,EAAE;AACnF,2CAA0C,oCAAoC,EAAE;AAChF;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,gBAAgB;AAC3C;;AAEA;AACA,oBAAmB;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAwC,iBAAiB;AACzD,6CAA4C,WAAW;AACvD,gDAA+C,8FAA8F;AAC7I;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAwC,+CAA+C;AACvF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC5HA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClCD;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAsB,oBAAoB,0BAA0B,GAAG;AACvE,uBAAsB,oBAAoB,6BAA6B,GAAG;;AAE1E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,4BAA2B,aAAa;AACxC;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,sBAAsB,EAAE;AACrD;AACA;AACA;AACA,8BAA6B,wBAAwB,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAgD,yBAAyB,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,uCAAsC,yDAAyD;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,2BAA0B,gBAAgB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACtOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA2B,cAAc;AACzC;;AAEA;AACA;AACA,4BAA2B,8BAA8B;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC1CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,yBAAyB,EAAE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,eAAe;AAC9C;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,6BAA6B;AACxD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,UAAS;AACT,kCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uCAAsC,cAAc;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAAyC,kBAAkB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,2CAA0C,cAAc;AACxD;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACrKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,iDAAiD;AAC9D,cAAa,sDAAsD;AACnE,cAAa,0DAA0D;AACvE,cAAa,+DAA+D;AAC5E,cAAa,mDAAmD;AAChE,cAAa,oDAAoD;AACjE,cAAa,iDAAiD;AAC9D,cAAa,6CAA6C,oBAAoB;AAC9E,cAAa,oDAAoD;AACjE;AACA,wBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA2B,2BAA2B;AACtD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC/BA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD,yBAAyB,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,2FAA0F;AAC1F;;AAEA,sEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,sFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACtEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6FAA4F,kCAAkC;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,cAAa;;AAEb,gCAA+B,cAAc;AAC7C,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACtCA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA,4BAA2B,oBAAoB;AAC/C;;AAEA;AACA;AACA,gCAA+B,sCAAsC;AACrE;AACA;;AAEA;AACA;AACA,gCAA+B,8DAA8D;AAC7F;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA2B,wBAAwB;AACnD;;AAEA;AACA;AACA;AACA;AACA,gCAA+B,6BAA6B;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACnGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iHAAgH;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,sBAAqB;AACrB,kBAAiB;;AAEjB;AACA,4FAA2F,mCAAmC;AAC9H;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;;AAErB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,UAAS,qCAAqC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yDAAwD,gCAAgC;AACxF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC5bA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC9DA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,sBAAsB;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,yEAAwE;AACxE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kEAAiE;AACjE;AACA;AACA;AACA;AACA,uCAAsC,8BAA8B,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC3VA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,4BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,wCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,0CAA0C,6BAA6B;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,+CAA8C,qCAAqC;AACnF,cAAa;AACb,UAAS;AACT,+CAA8C,yEAAyE;AACvH;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,8BAA6B,wBAAwB,EAAE;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB;AACnB;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACtSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAsC,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzLA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC9CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,gBAAgB;AAC3C;;AAEA;AACA,oBAAmB;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAwC,iBAAiB;AACzD,6CAA4C,WAAW;AACvD,gDAA+C,8FAA8F;AAC7I;AACA;AACA;AACA,cAAa;AACb,wFAAuF,yBAAyB;AAChH;AACA;AACA;AACA;;AAEA;AACA,qCAAoC,+CAA+C;AACnF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC9IA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,+HAA8H,2BAA2B;AACzJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACtDD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gCAA+B,qBAAqB;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC7FA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,gCAA+B,iDAAiD;AAChF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,4BAA2B,wBAAwB;AACnD,4BAA2B,wBAAwB;AACnD,4BAA2B,wBAAwB;;AAEnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2CAA0C,kCAAkC;AAC5E,YAAW;AACX,kEAAiE,kCAAkC;AACnG;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA,oCAAmC,8FAA8F;AACjI;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA,2CAA0C,cAAc;;AAExD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACjMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC3DA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC9IA;AACA;AACA;AACA;AACA,kBAAiB,oCAAoC;AACrD;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,0BAAyB,iBAAiB;AAC1C,0BAAyB,eAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,QAAO;AACP;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzDA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA6B,QAAQ;AACrC;AACA;AACA;AACA;;AAEA,8BAA6B,QAAQ;AACrC;AACA;AACA;AACA;;AAEA;;AAEA,eAAc,EAAE,IAAI,EAAE;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK,yBAAyB,KAAK;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,eAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,QAAO;AACP;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACjCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,uCAAuC;AAClE;AACA,0BAAyB,eAAe;AACxC,0BAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,QAAO;AACP;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACnCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;;AAEA;AACA;AACA;AACA,4BAA2B,kBAAkB;;AAE7C;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;AC1FA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA2B,iBAAiB;AAC5C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACvHA;AACA;AACA;AACA,mBAAkB;AAClB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B,sBAAsB;AACjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA2B,cAAc;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,yCAAwC;;AAExC;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AClIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA,gCAA+B,UAAU;AACzC,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzHA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA,sDAAqD,oBAAoB;AACzE;AACA;AACA,UAAS,gCAAgC;AACzC;AACA;AACA;AACA,2CAA0C,oBAAoB;AAC9D;AACA,cAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA,4BAA2B,uBAAuB;AAClD,4BAA2B,uBAAuB;;AAElD;AACA;AACA;AACA,gCAA+B,qBAAqB;AACpD,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,2BAA0B,iBAAiB;AAC3C;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,wBAAwB;AAC1C;AACA;;AAEA;AACA,4BAA2B,mBAAmB;AAC9C,4BAA2B,6CAA6C;AACxE;AACA;;AAEA;AACA;AACA;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,+FAA+F;AAC1I;AACA;AACA,8DAA6D,aAAa,EAAE;AAC5E;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,wCAAuC,aAAa;AACpD;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,wCAAuC,aAAa;AACpD;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,4BAA4B;AAC7E,uDAAsD,6BAA6B;AACnF;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,gDAA+C,YAAY,sBAAsB;AACjF;AACA,kCAAiC,YAAY,QAAQ;AACrD;AACA,2DAA0D,YAAY,iCAAiC;AACvG,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C;AAC1C;AACA,yBAAwB,gBAAgB;AACxC,UAAS;AACT;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iEAAgE,+CAA+C;AAC/G;AACA;AACA,yGAAwG,qEAAqE;AAC7K;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAwC,sGAAsG;;AAE9I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB,cAAc;AACvC,sCAAqC,mBAAmB;AACxD,sCAAqC,iDAAiD;AACtF,sCAAqC,oCAAoC;AACzE,sCAAqC,gDAAgD;AACrF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT,iEAAgE,gBAAgB;AAChF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+NAA8N;AAC9N;;AAEA;AACA;AACA;AACA,2BAA0B,qBAAqB;AAC/C;AACA;AACA;AACA,2BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mEAAkE,IAAI,iBAAiB;AACvF;AACA;AACA;;AAEA;AACA,qDAAoD;AACpD,qDAAoD;AACpD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8DAA6D;AAC7D,2CAA0C,cAAc;;AAExD;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA,sBAAqB,0DAA0D;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAqD,cAAc;;AAEnE;;AAEA,yCAAwC,yEAAyE;AACjH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAwF;AACxF;AACA;AACA;AACA;;AAEA;AACA,0GAAyG,kHAAkH;AAC3N;;AAEA;AACA;AACA,kCAAiC,iDAAiD;;AAElF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAkC,qFAAqF;AACvH;AACA,0BAAyB,cAAc;AACvC,sCAAqC,8CAA8C;AACnF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,mCAAmC;AAClE,iDAAgD,+DAA+D;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA,qBAAoB,mCAAmC;AACvD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,gDAAgD;AACpE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qOAAoO;AACpO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AChqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACZA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC5BA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW,4OAA4O;AACnR;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW,2IAA2I;AAClL;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;;AAEb;AACA;AACA;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA,6BAA4B,WAAW;AACvC;AACA,cAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA,yBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B,qDAAqD;AAChF;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AChhBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,WAAW;AAC/B,qBAAoB,WAAW;;AAE/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mEAAkE,WAAW;AAC7E;AACA;AACA;AACA;AACA;AACA,yCAAwC,eAAe;;AAEvD;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,yBAAyB;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAAsD,WAAW;AACjE;AACA;;AAEA;AACA;AACA,0DAAyD,WAAW;AACpE;AACA;AACA,UAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAc,WAAW;;AAEzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAoB,WAAW;AAC/B;AACA;;AAEA;AACA;AACA,yBAAwB,QAAQ;AAChC,8BAA6B,QAAQ;AACrC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kDAAiD,eAAe;;AAEhE,wEAAuE;AACvE;AACA,sBAAqB;AACrB,uCAAsC,WAAW;AACjD;AACA;AACA;AACA,UAAS;;AAET,4BAA2B,+BAA+B,sBAAsB;AAChF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACtMA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,gDAA+C,kDAAkD;AACjG;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,iDAAgD,oDAAoD;AACpG;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4CAA2C,kCAAkC;AAC7E;AACA,2CAA0C,kBAAkB;AAC5D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAiD,6CAA6C;AAC9F;;AAEA,8CAA6C,qCAAqC;AAClF;;AAEA,+CAA8C,uCAAuC;AACrF;;AAEA;AACA;AACA;AACA;;AAEA,qDAAoD,qBAAqB;;AAEzE;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;;AAEA,kDAAiD,mBAAmB;AACpE;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,qBAAoB,WAAW;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;;AAEA;AACA;AACA;AACA,qGAAoG,sBAAsB,WAAW,sBAAsB;AAC3J;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;;;;;;ACTA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,2BAA0B,sBAAsB,EAAE;;AAElD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACvDA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;;AAEA;;AAEA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA","file":"binary_pack.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1dbc3e4ee43de3d8b8e1\n **/","var config = require('./config');\nvar pjax = require('./binary/base/pjax');\n\nrequire('./binary/static_pages/endpoint');\nvar logged_in = require('./binary/base/logged_in');\nvar login = require('./binary/base/login');\nvar markets = require('./binary/base/markets');\nvar menu_content = require('./binary/base/menu_content');\nvar onerror = require('./binary/base/onerror');\nvar page = require('./binary/base/page');\nvar storage = require('./binary/base/storage');\nvar utility = require('./binary/base/utility');\nvar base = require('./binary/base');\nvar active_symbols = require('./binary/common_functions/active_symbols');\nvar button = require('./binary/common_functions/attach_dom/button');\nvar flextable = require('./binary/common_functions/attach_dom/flextable');\nvar password_strength_meter = require('./binary/common_functions/attach_dom/password_strength_meter');\nvar table = require('./binary/common_functions/attach_dom/table');\nvar common_data = require('./binary/common_functions/common_data');\n// var compatibility = require('./binary/common_functions/compatibility');\nvar currency_to_symbol = require('./binary/common_functions/currency_to_symbol');\nvar event_handler = require('./binary/common_functions/event_handler');\nvar frontend = require('./binary/common_functions/frontend');\nvar get_app_details = require('./binary/common_functions/get_app_details');\nvar guide = require('./binary/common_functions/guide');\nvar passwordmeter = require('./binary/common_functions/passwordmeter');\nvar risk_classification = require('./binary/common_functions/risk_classification');\nvar session_duration_limit = require('./binary/common_functions/session_duration_limit');\nvar string_util = require('./binary/common_functions/string_util');\nvar traffic_source = require('./binary/common_functions/traffic_source');\nvar valid_account_opening = require('./binary/common_functions/valid_account_opening');\nvar validation = require('./binary/common_functions/validation');\nvar validation_v2 = require('./binary/common_functions/validation_v2');\nvar selected_dates = require('./binary/components/date_picker/selected_dates');\nvar date_picker = require('./binary/components/date_picker');\nvar time_picker = require('./binary/components/time_picker');\nvar trackjs_onerror = require('./binary/components/trackjs_onerror');\nvar get_started_jp = require('./binary/static_pages/get_started_jp');\nvar job_details = require('./binary/static_pages/job_details');\nvar static_pjax = require('./binary/static_pages/static_pjax');\nvar validator = require('./binary/validator');\nvar account_transferws = require('./binary/websocket_pages/cashier/account_transferws');\nvar cashier = require('./binary/websocket_pages/cashier/cashier');\nvar deposit_withdraw_ws = require('./binary/websocket_pages/cashier/deposit_withdraw_ws');\nvar payment_agent_listws = require('./binary/websocket_pages/cashier/payment_agent_listws');\nvar payment_agent_withdrawws = require('./binary/websocket_pages/cashier/payment_agent_withdrawws');\nvar asset_indexws_data = require('./binary/websocket_pages/resources/asset_index/asset_indexws.data');\nvar asset_indexws_ui = require('./binary/websocket_pages/resources/asset_index/asset_indexws.ui');\nvar asset_indexws = require('./binary/websocket_pages/resources/asset_indexws');\nvar market_timesws_data = require('./binary/websocket_pages/resources/market_times/market_timesws.data');\nvar market_timesws_ui = require('./binary/websocket_pages/resources/market_times/market_timesws.ui');\nvar market_timesws = require('./binary/websocket_pages/resources/market_timesws');\nvar socket = require('./binary/websocket_pages/socket');\nvar analysis = require('./binary/websocket_pages/trade/analysis');\nvar barriers = require('./binary/websocket_pages/trade/barriers');\nvar digit_infows = require('./binary/websocket_pages/trade/charts/digit_infows');\nvar highchartws = require('./binary/websocket_pages/trade/charts/highchartws');\nvar common = require('./binary/websocket_pages/trade/common');\nvar content = require('./binary/websocket_pages/trade/content');\nvar contract = require('./binary/websocket_pages/trade/contract');\nvar currency = require('./binary/websocket_pages/trade/currency');\nvar defaults = require('./binary/websocket_pages/trade/defaults');\nvar duration = require('./binary/websocket_pages/trade/duration');\nvar event_ = require('./binary/websocket_pages/trade/event');\nvar message = require('./binary/websocket_pages/trade/message');\nvar price = require('./binary/websocket_pages/trade/price');\nvar process_ = require('./binary/websocket_pages/trade/process');\nvar purchase = require('./binary/websocket_pages/trade/purchase');\nvar starttime = require('./binary/websocket_pages/trade/starttime');\nvar symbols = require('./binary/websocket_pages/trade/symbols');\nvar tick = require('./binary/websocket_pages/trade/tick');\nvar tick_trade = require('./binary/websocket_pages/trade/tick_trade');\nvar tradepage = require('./binary/websocket_pages/trade/tradepage');\nvar authenticate = require('./binary/websocket_pages/user/account/authenticate');\nvar change_password = require('./binary/websocket_pages/user/account/change_password');\nvar payment_agent_transfer_data = require('./binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.data');\nvar payment_agent_transfer_init = require('./binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.init');\nvar payment_agent_transfer_ui = require('./binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.ui');\nvar payment_agent_transfer = require('./binary/websocket_pages/user/account/payment_agent_transfer');\nvar portfolio_init = require('./binary/websocket_pages/user/account/portfolio/portfolio.init');\nvar portfolio = require('./binary/websocket_pages/user/account/portfolio');\nvar profits_table_data = require('./binary/websocket_pages/user/account/profit_table/profit_table.data');\nvar profit_table_init = require('./binary/websocket_pages/user/account/profit_table/profit_table.init');\nvar profit_table_ui = require('./binary/websocket_pages/user/account/profit_table/profit_table.ui');\nvar profit_table = require('./binary/websocket_pages/user/account/profit_table');\nvar api_token = require('./binary/websocket_pages/user/account/settings/api_token');\nvar authorised_apps_data = require('./binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.data');\nvar authorised_apps_init = require('./binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.init');\nvar authorised_apps_ui = require('./binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.ui');\nvar authorised_apps = require('./binary/websocket_pages/user/account/settings/authorised_apps');\nvar financial_assessment = require('./binary/websocket_pages/user/account/settings/financial_assessment');\nvar iphistory_data = require('./binary/websocket_pages/user/account/settings/iphistory/iphistory.data');\nvar iphistory_init = require('./binary/websocket_pages/user/account/settings/iphistory/iphistory.init');\nvar iphistory_ui = require('./binary/websocket_pages/user/account/settings/iphistory/iphistory.ui');\nvar iphistory = require('./binary/websocket_pages/user/account/settings/iphistory');\nvar limits_init = require('./binary/websocket_pages/user/account/settings/limits/limits.init');\nvar limits_ui = require('./binary/websocket_pages/user/account/settings/limits/limits.ui');\nvar limits = require('./binary/websocket_pages/user/account/settings/limits');\nvar metatrader_data = require('./binary/websocket_pages/user/account/settings/metatrader/metatrader.data');\nvar metatrader_ui = require('./binary/websocket_pages/user/account/settings/metatrader/metatrader.ui');\nvar metatrader = require('./binary/websocket_pages/user/account/settings/metatrader');\nvar self_exclusion = require('./binary/websocket_pages/user/account/settings/self_exclusion');\nvar settings_detailsws = require('./binary/websocket_pages/user/account/settings/settings_detailsws');\nvar settings_securityws = require('./binary/websocket_pages/user/account/settings/settings_securityws');\nvar settings = require('./binary/websocket_pages/user/account/settings');\nvar statement_data = require('./binary/websocket_pages/user/account/statement/statement.data');\nvar statement_init = require('./binary/websocket_pages/user/account/statement/statement.init');\nvar statement_ui = require('./binary/websocket_pages/user/account/statement/statement.ui');\nvar statement = require('./binary/websocket_pages/user/account/statement');\nvar top_up_virtualws = require('./binary/websocket_pages/user/account/top_up_virtualws');\nvar lost_password_init = require('./binary/websocket_pages/user/lost_password/lost_password.init');\nvar lost_password = require('./binary/websocket_pages/user/lost_password');\nvar my_accountws = require('./binary/websocket_pages/user/my_accountws');\nvar financial_acc_opening_data = require('./binary/websocket_pages/user/new_account/financial_acc_opening/financial_acc_opening.data');\nvar financial_acc_opening_ui = require('./binary/websocket_pages/user/new_account/financial_acc_opening/financial_acc_opening.ui');\nvar financial_acc_opening = require('./binary/websocket_pages/user/new_account/financial_acc_opening');\nvar japan_acc_opening_data = require('./binary/websocket_pages/user/new_account/japan_acc_opening/japan_acc_opening.data');\nvar japan_acc_opening_ui = require('./binary/websocket_pages/user/new_account/japan_acc_opening/japan_acc_opening.ui');\nvar japan_acc_opening = require('./binary/websocket_pages/user/new_account/japan_acc_opening');\nvar real_acc_opening_data = require('./binary/websocket_pages/user/new_account/real_acc_opening/real_acc_opening.data');\nvar real_acc_opening_ui = require('./binary/websocket_pages/user/new_account/real_acc_opening/real_acc_opening.ui');\nvar real_acc_opening = require('./binary/websocket_pages/user/new_account/real_acc_opening');\nvar virtual_acc_opening_data = require('./binary/websocket_pages/user/new_account/virtual_acc_opening/virtual_acc_opening.data');\nvar virtual_acc_opening = require('./binary/websocket_pages/user/new_account/virtual_acc_opening');\nvar reality_check_data = require('./binary/websocket_pages/user/reality_check/reality_check.data');\nvar reality_check_init = require('./binary/websocket_pages/user/reality_check/reality_check.init');\nvar reality_check_ui = require('./binary/websocket_pages/user/reality_check/reality_check.ui');\nvar reset_password_init = require('./binary/websocket_pages/user/reset_password/reset_password.init');\nvar reset_password = require('./binary/websocket_pages/user/reset_password');\nvar tnc_approval = require('./binary/websocket_pages/user/tnc_approval');\nvar verify_email = require('./binary/websocket_pages/user/verify_email');\nvar view_popup_ui = require('./binary/websocket_pages/user/view_popup/view_popup_ui');\nvar view_popupws = require('./binary/websocket_pages/user/view_popup/view_popupws');\nvar viewbalance_init = require('./binary/websocket_pages/user/viewbalance/viewbalance.init');\nvar viewbalance_ui = require('./binary/websocket_pages/user/viewbalance/viewbalance.ui');\nvar websocket_pjax = require('./binary/websocket_pages/websocket_pjax');\nvar knowledge_test_data = require('./binary_japan/knowledge_test/knowledge_test.data');\nvar knowledge_test_init = require('./binary_japan/knowledge_test/knowledge_test.init');\nvar knowledge_test_ui = require('./binary_japan/knowledge_test/knowledge_test.ui');\nvar knowledge_test = require('./binary_japan/knowledge_test');\nvar JPTradePage = require('./binary_japan/trade_japan/JPTradePage');\nvar portfolio_jp = require('./binary_japan/trade_japan/portfolio');\nvar pricing_details = require('./binary_japan/trade_japan/pricing_details');\n\n// TODO: to be remove after webpack finalized\nvar exportAllFunctions = function exportAllFunctions(obj) {\n    for ( var key in obj ) {\n        if ( obj.hasOwnProperty(key) ) {\n            window[key] = obj[key];\n        }\n    }\n};\n\nexportAllFunctions(config);\nexportAllFunctions(pjax);\n\nexportAllFunctions(logged_in);\nexportAllFunctions(login);\nexportAllFunctions(markets);\nexportAllFunctions(menu_content);\nexportAllFunctions(onerror);\nexportAllFunctions(page);\nexportAllFunctions(storage);\nexportAllFunctions(utility);\nexportAllFunctions(base);\nexportAllFunctions(active_symbols);\nexportAllFunctions(button);\nexportAllFunctions(flextable);\nexportAllFunctions(password_strength_meter);\nexportAllFunctions(table);\nexportAllFunctions(common_data);\nexportAllFunctions(currency_to_symbol);\nexportAllFunctions(event_handler);\nexportAllFunctions(frontend);\nexportAllFunctions(get_app_details);\nexportAllFunctions(guide);\nexportAllFunctions(passwordmeter);\nexportAllFunctions(risk_classification);\nexportAllFunctions(session_duration_limit);\nexportAllFunctions(string_util);\nexportAllFunctions(traffic_source);\nexportAllFunctions(valid_account_opening);\nexportAllFunctions(validation);\nexportAllFunctions(validation_v2);\nexportAllFunctions(selected_dates);\nexportAllFunctions(date_picker);\nexportAllFunctions(time_picker);\nexportAllFunctions(trackjs_onerror);\nexportAllFunctions(get_started_jp);\nexportAllFunctions(job_details);\nexportAllFunctions(static_pjax);\nexportAllFunctions(validator);\nexportAllFunctions(account_transferws);\nexportAllFunctions(cashier);\nexportAllFunctions(deposit_withdraw_ws);\nexportAllFunctions(payment_agent_listws);\nexportAllFunctions(payment_agent_withdrawws);\nexportAllFunctions(asset_indexws_data);\nexportAllFunctions(asset_indexws_ui);\nexportAllFunctions(asset_indexws);\nexportAllFunctions(market_timesws_data);\nexportAllFunctions(market_timesws_ui);\nexportAllFunctions(market_timesws);\nexportAllFunctions(socket);\nexportAllFunctions(analysis);\nexportAllFunctions(barriers);\nexportAllFunctions(digit_infows);\nexportAllFunctions(highchartws);\nexportAllFunctions(common);\nexportAllFunctions(content);\nexportAllFunctions(contract);\nexportAllFunctions(currency);\nexportAllFunctions(defaults);\nexportAllFunctions(duration);\nexportAllFunctions(event_);\nexportAllFunctions(message);\nexportAllFunctions(price);\nexportAllFunctions(process_);\nexportAllFunctions(purchase);\nexportAllFunctions(starttime);\nexportAllFunctions(symbols);\nexportAllFunctions(tick);\nexportAllFunctions(tick_trade);\nexportAllFunctions(tradepage);\nexportAllFunctions(authenticate);\nexportAllFunctions(change_password);\nexportAllFunctions(payment_agent_transfer_data);\nexportAllFunctions(payment_agent_transfer_init);\nexportAllFunctions(payment_agent_transfer_ui);\nexportAllFunctions(payment_agent_transfer);\nexportAllFunctions(portfolio_init);\nexportAllFunctions(portfolio);\nexportAllFunctions(profit_table_data);\nexportAllFunctions(profit_table_init);\nexportAllFunctions(profit_table_ui);\nexportAllFunctions(profit_table);\nexportAllFunctions(api_token);\nexportAllFunctions(authorised_apps_data);\nexportAllFunctions(authorised_apps_init);\nexportAllFunctions(authorised_apps_ui);\nexportAllFunctions(authorised_apps);\nexportAllFunctions(financial_assessment);\nexportAllFunctions(iphistory_data);\nexportAllFunctions(iphistory_init);\nexportAllFunctions(iphistory_ui);\nexportAllFunctions(iphistory);\nexportAllFunctions(limits_init);\nexportAllFunctions(limits_ui);\nexportAllFunctions(limits);\nexportAllFunctions(metatrader_data);\nexportAllFunctions(metatrader_ui);\nexportAllFunctions(metatrader);\nexportAllFunctions(self_exclusion);\nexportAllFunctions(settings_detailsws);\nexportAllFunctions(settings_securityws);\nexportAllFunctions(settings);\nexportAllFunctions(statement_data);\nexportAllFunctions(statement_init);\nexportAllFunctions(statement_ui);\nexportAllFunctions(statement);\nexportAllFunctions(top_up_virtualws);\nexportAllFunctions(lost_password_init);\nexportAllFunctions(lost_password);\nexportAllFunctions(my_accountws);\nexportAllFunctions(financial_acc_opening_data);\nexportAllFunctions(financial_acc_opening_ui);\nexportAllFunctions(financial_acc_opening);\nexportAllFunctions(japan_acc_opening_data);\nexportAllFunctions(japan_acc_opening_ui);\nexportAllFunctions(japan_acc_opening);\nexportAllFunctions(real_acc_opening_data);\nexportAllFunctions(real_acc_opening_ui);\nexportAllFunctions(real_acc_opening);\nexportAllFunctions(virtual_acc_opening_data);\nexportAllFunctions(virtual_acc_opening);\nexportAllFunctions(reality_check_data);\nexportAllFunctions(reality_check_init);\nexportAllFunctions(reality_check_ui);\nexportAllFunctions(reset_password_init);\nexportAllFunctions(reset_password);\nexportAllFunctions(tnc_approval);\nexportAllFunctions(verify_email);\nexportAllFunctions(view_popup_ui);\nexportAllFunctions(view_popupws);\nexportAllFunctions(viewbalance_init);\nexportAllFunctions(viewbalance_ui);\nexportAllFunctions(websocket_pjax);\nexportAllFunctions(knowledge_test_data);\nexportAllFunctions(knowledge_test_init);\nexportAllFunctions(knowledge_test_ui);\nexportAllFunctions(knowledge_test);\nexportAllFunctions(JPTradePage);\nexportAllFunctions(portfolio_jp);\nexportAllFunctions(pricing_details);\n\n// module.exports = {\n//     config: config,\n//     pjax: pjax,\n//     exportAllFunctions: exportAllFunctions,\n// };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/*\n * Configuration values needed in js codes\n *\n * NOTE:\n * Please use the following command to avoid accidentally committing personal changes\n * git update-index --assume-unchanged src/javascript/config.js\n *\n */\n\nfunction getAppId() {\n  return localStorage.getItem('config.app_id') ? localStorage.getItem('config.app_id') :\n               /staging\\.binary\\.com/i.test(window.location.hostname) ? '1098' : '1';\n}\n\nfunction getSocketURL() {\n    var server_url = localStorage.getItem('config.server_url');\n    if(!server_url) {\n        var loginid = Cookies.get('loginid'),\n            isReal  = loginid && !/^VRT/.test(loginid),\n            toGreenPercent = {'real': 100, 'virtual': 0, 'logged_out': 0}, // default percentage\n            categoryMap    = ['real', 'virtual', 'logged_out'],\n            randomPercent = Math.random() * 100,\n            percentValues = Cookies.get('connection_setup'); // set by GTM\n\n        // override defaults by cookie values\n        if(percentValues && percentValues.indexOf(',') > 0) {\n            var cookiePercents = percentValues.split(',');\n            categoryMap.map(function(cat, idx) {\n                if(cookiePercents[idx] && !isNaN(cookiePercents[idx])) {\n                    toGreenPercent[cat] = +cookiePercents[idx].trim();\n                }\n            });\n        }\n\n        server_url = (/staging\\.binary\\.com/i.test(window.location.hostname) ? 'www2' :\n                (isReal  ? (randomPercent < toGreenPercent.real       ? 'green' : 'blue') :\n                 loginid ? (randomPercent < toGreenPercent.virtual    ? 'green' : 'blue') :\n                           (randomPercent < toGreenPercent.logged_out ? 'green' : 'blue'))\n            ) + '.binaryws.com';\n    }\n    return 'wss://' + server_url + '/websockets/v3';\n}\n\nmodule.exports = {\n    getAppId: getAppId,\n    getSocketURL: getSocketURL,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/config.js\n ** module id = 1\n ** module chunks = 0\n **/","//For object shape coherence we create named objects to be inserted into the queue.\nvar URLPjaxQueueElement = function(exec_function, url) {\n    this.method = exec_function;\n    if(url) {\n        this.url = new RegExp(url);\n    } else {\n        this.url = /.*/;\n    }\n};\n\nURLPjaxQueueElement.prototype = {\n    fire: function(in_url) {\n        if(this.url.test(in_url)) {\n            this.method();\n        }\n    }\n};\n\nvar IDPjaxQueueElement = function(exec_function, id) {\n    this.method = exec_function;\n    this.sel = '#' + id;\n};\n\nIDPjaxQueueElement.prototype = {\n    fire: function() {\n        if($(this.sel).length > 0) {\n            this.method();\n        }\n    }\n};\n\nvar PjaxExecQueue = function () {\n    this.url_exec_queue = [];\n    this.id_exec_queue = [];\n    this.fired = false;\n    this.content = $('#content');\n};\n\nPjaxExecQueue.prototype = {\n    queue: function (exec_function) {\n        this.url_exec_queue.unshift(new URLPjaxQueueElement(exec_function));\n    },\n    queue_for_url: function (exec_function, url_pattern) {\n        this.url_exec_queue.unshift(new URLPjaxQueueElement(exec_function, url_pattern));\n    },\n    queue_if_id_present: function(exec_function, id) {\n        this.id_exec_queue.unshift(new IDPjaxQueueElement(exec_function, id));\n    },\n    fire: function () {\n        if(!this.fired) {\n            var match_loc = window.location.href;\n            var i = this.url_exec_queue.length;\n            while(i--) {\n                this.url_exec_queue[i].fire(match_loc);\n            }\n\n            i = this.id_exec_queue.length;\n            while(i--) {\n                this.id_exec_queue[i].fire(match_loc);\n            }\n        }\n        this.fired = true;\n    },\n    reset: function() {\n        this.fired = false;\n    },\n    loading: function () {\n        this.reset();\n    },\n    count: function () {\n        return exec_queue.length;\n    },\n    show: function (for_url) {\n        for (var i=0; i < exec_queue.length; i++) {\n            if(for_url) {\n                if(exec_queue[i].url.test(for_url)) {\n                    console.log(\"\" + exec_queue[i].method);\n                }\n            } else {\n                console.log(exec_queue[i].url + \" : \" + exec_queue[i].method);\n            }\n        }\n    }\n};\n\nvar pjax_config_page = function(url, exec_functions) {\n    var functions = exec_functions();\n    if (functions.onLoad) onLoad.queue_for_url(functions.onLoad, url);\n    if (functions.onUnload) onUnload.queue_for_url(functions.onUnload, url);\n};\n\nvar pjax_config = function() {\n    return {\n        'container': 'content',\n        'beforeSend': function() {\n            onLoad.loading();\n            onUnload.fire();\n        },\n        'complete': function() {\n            page.is_loaded_by_pjax = true;\n            onLoad.fire();\n            onUnload.reset();\n        },\n        'error': function(event) {\n            var error_text = SessionStore.get('errors.500');\n            if(error_text) {\n                $('#content').html(error_text);\n            } else {\n                $.get('/errors/500.html').always(function(content) {\n                    var tmp = document.createElement('div');\n                    tmp.innerHTML = content;\n                    var tmpNodes = tmp.getElementsByTagName('div');\n                    for(var i=0,l=tmpNodes.length;i<l;i++){\n                        if(tmpNodes[i].id == 'content') {\n                            SessionStore.set('errors.500', tmpNodes[i].innerHTML);\n                            $('#content').html(tmpNodes[i].innerHTML);\n                            break;\n                        }\n                    }\n                });\n            }\n\n            $('#server_clock').html('GMT Time: ' + moment(page.header.time_now).utc().format(\"YYYY-MM-DD HH:mm\"));\n\n        },\n        'useClass': 'pjaxload',\n    };\n};\n\nvar init_pjax = function () {\n    var document_location = document.URL;\n    if(!$('body').hasClass('BlueTopBack')) { //No Pjax for BO.\n        pjax.connect(pjax_config());\n    }\n};\n\nvar load_with_pjax = function(url) {\n        if(page.url.is_in(new URL(url))) {\n            return;\n        }\n\n        var config = pjax_config();\n        config.url = url;\n        config.update_url = url;\n        config.history = true;\n        pjax.invoke(config);\n};\n\n// Reduce duplication as required Auth is a common pattern\nvar pjax_config_page_require_auth = function(url, exec) {\n    var oldOnLoad = exec().onLoad;\n    var newOnLoad = function() {\n        if (!page.client.show_login_if_logout(true)) {\n            oldOnLoad();\n        }\n    };\n\n    var newExecFn = function(){\n        return {\n            onLoad: newOnLoad,\n            onUnload: exec().onUnload\n        };\n    };\n    pjax_config_page(url, newExecFn);\n};\n\nvar onLoad = new PjaxExecQueue();\nvar onUnload = new PjaxExecQueue();\n\ninit_pjax(); //Pjax-standalone will wait for on load event before attaching.\n$(function() { onLoad.fire(); });\n\nmodule.exports = {\n    pjax_config_page_require_auth: pjax_config_page_require_auth,\n    pjax_config_page: pjax_config_page,\n    load_with_pjax: load_with_pjax,\n    PjaxExecQueue: PjaxExecQueue,\n    onLoad: onLoad,\n    onUnload: onUnload,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/pjax.js\n ** module id = 2\n ** module chunks = 0\n **/","var getAppId = require('../../config').getAppId;\nvar getSocketURL = require('../../config').getSocketURL;\nvar pjax_config_page = require('../base/pjax').pjax_config_page;\n\npjax_config_page(\"endpoint\", function(){\n    return {\n        onLoad: function() {\n          $('#server_url').val(getSocketURL().split('/')[2]);\n          $('#app_id').val(getAppId());\n          $('#new_endpoint').on('click', function () {\n            var server_url = ($('#server_url').val() || '').trim().toLowerCase(),\n                app_id = ($('#app_id').val() || '').trim();\n            if (server_url) {\n              if(!/^(ws|www2|www|blue|green)\\..*$/i.test(server_url)) server_url = 'www.' + server_url;\n              localStorage.setItem('config.server_url', server_url);\n            }\n            if (app_id && !isNaN(app_id)) localStorage.setItem('config.app_id', parseInt(app_id));\n            window.location.reload();\n          });\n          $('#reset_endpoint').on('click', function () {\n            localStorage.removeItem('config.server_url');\n            localStorage.removeItem('config.app_id');\n            window.location.reload();\n          });\n        }\n    };\n});\n\nmodule.exports = {\n    getAppId: getAppId,\n    getSocketURL: getSocketURL,\n    pjax_config_page: pjax_config_page,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/static_pages/endpoint.js\n ** module id = 3\n ** module chunks = 0\n **/","var LoggedInHandler = (function() {\n    \"use strict\";\n\n    var init = function() {\n        parent.window['is_logging_in'] = 1; // this flag is used in base.js to prevent auto-reloading this page\n        var redirect_url;\n        try {\n            var tokens  = storeTokens(),\n                loginid = Cookies.get('loginid');\n\n            if (!loginid) { // redirected to another domain (e.g. github.io) so those cookie are not accessible here\n                var loginids = Object.keys(tokens);\n                var loginid_list = '';\n                loginids.map(function(id) {\n                    loginid_list += (loginid_list ? '+' : '') + id + ':' + (/^V/i.test(id) ? 'V' : 'R') + ':E'; // since there is not any data source to check, so assume all are enabled, disabled accounts will be handled on authorize\n                });\n                loginid = loginids[0];\n                // set cookies\n                page.client.set_cookie('loginid'     , loginid);\n                page.client.set_cookie('loginid_list', loginid_list);\n            }\n            page.client.set_cookie('login', tokens[loginid]);\n\n            // set flags\n            sessionStorage.setItem('check_tnc', '1');\n            if (!$('body').hasClass('BlueTopBack')) localStorage.setItem('risk_classification', 'check');\n            GTM.set_login_flag();\n\n            // redirect url\n            redirect_url = sessionStorage.getItem('redirect_url');\n            sessionStorage.removeItem('redirect_url');\n        } catch(e) {console.log('storage is not supported');}\n\n        // redirect back\n        var set_default = true;\n        if(redirect_url) {\n            var do_not_redirect = ['reset_passwordws', 'lost_passwordws', 'change_passwordws', 'home'];\n            var reg = new RegExp(do_not_redirect.join('|'), 'i');\n            if(!reg.test(redirect_url) && page.url.url_for('') !== redirect_url) {\n                set_default = false;\n            }\n        }\n        if(set_default) {\n            redirect_url = page.url.default_redirect_url();\n            var lang_cookie = Cookies.get('language');\n            if (lang_cookie && lang_cookie !== page.language()) {\n                redirect_url = redirect_url.replace(new RegExp('\\/' + page.language() + '\\/', 'i'), '/' + lang_cookie.toLowerCase() + '/');\n            }\n        }\n        document.getElementById('loading_link').setAttribute('href', redirect_url);\n        window.location.href = redirect_url;\n    };\n\n    var storeTokens = function() {\n        // Parse hash for loginids and tokens returned by OAuth\n        var hash = (/acct1/i.test(window.location.hash) ? window.location.hash : window.location.search).substr(1).split('&'); // to maintain compatibility till backend change released\n        var tokens = {};\n        for(var i = 0; i < hash.length; i += 2) {\n            var loginid = getHashValue(hash[i], 'acct');\n            var token = getHashValue(hash[i+1], 'token');\n            if(loginid && token) {\n                tokens[loginid] = token;\n            }\n        }\n        if(objectNotEmpty(tokens)) {\n            page.client.set_storage_value('tokens', JSON.stringify(tokens));\n        }\n        return tokens;\n    };\n\n    var getHashValue = function(source, key) {\n        var match = new RegExp('^' + key);\n        return source && source.length > 0 ? (match.test(source.split('=')[0]) ? source.split('=')[1] : '') : '';\n    };\n\n    return {\n        init: init,\n    };\n}());\n\nmodule.exports = {\n    LoggedInHandler: LoggedInHandler,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/logged_in.js\n ** module id = 4\n ** module chunks = 0\n **/","var Login = (function() {\n    \"use strict\";\n\n    var redirect_to_login = function() {\n        if (!page.client.is_logged_in && !is_login_pages()) {\n            try {\n                sessionStorage.setItem('redirect_url', window.location.href);\n            } catch(e) {\n                alert('The website needs features which are not enabled on private mode browsing. Please use normal mode.');\n            }\n            window.location.href = this.login_url();\n        }\n    };\n\n    var login_url = function() {\n        var server_url = localStorage.getItem('config.server_url');\n        return ((server_url && /qa/.test(server_url)) ?\n            'https://www.' + server_url.split('.')[1] + '.com/oauth2/authorize?app_id=' + getAppId() + '&l=' + page.language() :\n            'https://oauth.binary.com/oauth2/authorize?app_id=' + getAppId() + '&l=' + page.language()\n        );\n    };\n\n    var is_login_pages = function() {\n        return /logged_inws|oauth2/.test(document.URL);\n    };\n\n    return {\n        redirect_to_login: redirect_to_login,\n        is_login_pages   : is_login_pages,\n        login_url        : login_url,\n    };\n}());\n\nmodule.exports = {\n    Login: Login,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/login.js\n ** module id = 5\n ** module chunks = 0\n **/","var Markets = function(markets, market_symbols) { \n    this.all = [];\n    var market_count = markets.length;\n    while(market_count--) {\n        var market_name = markets[market_count];\n        var market_config = market_symbols[market_name];\n        var market_obj = new Market(market_name, market_config['label'], market_config['submarkets']);\n        this.all.push(market_obj);\n\n    }\n};\n\nMarkets.prototype = {\n    each: function(callback) {\n        var market_count = this.all.length;\n        while(market_count--) {\n            callback.call(this.all[market_count]);\n        }\n    },\n    by_symbol: function(symbol) {\n        var market_count = this.all.length;\n        while(market_count--) {\n            var found = this.all[market_count].by_symbol(symbol);\n            if(found) {\n                return found;\n            }\n        }\n    },\n    get: function(name) {\n        var market_count = this.all.length;\n        while(market_count--) {\n            if(this.all[market_count].name == name) {\n                return this.all[market_count];\n            }\n        }\n    }\n};\n\nvar Market = function(name, display_name, submarkets) {\n    this.name = name;\n    this.display_name = display_name;\n    this.submarkets = [];\n    this.all_submarkets = [];\n    var submarket_count = submarkets.length;\n    while(submarket_count--) {\n        var submarket = submarkets[submarket_count];\n        var submarket_obj = new SubMarket(submarket['name'], submarket['label'], submarket['instruments']);\n        this.submarkets.push(submarket_obj);\n        this.all_submarkets.push(submarket_obj);\n    }\n};\n\nMarket.prototype = {\n    translated_display_name: function() {\n        return text.localize(this.display_name);\n    },\n    by_symbol: function(symbol) {\n        var count = this.submarkets.length;\n        while(count--) {\n            var found = this.submarkets[count].by_symbol(symbol);\n            if(found) {\n                found['market'] = this;\n                return found;\n            }\n        }\n    },\n    each: function(callback) {\n        var count = this.all_submarkets.length;\n        while(count--) {\n            callback.call(this.all_submarkets[count]);\n        }\n    },\n    get: function(name) {\n        if(name.toUpperCase() == 'ALL') {\n            return this.all_submarkets;\n        }\n\n        var count = this.submarkets.length;\n        while(count--) {\n            if(this.submarkets[count].name == name) {\n                return this.submarkets[count];\n            }\n        }\n    }\n};\n\nfunction localizeName() {\n    return text.localize(this.name);\n}\n\nvar SubMarket = function(name, display_name, underlyings) {\n    this.name = name;\n    this.display_name = display_name;\n    this.underlyings = [];\n    var underlying_count = underlyings.length;\n    while(underlying_count--) {\n        var underlying = underlyings[underlying_count];\n        var underlying_object = {\n            name: underlying['label'],\n            symbol: underlying['value'],\n            translated_display_name: localizeName\n        };\n        this.underlyings.push(underlying_object);\n    }\n};\n\nSubMarket.prototype = {\n    translated_display_name: function() {\n        return text.localize(this.display_name);\n    },\n    each: function(callback) {\n        var underlying_count = this.underlyings.length;\n        while(underlying_count--) {\n            callback.call(this.underlyings[underlying_count]);\n        }\n    },\n    by_symbol: function(symbol) {\n        var underlying_count = this.underlyings.length;\n        while(underlying_count--) {\n            if(this.underlyings[underlying_count].symbol == symbol) {\n                return { submarket: this, underlying: this.underlyings[underlying_count] };\n            }\n        }\n\n        return;\n    },\n};\n\nmodule.exports = {\n    Markets: Markets,\n    Market: Market,\n    SubMarket: SubMarket,\n    localizeName: localizeName,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/markets.js\n ** module id = 6\n ** module chunks = 0\n **/","var MenuContent = (function () {\n    var listeners_events = [];\n\n    var that = {\n        init: function (_menu_containers) {\n            if (/trading/.test(window.location.pathname)) return;\n            _menu_containers.filter(':not(.follow-default)').delegate('.tm-a,.tm-a-2', 'click', function (event) {\n                event.preventDefault();\n\n                var target = $(event.target);\n                var tab_id = target.parents('li:first').attr('id');\n\n                if (tab_id)\n                {\n                    var tab_container = target.parents('.tm-ul');\n\n                    var selected_tab =\n                        // find previously active tab\n                        tab_container.find('.tm-a,.tm-a-2')\n                        // remove previously active tab\n                        .removeClass('a-active').end()\n                        // unwrap previously active tab\n                        .find('.menu-wrap-a .tm-a').unwrap().unwrap()\n                        // go back to selected target\n                        .end().end()\n                        // set active class to it\n                        .addClass('a-active')\n                        // set active class to its parent as well\n                        .parents('.tm-li').addClass('active').removeClass('hover').find('.tm-li-2').addClass('active').end()\n                        // wrap it\n                        .find('.tm-a').wrap('<span class=\"menu-wrap-a\"><span class=\"menu-wrap-b\"></span></span>').end()\n                        // remove previously active parent\n                        .siblings().removeClass('active').find('.tm-li-2').removeClass('active').end()\n                        .end().end();\n\n                    // replace span to a, to make it clickable for real\n                    var span_tm_a = tab_container.find('span.tm-a');\n                    span_tm_a.replaceWith('<a href=\"#\" class=\"'+span_tm_a.attr('class')+'\">'+span_tm_a.html()+'</a>');\n\n                    var menu_li = selected_tab.parents('li');\n                    var sub_menu_selected = menu_li.find('.tm-ul-2 .a-active');\n                    var selected_tab_id = menu_li.attr('id');\n\n                    if (!sub_menu_selected.length)\n                    {\n                        sub_menu_selected = menu_li.find('.tm-a-2:first').addClass('a-active');\n\n                        if (sub_menu_selected.length)\n                        {\n                            selected_tab = sub_menu_selected;\n                            selected_tab_id = sub_menu_selected.parents('li').attr('id');\n                            selected_content = $('#'+selected_tab_id+'-content').removeClass('invisible');\n                        }\n                        else\n                        {\n                            selected_tab_id = menu_li.attr('id');\n                        }\n                    }\n\n                    var selected_content = $('#'+selected_tab_id+'-content')\n                        // show selected tab content\n                        .removeClass('invisible')\n                        // and hide the rest\n                        .siblings(':not(.sticky)').addClass('invisible').end();\n\n                    that.push_to_listeners({\n                        'id': selected_tab_id,\n                        'target': selected_tab,\n                        'content': selected_content,\n                        'menu': menu_li.parents('ul.tm-ul'),\n                        'event': event\n                    });\n                }\n\n                return false;\n            });\n        },\n        push_to_listeners: function (info)\n        {\n            // push to listeners events\n            for (var i=0; i<listeners_events.length; i++)\n            {\n                listeners_events[i](info);\n            }\n        },\n        listen_click: function (callback)\n        {\n            if (typeof callback != 'function')\n            {\n                return false;\n            }\n\n            listeners_events.push(callback);\n        },\n        find_selected_tab: function (menu_id)\n        {\n            var menu = $('#'+menu_id);\n            var selected_tab = menu.find('.a-active').parents('.tm-li');\n\n            if (!selected_tab.length)\n            {\n                selected_tab = menu.find('.active');\n            }\n\n            return selected_tab;\n        },\n        is_tab_selected: function (tab)\n        {\n            return tab.hasClass('active');\n        },\n        hide_tab: function (tab)\n        {\n            tab.addClass('invisible').find('.menu-wrap-a .tm-a').unwrap().unwrap();\n            $('#'+tab.attr('id')+'-content').addClass('invisible');\n        },\n        show_tab: function (tab)\n        {\n            tab.removeClass('invisible');\n        },\n        trigger: function (id)\n        {\n            var tab_id = id['tab_id'];\n            var content_id = id['content_id'];\n\n            if (!tab_id && typeof content_id != 'undefined') {\n                var matched = content_id.match(/^(.+)-content$/);\n                if (matched && matched[1]) {\n                    tab_id = matched[1];\n                }\n            }\n\n            if (!tab_id)\n            {\n                return false;\n            }\n\n            var tab_to_trigger = $('#'+tab_id);\n\n            if (!tab_to_trigger.size() || tab_to_trigger.hasClass('invisible'))\n            {\n                return false;\n            }\n            else\n            {\n                var tab = tab_to_trigger.find('.tm-a');\n                if (tab.size())\n                {\n                    return tab.trigger('click');\n                }\n                else\n                {\n                    return tab_to_trigger.find('.tm-a-2').trigger('click');\n                }\n            }\n        }\n    };\n\n    return that;\n})();\n\nmodule.exports = {\n    MenuContent: MenuContent,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/menu_content.js\n ** module id = 7\n ** module chunks = 0\n **/","(function () {\n    'use strict';\n\n    var oldOnError = window.onerror;\n    window.jsErrors = [];\n\n    window.onerror = function (errorMessage, url, line) {\n\n        window.jsErrors.push(errorMessage); // todo: refactor to Binary.jsErrors later\n        \n        if (oldOnError) {\n            oldOnError(errorMessage, url, line);\n        }\n    };\n})();\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/onerror.js\n ** module id = 8\n ** module chunks = 0\n **/","var text;\nvar clock_started = false;\n\nvar GTM = (function() {\n    \"use strict\";\n\n    var gtm_applicable = function() {\n        return (getAppId() === '1');\n    };\n\n    var gtm_data_layer_info = function(data) {\n        var data_layer_info = {\n            language  : page.language(),\n            pageTitle : page_title(),\n            pjax      : page.is_loaded_by_pjax,\n            url       : document.URL,\n            event     : 'page_load',\n        };\n        if(page.client.is_logged_in) {\n            data_layer_info['visitorId'] = page.client.loginid;\n        }\n\n        $.extend(true, data_layer_info, data);\n\n        var event = data_layer_info.event;\n        delete data_layer_info['event'];\n\n        return {\n            data : data_layer_info,\n            event: event,\n        };\n    };\n\n    var push_data_layer = function(data) {\n        if (!gtm_applicable()) return;\n        if(!(/logged_inws/i).test(window.location.pathname)) {\n            var info = gtm_data_layer_info(data && typeof(data) === 'object' ? data : null);\n            dataLayer[0] = info.data;\n            dataLayer.push(info.data);\n            dataLayer.push({\"event\": info.event});\n        }\n    };\n\n    var page_title = function() {\n        var t = /^.+[:-]\\s*(.+)$/.exec(document.title);\n        return t && t[1] ? t[1] : document.title;\n    };\n\n    var event_handler = function(get_settings) {\n        if (!gtm_applicable()) return;\n        var is_login      = localStorage.getItem('GTM_login')      === '1',\n            is_newaccount = localStorage.getItem('GTM_newaccount') === '1';\n        if(!is_login && !is_newaccount) {\n            return;\n        }\n\n        localStorage.removeItem('GTM_login');\n        localStorage.removeItem('GTM_newaccount');\n\n        var affiliateToken = Cookies.getJSON('affiliate_tracking');\n        if (affiliateToken) {\n            GTM.push_data_layer({'bom_affiliate_token': affiliateToken.t});\n        }\n\n        var data = {\n            'visitorId'   : page.client.loginid,\n            'bom_country' : get_settings.country,\n            'bom_email'   : get_settings.email,\n            'url'         : window.location.href,\n            'bom_today'   : Math.floor(Date.now() / 1000),\n            'event'       : is_newaccount ? 'new_account' : 'log_in'\n        };\n        if(is_newaccount) {\n            data['bom_date_joined'] = data['bom_today'];\n        }\n        if(!page.client.is_virtual()) {\n            data['bom_age']       = parseInt((moment().unix() - get_settings.date_of_birth) / 31557600);\n            data['bom_firstname'] = get_settings.first_name;\n            data['bom_lastname']  = get_settings.last_name;\n            data['bom_phone']     = get_settings.phone;\n        }\n        GTM.push_data_layer(data);\n    };\n\n    var push_purchase_data = function(response) {\n        if (!gtm_applicable() || page.client.is_virtual()) return;\n        var req = response.echo_req.passthrough,\n            buy = response.buy;\n        if (!buy) return;\n        var data = {\n            'event'              : 'buy_contract',\n            'visitorId'          : page.client.loginid,\n            'bom_symbol'         : req.symbol,\n            'bom_market'         : markets && markets.by_symbol(req.symbol) ?\n                markets.by_symbol(req.symbol).market.name :\n                document.getElementById('contract_markets').value,\n            'bom_currency'       : req.currency,\n            'bom_contract_type'  : req.contract_type,\n            'bom_contract_id'    : buy.contract_id,\n            'bom_transaction_id' : buy.transaction_id,\n            'bom_buy_price'      : buy.buy_price,\n            'bom_payout'         : buy.payout,\n        };\n        // Spread contracts\n        if (/spread/i.test(req.contract_type)) {\n            $.extend(data, {\n                'bom_stop_type'         : req.stop_type,\n                'bom_amount_per_point'  : buy.amount_per_point,\n                'bom_stop_loss_level'   : buy.stop_loss_level,\n                'bom_stop_profit_level' : buy.stop_profit_level,\n            });\n        } else {\n            $.extend(data, {\n                'bom_amount'      : req.amount,\n                'bom_basis'       : req.basis,\n                'bom_expiry_type' : document.getElementById('expiry_type').value,\n            });\n            if(data.bom_expiry_type === 'duration') {\n                $.extend(data, {\n                    'bom_duration'      : req.duration,\n                    'bom_duration_unit' : req.duration_unit,\n                });\n            }\n            if(isVisible(document.getElementById('barrier'))) {\n                data['bom_barrier'] = req.barrier;\n            } else if(isVisible(document.getElementById('barrier_high'))) {\n                data['bom_barrier_high'] = req.barrier;\n                data['bom_barrier_low']  = req.barrier2;\n            }\n            if(isVisible(document.getElementById('prediction'))) {\n                data['bom_prediction']  = req.barrier;\n            }\n        }\n\n        GTM.push_data_layer(data);\n    };\n\n    var set_login_flag = function() {\n        if (!gtm_applicable()) return;\n        localStorage.setItem('GTM_login', '1');\n    };\n\n    var set_newaccount_flag = function() {\n        if (!gtm_applicable()) return;\n        localStorage.setItem('GTM_newaccount', '1');\n    };\n\n    return {\n        push_data_layer     : push_data_layer,\n        event_handler       : event_handler,\n        push_purchase_data  : push_purchase_data,\n        set_login_flag      : set_login_flag,\n        set_newaccount_flag : set_newaccount_flag,\n    };\n}());\n\nvar User = function() {\n    this.email   = Cookies.get('email');\n    this.loginid = Cookies.get('loginid');\n    this.loginid_array = parseLoginIDList(Cookies.get('loginid_list') || '');\n    this.is_logged_in = !!(\n        this.loginid &&\n        this.loginid_array.length > 0 &&\n        localStorage.getItem('client.tokens')\n    );\n};\n\nvar Client = function() {\n    this.loginid      = Cookies.get('loginid');\n    this.residence    = Cookies.get('residence');\n    this.is_logged_in = !!(this.loginid && this.loginid.length > 0 && localStorage.getItem('client.tokens'));\n};\n\nClient.prototype = {\n    show_login_if_logout: function(shouldReplacePageContents) {\n        if (!this.is_logged_in && shouldReplacePageContents) {\n            $('#content > .container').addClass('center-text')\n                .html($('<p/>', {class: 'notice-msg', html: text.localize('Please [_1] to view this page', [\n                        '<a class=\"login_link\" href=\"javascript:;\">' + text.localize('login') + '</a>'\n                    ])}));\n            $('.login_link').click(function(){Login.redirect_to_login();});\n        }\n        return !this.is_logged_in;\n    },\n    redirect_if_is_virtual: function(redirectPage) {\n        var is_virtual = this.is_virtual();\n        if(is_virtual) {\n            window.location.href = page.url.url_for(redirectPage || '');\n        }\n        return is_virtual;\n    },\n    redirect_if_login: function() {\n        if(page.client.is_logged_in) {\n            window.location.href = page.url.default_redirect_url();\n        }\n        return page.client.is_logged_in;\n    },\n    is_virtual: function() {\n        return this.get_storage_value('is_virtual') === '1';\n    },\n    require_reality_check: function() {\n        return this.get_storage_value('has_reality_check') === '1';\n    },\n    get_storage_value: function(key) {\n        return LocalStore.get('client.' + key) || '';\n    },\n    set_storage_value: function(key, value) {\n        return LocalStore.set('client.' + key, value);\n    },\n    check_storage_values: function(origin) {\n        var is_ok = true;\n\n        if(!this.get_storage_value('is_virtual') && TUser.get().hasOwnProperty('is_virtual')) {\n            this.set_storage_value('is_virtual', TUser.get().is_virtual);\n        }\n\n        // currencies\n        if(!this.get_storage_value('currencies')) {\n            BinarySocket.send({\n                'payout_currencies': 1,\n                'passthrough': {\n                    'handler': 'page.client',\n                    'origin' : origin || ''\n                }\n            });\n            is_ok = false;\n        }\n\n        // allowed markets\n        if(this.is_logged_in) {\n            if(\n                !this.get_storage_value('is_virtual') &&\n                !this.get_storage_value('allowed_markets') &&\n                Cookies.get('residence') &&\n                !this.get_storage_value('has_reality_check')\n            ) {\n                $('#topMenuStartBetting').addClass('invisible');\n                BinarySocket.send({\n                    'landing_company': Cookies.get('residence'),\n                    'passthrough': {\n                        'handler': 'page.client',\n                        'origin' : origin || ''\n                    }\n                });\n                is_ok = false;\n            }\n        }\n\n        // website TNC version\n        if(!LocalStore.get('website.tnc_version')) {\n            BinarySocket.send({'website_status': 1});\n        }\n\n        return is_ok;\n    },\n    response_payout_currencies: function(response) {\n        if (!response.hasOwnProperty('error')) {\n            this.set_storage_value('currencies', response.payout_currencies.join(','));\n            if(response.echo_req.hasOwnProperty('passthrough') && response.echo_req.passthrough.origin === 'attributes.restore.currency') {\n                BetForm.attributes.restore.currency();\n            }\n        }\n    },\n    response_landing_company: function(response) {\n        if (!response.hasOwnProperty('error')) {\n            var allowed_markets = response.legal_allowed_markets;\n            var company = response.name;\n            var has_reality_check = response.has_reality_check;\n\n            this.set_storage_value('allowed_markets', allowed_markets.length === 0 ? '' : allowed_markets.join(','));\n            this.set_storage_value('landing_company_name', company);\n            this.set_storage_value('has_reality_check', has_reality_check);\n\n            page.header.menu.register_dynamic_links();\n        }\n    },\n    response_authorize: function(response) {\n        page.client.set_storage_value('session_start', parseInt(moment().valueOf() / 1000));\n        TUser.set(response.authorize);\n        if(!Cookies.get('email')) this.set_cookie('email', response.authorize.email);\n        this.set_storage_value('is_virtual', TUser.get().is_virtual);\n        this.check_storage_values();\n        page.contents.activate_by_client_type();\n    },\n    check_tnc: function() {\n        if(!page.client.is_virtual() && sessionStorage.getItem('check_tnc') === '1') {\n            var client_tnc_status   = this.get_storage_value('tnc_status'),\n                website_tnc_version = LocalStore.get('website.tnc_version');\n            if(client_tnc_status && website_tnc_version) {\n                sessionStorage.removeItem('check_tnc');\n                if(client_tnc_status !== website_tnc_version) {\n                    sessionStorage.setItem('tnc_redirect', window.location.href);\n                    window.location.href = page.url.url_for('user/tnc_approvalws');\n                }\n            }\n        }\n    },\n    clear_storage_values: function() {\n        var that  = this;\n        var items = ['currencies', 'allowed_markets', 'landing_company_name', 'is_virtual',\n                     'has_reality_check', 'tnc_status', 'session_duration_limit', 'session_start'];\n        items.forEach(function(item) {\n            that.set_storage_value(item, '');\n        });\n        localStorage.removeItem('website.tnc_version');\n        sessionStorage.setItem('currencies', '');\n    },\n    update_storage_values: function() {\n        this.clear_storage_values();\n        this.check_storage_values();\n    },\n    send_logout_request: function(showLoginPage) {\n        if(showLoginPage) {\n            sessionStorage.setItem('showLoginPage', 1);\n        }\n        BinarySocket.send({'logout': '1'});\n    },\n    get_token: function(loginid) {\n        var token,\n            tokens = page.client.get_storage_value('tokens');\n        if(loginid && tokens) {\n            tokensObj = JSON.parse(tokens);\n            if(tokensObj.hasOwnProperty(loginid) && tokensObj[loginid]) {\n                token = tokensObj[loginid];\n            }\n        }\n        return token;\n    },\n    add_token: function(loginid, token) {\n        if(!loginid || !token || this.get_token(loginid)) {\n            return false;\n        }\n        var tokens = page.client.get_storage_value('tokens');\n        var tokensObj = tokens && tokens.length > 0 ? JSON.parse(tokens) : {};\n        tokensObj[loginid] = token;\n        this.set_storage_value('tokens', JSON.stringify(tokensObj));\n    },\n    set_cookie: function(cookieName, Value, domain) {\n        var cookie_expire = new Date();\n        cookie_expire.setDate(cookie_expire.getDate() + 60);\n        var cookie = new CookieStorage(cookieName, domain);\n        cookie.write(Value, cookie_expire, true);\n    },\n    process_new_account: function(email, loginid, token, is_virtual) {\n        if(!email || !loginid || !token) {\n            return;\n        }\n        // save token\n        this.add_token(loginid, token);\n        // set cookies\n        this.set_cookie('email'       , email);\n        this.set_cookie('login'       , token);\n        this.set_cookie('loginid'     , loginid);\n        this.set_cookie('loginid_list', is_virtual ? loginid + ':V:E' : loginid + ':R:E' + '+' + Cookies.get('loginid_list'));\n        // set local storage\n        GTM.set_newaccount_flag();\n        localStorage.setItem('active_loginid', loginid);\n        window.location.href = page.url.default_redirect_url();\n    },\n    can_upgrade_gaming_to_financial: function(data) {\n        return (data.hasOwnProperty('financial_company') && data.financial_company.shortcode === 'maltainvest');\n    },\n    can_upgrade_virtual_to_financial: function(data) {\n        return (data.hasOwnProperty('financial_company') && !data.hasOwnProperty('gaming_company') && data.financial_company.shortcode === 'maltainvest');\n    },\n    can_upgrade_virtual_to_japan: function(data) {\n        return (data.hasOwnProperty('financial_company') && !data.hasOwnProperty('gaming_company') && data.financial_company.shortcode === 'japan');\n    }\n};\n\nvar URL = function (url) { // jshint ignore:line\n    this.is_valid = true;\n    this.history_supported = window.history && window.history.pushState;\n    if(typeof url !== 'undefined') {\n        this.location = $('<a>', { href: decodeURIComponent(url) } )[0];\n    } else {\n        this.location = window.location;\n    }\n};\n\nURL.prototype = {\n    url_for: function(path, params) {\n        if(!path) {\n            path = '';\n        }\n        else if (path.length > 0 && path[0] === '/') {\n            path = path.substr(1);\n        }\n        var lang = page.language().toLowerCase(),\n            url  = window.location.href;\n        return url.substring(0, url.indexOf('/' + lang + '/') + lang.length + 2) + (path || 'home') + '.html' + (params ? '?' + params : '');\n    },\n    url_for_static: function(path) {\n        if(!path) {\n            path = '';\n        }\n        else if (path.length > 0 && path[0] === '/') {\n            path = path.substr(1);\n        }\n\n        var staticHost = window.staticHost;\n        if(!staticHost || staticHost.length === 0) {\n            staticHost = $('script[src*=\"binary.min.js\"],script[src*=\"binary.js\"]').attr('src');\n\n            if(staticHost && staticHost.length > 0) {\n                staticHost = staticHost.substr(0, staticHost.indexOf('/js/') + 1);\n            }\n            else {\n                staticHost = 'https://www.binary.com/';\n            }\n\n            window.staticHost = staticHost;\n        }\n\n        return staticHost + path;\n    },\n    reset: function() {\n        this.location = window.location;\n        this._param_hash = undefined;\n        this.is_valid = true;\n        $(this).trigger(\"change\", [ this ]);\n    },\n    invalidate: function() {\n        this.is_valid = false;\n    },\n    update: function(url) {\n        var state_info = { container: 'content', url: url, useClass: 'pjaxload' };\n        if(this.history_supported) {\n            history.pushState(state_info, '', url);\n            this.reset();\n        }\n        this.is_valid = true;\n    },\n    param: function(name) {\n        var param_hash= this.params_hash();\n        return param_hash[name];\n    },\n    replaceQueryParam: function (param, newval, search) {\n      var regex = new RegExp(\"([?;&])\" + param + \"[^&;]*[;&]?\");\n      var query = search.replace(regex, \"$1\").replace(/&$/, '');\n      return (query.length > 2 ? query + \"&\" : \"?\") + (newval ? param + \"=\" + newval : '');\n    },\n    param_if_valid: function(name) {\n        if(this.is_valid) {\n           return this.param(name);\n        }\n        return;\n    },\n    path_matches: function(url) {\n        //pathname is /d/page.cgi. Eliminate /d/ and /c/ from both urls.\n        var this_pathname = this.location.pathname.replace(/\\/[d|c]\\//g, '');\n        var url_pathname = url.location.pathname.replace(/\\/[d|c]\\//g, '');\n        return (this_pathname == url_pathname || '/' + this_pathname == url_pathname);\n    },\n    params_hash_to_string: function(params) {\n        return Object.keys(params)\n            .map(function(key) { return key + '=' + params[key]; })\n            .join('&');\n    },\n    is_in: function(url) {\n        if(this.path_matches(url)) {\n            var this_params = this.params();\n            var param_count = this_params.length;\n            var match_count = 0;\n            while(param_count--) {\n                if(url.param(this_params[param_count][0]) == this_params[param_count][1]) {\n                    match_count++;\n                }\n            }\n            if(match_count == this_params.length) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n    params_hash: function() {\n        if(!this._param_hash) {\n            this._param_hash = {};\n            var params = this.params();\n            var param = params.length;\n            while(param--) {\n                if(params[param][0]) {\n                    this._param_hash[params[param][0]] = params[param][1];\n                }\n            }\n        }\n        return this._param_hash;\n    },\n    params: function() {\n        var params = [];\n        var parsed = this.location.search.substr(1).split('&');\n        var p_l = parsed.length;\n        while(p_l--) {\n            var param = parsed[p_l].split('=');\n            params.push(param);\n        }\n        return params;\n    },\n    default_redirect_url: function() {\n        return this.url_for(japanese_client() ? 'jptrading' : 'trading');\n    },\n};\n\nvar Menu = function(url) {\n    this.page_url = url;\n    var that = this;\n    $(this.page_url).on('change', function() { that.activate(); });\n};\n\nMenu.prototype = {\n    on_unload: function() {\n        this.reset();\n    },\n    activate: function() {\n        $('#menu-top li').removeClass('active');\n        this.hide_main_menu();\n\n        var active = this.active_menu_top();\n        var trading = japanese_client() ? $('#main-navigation-jptrading') : $('#main-navigation-trading');\n        if(active) {\n            active.addClass('active');\n            if(trading.is(active)) {\n                this.show_main_menu();\n            }\n        } else {\n            var is_mojo_page = /^\\/$|\\/login|\\/home|\\/ad|\\/open-source-projects|\\/partners|\\/payment-agent|\\/about-us|\\/group-information|\\/group-history|\\/careers|\\/contact|\\/terms-and-conditions|\\/terms-and-conditions-jp|\\/responsible-trading|\\/us_patents|\\/lost_password|\\/realws|\\/virtualws|\\/open-positions|\\/job-details|\\/user-testing|\\/japanws|\\/maltainvestws|\\/reset_passwordws|\\/supported-browsers$/.test(window.location.pathname);\n            if(!is_mojo_page) {\n                trading.addClass('active');\n                this.show_main_menu();\n            }\n        }\n    },\n    show_main_menu: function() {\n        $(\"#main-menu\").removeClass('hidden');\n        this.activate_main_menu();\n    },\n    hide_main_menu: function() {\n        $(\"#main-menu\").addClass('hidden');\n    },\n    activate_main_menu: function() {\n        //First unset everything.\n        $(\"#main-menu li.item\").removeClass('active');\n        $(\"#main-menu li.item\").removeClass('hover');\n        $(\"#main-menu li.sub_item a\").removeClass('a-active');\n\n        var active = this.active_main_menu();\n        if(active.subitem) {\n            active.subitem.addClass('a-active');\n        }\n\n        if(active.item) {\n            active.item.addClass('active');\n            active.item.addClass('hover');\n        }\n\n        this.on_mouse_hover(active.item);\n    },\n    reset: function() {\n        $(\"#main-menu .item\").unbind();\n        $(\"#main-menu\").unbind();\n    },\n    on_mouse_hover: function(active_item) {\n        $(\"#main-menu .item\").on( 'mouseenter', function() {\n            $(\"#main-menu li.item\").removeClass('hover');\n            $(this).addClass('hover');\n        });\n\n        $(\"#main-menu\").on('mouseleave', function() {\n            $(\"#main-menu li.item\").removeClass('hover');\n            if(active_item)\n                active_item.addClass('hover');\n        });\n    },\n    active_menu_top: function() {\n        var active;\n        var path = window.location.pathname;\n        $('#menu-top li a').each(function() {\n            if(path.indexOf(this.pathname.replace(/\\.html/i, '')) >= 0) {\n                active = $(this).closest('li');\n            }\n        });\n\n        return active;\n    },\n    active_main_menu: function() {\n        var page_url = this.page_url;\n        if(/detailsws|securityws|self_exclusionws|limitsws|api_tokenws|authorised_appsws|iphistoryws|assessmentws/i.test(page_url.location.href)) {\n            page_url = new URL($('#main-menu a[href*=\"user/settingsws\"]').attr('href'));\n        }\n\n        var item;\n        var subitem;\n\n        //Is something selected in main items list\n        $(\"#main-menu .items a\").each(function () {\n            var url = new URL($(this).attr('href'));\n            if(url.is_in(page_url)) {\n                item = $(this).closest('.item');\n            }\n        });\n\n        $(\"#main-menu .sub_items a\").each(function(){\n            var link_href = $(this).attr('href');\n            if (link_href) {\n                var url = new URL(link_href);\n                if(url.is_in(page_url)) {\n                    item = $(this).closest('.item');\n                    subitem = $(this);\n                }\n            }\n        });\n\n        return { item: item, subitem: subitem };\n    },\n    register_dynamic_links: function() {\n        var stored_market = page.url.param('market') || LocalStore.get('bet_page.market') || 'forex';\n        var allowed_markets = page.client.get_storage_value('allowed_markets');\n        if(!allowed_markets && page.client.is_logged_in && !TUser.get().is_virtual) {\n            return;\n        }\n\n        var markets_array = allowed_markets ? allowed_markets.split(',') : [];\n        if(!TUser.get().is_virtual && markets_array.indexOf(stored_market) < 0) {\n            stored_market = markets_array[0];\n            LocalStore.set('bet_page.market', stored_market);\n        }\n    }\n};\n\nvar Header = function(params) {\n    this.user = params['user'];\n    this.client = params['client'];\n    this.menu = new Menu(params['url']);\n};\n\nHeader.prototype = {\n    on_load: function() {\n        this.show_or_hide_login_form();\n        this.register_dynamic_links();\n        this.logout_handler();\n        this.check_risk_classification();\n        if (!$('body').hasClass('BlueTopBack')) {\n          checkClientsCountry();\n        }\n        if(page.client.is_logged_in) {\n            $('ul#menu-top').addClass('smaller-font');\n        }\n    },\n    on_unload: function() {\n        this.menu.reset();\n    },\n    show_or_hide_login_form: function() {\n        if (!this.user.is_logged_in || !this.client.is_logged_in) return;\n        var $login_options = $('#client_loginid');\n        var loginid_array = this.user.loginid_array;\n        $login_options.html('');\n\n        for (var i=0; i < loginid_array.length; i++) {\n            var login = loginid_array[i];\n            if (login.disabled) continue;\n\n            var curr_id = login.id;\n            var type = 'Virtual';\n            if (login.real) {\n                if (login.financial)          type = 'Investment';\n                else if (login.non_financial) type = 'Gaming';\n                else                          type = 'Real';\n            }\n\n            $login_options.append($('<option/>', {\n                value: curr_id,\n                selected: curr_id == this.client.loginid,\n                text: template('[_1] Account ([_2])', [type, curr_id]),\n            }));\n        }\n    },\n    register_dynamic_links: function() {\n        var logged_in_url = this.client.is_logged_in ?\n            page.url.url_for('user/my_accountws') :\n            page.url.url_for('');\n\n        $('#logo').attr('href', logged_in_url).on('click', function(event) {\n            event.preventDefault();\n            load_with_pjax(logged_in_url);\n        }).addClass('unbind_later');\n\n        this.menu.register_dynamic_links();\n    },\n    start_clock_ws: function() {\n        function getTime() {\n            clock_started = true;\n            BinarySocket.send({'time': 1,'passthrough': {'client_time': moment().valueOf()}});\n        }\n        this.run = function() {\n            setInterval(getTime, 30000);\n        };\n\n        this.run();\n        getTime();\n        return;\n    },\n    time_counter : function(response) {\n        if (isNaN(response.echo_req.passthrough.client_time) || response.error) {\n            page.header.start_clock_ws();\n            return;\n        }\n        clearTimeout(window.HeaderTimeUpdateTimeOutRef);\n        var that = this;\n        var clock = $('#gmt-clock');\n        var start_timestamp = response.time;\n        var pass = response.echo_req.passthrough.client_time;\n\n        that.client_time_at_response = moment().valueOf();\n        that.server_time_at_response = ((start_timestamp * 1000) + (that.client_time_at_response - pass));\n        var update_time = function() {\n            window.time = moment(that.server_time_at_response + moment().valueOf() - that.client_time_at_response).utc();\n            var curr = localStorage.getItem('client.currencies');\n            var timeStr = window.time.format(\"YYYY-MM-DD HH:mm\") + ' GMT';\n            if(curr === 'JPY'){\n                clock.html(toJapanTimeIfNeeded(timeStr, 1, '', 1));\n            } else {\n                clock.html(timeStr);\n                showLocalTimeOnHover('#gmt-clock');\n            }\n            window.HeaderTimeUpdateTimeOutRef = setTimeout(update_time, 1000);\n        };\n        update_time();\n    },\n    logout_handler : function(){\n        $('a.logout').unbind('click').click(function(){\n            page.client.send_logout_request();\n        });\n    },\n    check_risk_classification: function() {\n      if (localStorage.getItem('risk_classification.response') === 'high' && localStorage.getItem('risk_classification') === 'high' &&\n          this.qualify_for_risk_classification()) {\n            RiskClassification.renderRiskClassificationPopUp();\n      }\n    },\n    qualify_for_risk_classification: function() {\n      if (page.client.is_logged_in && !page.client.is_virtual() && page.client.residence !== 'jp' && !$('body').hasClass('BlueTopBack') &&\n          (localStorage.getItem('reality_check.ack') === '1' || !localStorage.getItem('reality_check.interval'))) {\n              return true;\n      }\n      return false;\n    },\n    validate_cookies: function() {\n        var loginid_list = Cookies.get('loginid_list');\n        var loginid      = Cookies.get('loginid');\n        if (!loginid || !loginid_list) return;\n\n        var accIds = loginid_list.split('+');\n        var valid_loginids = new RegExp('^(' + page.settings.get('valid_loginids') + ')[0-9]+$', 'i');\n\n        function is_loginid_valid(login_id) {\n            return login_id ?\n                valid_loginids.test(login_id) :\n                true;\n        }\n\n        if (!is_loginid_valid(loginid)) {\n            page.client.send_logout_request();\n        }\n\n        accIds.forEach(function(acc_id) {\n            if (!is_loginid_valid(acc_id.split(\":\")[0])) {\n                page.client.send_logout_request();\n            }\n        });\n    },\n    do_logout: function(response) {\n        if (response.logout !== 1) return;\n        page.client.clear_storage_values();\n        LocalStore.remove('client.tokens');\n        LocalStore.set('reality_check.ack', 0);\n        sessionStorage.removeItem('withdrawal_locked');\n        var cookies = ['login', 'loginid', 'loginid_list', 'email', 'settings', 'reality_check', 'affiliate_token', 'affiliate_tracking', 'residence', 'allowed_markets'];\n        var domains = [\n            '.' + document.domain.split('.').slice(-2).join('.'),\n            '.' + document.domain,\n        ];\n\n        var parent_path = window.location.pathname.split('/', 2)[1];\n        if (parent_path !== '') {\n            parent_path = '/' + parent_path;\n        }\n\n        cookies.forEach(function(c) {\n            var regex = new RegExp(c);\n            Cookies.remove(c, {path: '/', domain: domains[0]});\n            Cookies.remove(c, {path: '/', domain: domains[1]});\n            Cookies.remove(c);\n            if (regex.test(document.cookie) && parent_path) {\n                Cookies.remove(c, {path: parent_path, domain: domains[0]});\n                Cookies.remove(c, {path: parent_path, domain: domains[1]});\n                Cookies.remove(c, {path: parent_path});\n            }\n        });\n        localStorage.removeItem('risk_classification');\n        localStorage.removeItem('risk_classification.response');\n        page.reload();\n    },\n};\n\nvar Contents = function(client, user) {\n    this.client = client;\n    this.user = user;\n};\n\nContents.prototype = {\n    on_load: function() {\n        this.activate_by_client_type();\n        this.update_content_class();\n        this.init_draggable();\n    },\n    on_unload: function() {\n        if ($('.unbind_later').length > 0) {\n            $('.unbind_later').off();\n        }\n    },\n    activate_by_client_type: function() {\n        $('.by_client_type').addClass('invisible');\n        if(this.client.is_logged_in) {\n            if(page.client.get_storage_value('is_virtual').length === 0) {\n                return;\n            }\n            if(!page.client.is_virtual()) {\n                // control-class is a fake class, only used to counteract ja-hide class\n                $('.by_client_type.client_real').not((japanese_client() ? \".ja-hide\" : \".control-class\")).removeClass('invisible');\n                $('.by_client_type.client_real').show();\n\n                $('#topbar').addClass('primary-color-dark');\n                $('#topbar').removeClass('secondary-bg-color');\n\n                if (!/^CR/.test(this.client.loginid)) {\n                    $('#payment-agent-section').addClass('invisible');\n                    $('#payment-agent-section').hide();\n                }\n\n                if (!/^MF|MLT/.test(this.client.loginid)) {\n                    $('#account-transfer-section').addClass('invisible');\n                    $('#account-transfer-section').hide();\n                }\n            } else {\n                $('.by_client_type.client_virtual').removeClass('invisible');\n                $('.by_client_type.client_virtual').show();\n\n                $('#topbar').addClass('secondary-bg-color');\n                $('#topbar').removeClass('primary-color-dark');\n\n                $('#account-transfer-section').addClass('invisible');\n                $('#account-transfer-section').hide();\n            }\n        } else {\n            $('#btn_login').unbind('click').click(function(e){e.preventDefault(); Login.redirect_to_login();});\n\n            $('.by_client_type.client_logged_out').removeClass('invisible');\n            $('.by_client_type.client_logged_out').show();\n\n            $('#topbar').removeClass('secondary-bg-color');\n            $('#topbar').addClass('primary-color-dark');\n\n            $('#account-transfer-section').addClass('invisible');\n            $('#account-transfer-section').hide();\n        }\n    },\n    update_content_class: function() {\n        //This is required for our css to work.\n        $('#content').removeClass();\n        $('#content').addClass($('#content_class').html());\n    },\n    init_draggable: function() {\n        $('.draggable').draggable();\n    },\n    topbar_message_visibility: function(c_config) {\n        if(this.client.is_logged_in) {\n            if(page.client.get_storage_value('is_virtual').length === 0 || !c_config) {\n                return;\n            }\n            var loginid_array = this.user.loginid_array;\n\n            var $upgrade_msg = $('.upgrademessage'),\n                hiddenClass  = 'invisible';\n            var hide_upgrade = function() {\n                $upgrade_msg.addClass(hiddenClass);\n            };\n            var show_upgrade = function(url, msg) {\n                $upgrade_msg.removeClass(hiddenClass)\n                    .find('a').removeClass(hiddenClass)\n                        .attr('href', page.url.url_for(url)).html($('<span/>', {text: text.localize(msg)}));\n            };\n\n            if (page.client.is_virtual()) {\n                var show_upgrade_msg = true;\n                var show_virtual_msg = true;\n                if (localStorage.getItem('jp_test_allowed') === \"1\") {\n                    hide_upgrade();\n                    show_virtual_msg = false;\n                    show_upgrade_msg = false; // do not show upgrade for user that filled up form\n                }\n                for (var i = 0; i < loginid_array.length; i++) {\n                    if (loginid_array[i].real) {\n                        hide_upgrade();\n                        show_upgrade_msg = false;\n                        break;\n                    }\n                }\n                if (show_upgrade_msg) {\n                    $upgrade_msg.find('> span').removeClass(hiddenClass);\n                    if (page.client.can_upgrade_virtual_to_financial(c_config)) {\n                        show_upgrade('new_account/maltainvestws', 'Upgrade to a Financial Account');\n                    } else if (page.client.can_upgrade_virtual_to_japan(c_config)) {\n                        show_upgrade('new_account/japanws', 'Upgrade to a Real Account');\n                    } else {\n                        show_upgrade('new_account/realws', 'Upgrade to a Real Account');\n                    }\n                } else if (show_virtual_msg) {\n                    $upgrade_msg.removeClass(hiddenClass).find('> span').removeClass(hiddenClass);\n                }\n            } else {\n                var show_financial = false;\n\n                // also allow UK MLT client to open MF account\n                if (page.client.can_upgrade_gaming_to_financial(c_config) || (this.client.residence == 'gb' && /^MLT/.test(this.client.loginid))) {\n                    show_financial = true;\n                    for (var j=0;j<loginid_array.length;j++) {\n                        if (loginid_array[j].financial) {\n                            show_financial = false;\n                            break;\n                        }\n                    }\n                }\n                if (show_financial) {\n                    $('#virtual-text').parent().addClass('invisible');\n                    show_upgrade('new_account/maltainvestws', 'Open a Financial Account');\n                } else {\n                    hide_upgrade();\n                }\n            }\n        }\n    },\n};\n\nvar Page = function(config) {\n    this.is_loaded_by_pjax = false;\n    config = typeof config !== 'undefined' ? config : {};\n    this.user = new User();\n    this.client = new Client();\n    this.url = new URL();\n    this.settings = new InScriptStore(config['settings']);\n    this.header = new Header({ user: this.user, client: this.client, url: this.url});\n    this.contents = new Contents(this.client, this.user);\n    this._lang = null;\n    onLoad.queue(GTM.push_data_layer);\n};\n\nPage.prototype = {\n    all_languages: function() {\n        return ['EN', 'AR', 'DE', 'ES', 'FR', 'ID', 'IT', 'PL', 'PT', 'RU', 'VI', 'JA', 'ZH_CN', 'ZH_TW'];\n    },\n    language_from_url: function() {\n        var regex = new RegExp('^(' + this.all_languages().join('|') + ')$', 'i');\n        var langs = window.location.href.split('/').slice(3);\n        for (var i = 0; i < langs.length; i++) {\n            var lang = langs[i];\n            if (regex.test(lang)) return lang.toUpperCase();\n        }\n        return '';\n    },\n    language: function() {\n        var lang = this._lang;\n        if (!lang) {\n            lang = (this.language_from_url() || Cookies.get('language') || 'EN').toUpperCase();\n            this._lang = lang;\n        }\n        return lang;\n    },\n    on_load: function() {\n        this.url.reset();\n        this.localize_for(this.language());\n        this.header.on_load();\n        this.on_change_language();\n        this.on_change_loginid();\n        this.record_affiliate_exposure();\n        this.contents.on_load();\n        this.on_click_acc_transfer();\n        if (CommonData.getLoginToken()) {\n            ViewBalance.init();\n        } else {\n            LocalStore.set('reality_check.ack', 0);\n        }\n        if(!Cookies.get('language')) {\n            var cookie = new CookieStorage('language');\n            cookie.write(this.language());\n        }\n        if(sessionStorage.getItem('showLoginPage')) {\n            sessionStorage.removeItem('showLoginPage');\n            Login.redirect_to_login();\n        }\n        this.check_language();\n        TrafficSource.setData();\n    },\n    on_unload: function() {\n        this.header.on_unload();\n        this.contents.on_unload();\n    },\n    on_change_language: function() {\n        var that = this;\n        $('#language_select').on('change', 'select', function() {\n            var language = $(this).find('option:selected').attr('class');\n            var cookie = new CookieStorage('language');\n            cookie.write(language);\n            document.location = that.url_for_language(language);\n        });\n    },\n    on_change_loginid: function() {\n        var that = this;\n        $('#client_loginid').on('change', function() {\n            $(this).attr('disabled','disabled');\n            that.switch_loginid($(this).val());\n        });\n    },\n    switch_loginid: function(loginid) {\n        if(!loginid || loginid.length === 0) {\n            return;\n        }\n        var token = page.client.get_token(loginid);\n        if(!token || token.length === 0) {\n            page.client.send_logout_request(true);\n            return;\n        }\n\n        // cleaning the previous values\n        page.client.clear_storage_values();\n        sessionStorage.setItem('active_tab', '1');\n        sessionStorage.removeItem('withdrawal_locked');\n        // set cookies: loginid, login\n        page.client.set_cookie('loginid', loginid);\n        page.client.set_cookie('login'  , token);\n        // set local storage\n        GTM.set_login_flag();\n        localStorage.setItem('active_loginid', loginid);\n        $('#client_loginid').removeAttr('disabled');\n        page.reload();\n    },\n    on_click_acc_transfer: function() {\n        $('#acc_transfer_submit').on('click', function() {\n            var amount = $('#acc_transfer_amount').val();\n            if (!/^[0-9]+\\.?[0-9]{0,2}$/.test(amount) || amount < 0.1) {\n                $('#invalid_amount').removeClass('invisible');\n                $('#invalid_amount').show();\n                return false;\n            }\n            $('#acc_transfer_submit').submit();\n        });\n    },\n    localize_for: function(language) {\n        text = texts[language];\n        moment.locale(language.toLowerCase());\n    },\n    url_for_language: function(lang) {\n        lang = lang.trim();\n        SessionStore.set('selected.language', lang.toUpperCase());\n        return window.location.href.replace(new RegExp('\\/' + page.language() + '\\/', 'i'), '/' + lang.toLowerCase() + '/');\n    },\n    record_affiliate_exposure: function() {\n        var token = this.url.param('t');\n        if (!token || token.length !== 32) {\n            return false;\n        }\n        var token_length = token.length;\n        var is_subsidiary = /\\w{1}/.test(this.url.param('s'));\n\n        var cookie_token = Cookies.getJSON('affiliate_tracking');\n        if (cookie_token) {\n            //Already exposed to some other affiliate.\n            if (is_subsidiary && cookie_token && cookie_token.t) {\n                return false;\n            }\n        }\n\n        //Record the affiliate exposure. Overwrite existing cookie, if any.\n        var cookie_hash = {};\n        if (token_length === 32) {\n            cookie_hash[\"t\"] = token.toString();\n        }\n        if (is_subsidiary) {\n            cookie_hash[\"s\"] = \"1\";\n        }\n\n        Cookies.set(\"affiliate_tracking\", cookie_hash, {\n            expires: 365, //expires in 365 days\n            path: '/',\n            domain: '.' + location.hostname.split('.').slice(-2).join('.')\n        });\n    },\n    reload: function(forcedReload) {\n        window.location.reload(forcedReload ? true : false);\n    },\n    check_new_release: function() { // calling this method is handled by GTM tags\n        var last_reload = localStorage.getItem('new_release_reload_time');\n        if(last_reload && last_reload * 1 + 10 * 60 * 1000 > moment().valueOf()) return; // prevent reload in less than 10 minutes\n        var currect_hash = $('script[src*=\"binary.min.js\"],script[src*=\"binary.js\"]').attr('src').split('?')[1];\n        var xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n            if (xhttp.readyState == 4 && xhttp.status == 200) {\n                var latest_hash = xhttp.responseText;\n                if(latest_hash && latest_hash !== currect_hash) {\n                    localStorage.setItem('new_release_reload_time', moment().valueOf());\n                    page.reload(true);\n                }\n            }\n        };\n        xhttp.open('GET', page.url.url_for_static() + 'version?' + Math.random().toString(36).slice(2), true);\n        xhttp.send();\n    },\n    check_language: function() {\n        if (page.language() === 'ID') {\n          change_blog_link('id');\n        }\n        if (japanese_client()) {\n            $('.ja-hide').addClass('invisible');\n            $('.ja-show').attr('style', 'display: inline !important; visibility: visible;');\n            $('.ja-show-block').attr('style', 'display: inline-block !important; visibility: visible;');\n            $('.ja-no-padding').attr('style', 'padding-top: 0; padding-bottom: 0;');\n            $('#regulatory-text').removeClass('gr-9 gr-7-p')\n                                 .addClass('gr-12 gr-12-p');\n        }\n    },\n};\n\nmodule.exports = {\n    clock_started: clock_started,\n    GTM: GTM,\n    User: User,\n    Client: Client,\n    URL: URL,\n    Menu: Menu,\n    Header: Header,\n    Contents: Contents,\n    Page: Page,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/page.js\n ** module id = 9\n ** module chunks = 0\n **/","var isStorageSupported = function(storage) {\n    if(typeof storage === 'undefined') {\n        return false;\n    }\n\n    var testKey = 'test';\n    try {\n        storage.setItem(testKey, '1');\n        storage.removeItem(testKey);\n        return true;\n    } catch(e) {\n        return false;\n    }\n};\n\nvar Store = function(storage) {\n    this.storage = storage;\n};\n\nStore.prototype = {\n      get: function(key) {\n          return this.storage.getItem(key) || undefined;\n      },\n      set: function(key, value) {\n          if (typeof value != \"undefined\") {\n              this.storage.setItem(key, value);\n          }\n      },\n      remove: function(key) {\n          this.storage.removeItem(key);\n      },\n      clear: function() {\n          this.storage.clear();\n      },\n};\n\nvar InScriptStore = function(object) { \n    this.store = typeof object !== 'undefined' ? object : {};\n};\n\nInScriptStore.prototype = {\n    get: function(key) {\n        return this.store[key];\n    },\n    set: function(key, value) {\n        this.store[key] = value;\n    },\n    remove:  function(key) {\n        this.store[key] = undefined;\n    },\n    clear: function() {\n        this.store = {};\n    }\n};\n\nvar CookieStorage = function (cookie_name, cookie_domain) {\n    this.initialized = false;\n    this.cookie_name = cookie_name;\n    var hostname = window.location.hostname;\n    this.domain = cookie_domain || (/\\.binary\\.com/i.test(hostname) ? '.' + hostname.split('.').slice(-2).join('.') : hostname);\n    this.path = '/';\n    this.expires = new Date('Thu, 1 Jan 2037 12:00:00 GMT');\n    this.value = {};\n};\n\nCookieStorage.prototype = {\n    read: function() {\n        var cookie_value = Cookies.get(this.cookie_name);\n        try {\n            this.value = cookie_value ? JSON.parse(cookie_value) : {};\n        } catch (e) {\n            this.value = {};\n        }\n        this.initialized = true;\n    },\n    write: function(value, expireDate, isSecure) {\n        if (!this.initialized) this.read();\n        this.value = value;\n        if(expireDate) this.expires = expireDate;\n        Cookies.set(this.cookie_name, this.value, {\n            expires: this.expires,\n            path   : this.path,\n            domain : this.domain,\n            secure : !!isSecure,\n        });\n    },\n    get: function(key) {\n        if (!this.initialized) this.read();\n        return this.value[key];\n    },\n    set: function(key, value) {\n        if (!this.initialized) this.read();\n        this.value[key] = value;\n        Cookies.set(this.cookie_name, this.value, {\n            expires: new Date(this.expires),\n            path   : this.path,\n            domain : this.domain,\n        });\n    },\n    remove: function() {\n        Cookies.remove(this.cookie_name, {\n            path   : this.path,\n            domain : this.domain,\n        });\n    }\n};\n\nvar Localizable = function(hash) {\n    this.texts = typeof hash !== 'undefined'? hash : {};\n};\n\nLocalizable.prototype = {\n    localize: function(text, params) {\n        var index = text.replace(/[\\s|.]/g, '_');\n        text = this.texts[index] || text;\n        // only do templating when explicitly required\n        return params ? template(text, params) : text;\n    }\n};\n\n// for testing\nif (typeof module !== 'undefined') {\n    module.exports = {\n        Localizable: Localizable\n    };\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/storage.js\n ** module id = 10\n ** module chunks = 0\n **/","//////////////////////////////////////////////////////////////////\n// Purpose: Write loading image to a container for ajax request\n// Parameters:\n// 1) container - a jQuery object\n//////////////////////////////////////////////////////////////////\nfunction showLoadingImage(container)\n{\n    var image_link = page.settings.get('image_link');\n\n    container.empty().append('<div id=\"std_loading_img\"><p>'+text.localize('loading...')+'</p><img src=\"'+image_link['hourglass']+'\" /></div>');\n}\n\n/**\n * Returns the highest z-index in the page.\n * Accepts a jquery style selector to only check those elements,\n * uses all container tags by default\n * If no element found, returns null.\n *\n * @param selector: a jquery style selector for target elements\n * @return int|null\n */\nfunction get_highest_zindex(selector) {\n    if (!selector) {\n        selector = 'div,p,area,nav,section,header,canvas,aside,span';\n    }\n    var all = [];\n    var _store_zindex = function () {\n        if ($(this).is(':visible')) {\n            var z = $(this).css(\"z-index\");\n            if ( !isNaN(z) ) {\n                all.push(z);\n            }\n        }\n    };\n    $(selector).each(_store_zindex);\n\n    return all.length ? Math.max.apply(Math, all) : null;\n}\n\n/**\n * Gets a DOM or jQuery element and reads its data attributes\n * and return an object of data stored in element attributes.\n * This is used where we store some data as element attributes.\n * Excludes commont HTML attributes from the element.\n *\n * @param element: DOM|jQuery element\n * @return object\n */\nfunction element_data_attrs(element) {\n    if (element && element instanceof jQuery) {\n        element = element.get().pop();\n    }\n    if (!element || !element.attributes) {\n        console.log(element);\n        throw new Error(\"Can not get data attributes from none element parameter\");\n    }\n    var data = {};\n    var attrs = element.attributes;\n    if (attrs.length) {\n        var attr_blacklist = ['id', 'class', 'name', 'style', 'href', 'src', 'title', 'onclick'];\n        for (var i = 0; i < attrs.length; i++) {\n            var attr = attrs[i];\n            if (attr_blacklist.indexOf(attr.name.toLowerCase()) > -1) continue;\n            data[attr.name] = attr.value;\n        }\n    }\n    return data;\n}\n\n/**\n * Converts a snake_cased string to a camelCased string.\n * The first character case not changed unless requested.\n *\n * @param snake: snake_cased string\n * @param lower_case_first_char: boolean to force the first char to be lower cased\n * @param chars: string of chars to be considered a separator (default is _ and -)\n */\nfunction snake_case_to_camel_case(snake, lower_case_first_char, chars) {\n    chars = chars || '_-';\n    var _upper2ndchar = function (m) { return m[1].toUpperCase(); };\n    var regex = new RegExp('[' + chars + ']([a-zA-Z])', 'g');\n    var camel = snake.replace(regex, _upper2ndchar);\n    camel.replace('_', '');\n    if (lower_case_first_char) {\n        camel = camel[0].toLowerCase() + camel.substr(1);\n    }\n    return camel;\n}\n\n/**\n * attaches a datepicker to the specified element\n * This is a thin wrapper for datepicker, helps to keep a unique site-wide\n * default configurations for the datepicker.\n *\n * @param element any jquery selector or DOM/jQuery object to attach the datepicker to\n * @param config custom configurations for the datepicker\n */\nfunction attach_date_picker(element, conf) {\n    var k,\n        target = $(element);\n    if (!target || !target.length) return false;\n    var today = new Date();\n    var next_year = new Date();\n    next_year.setDate(today.getDate() + 365);\n    var options = {\n        dateFormat: 'yy-mm-dd',\n        maxDate: next_year,\n    };\n    for (k in conf) if (conf.hasOwnProperty(k)) {\n        options[k] = conf[k];\n    }\n    return target.datepicker(options);\n}\n\n/**\n * attaches a timepicker to the specified element.\n * This is a thin wrapper for timepicker, helps to keep a unique site-wide\n * default configurations for the timepicker.\n *\n * @param element any jquery selector or DOM/jQuery object to attach the timepicker to\n * @param config custom configurations for the timepicker\n */\nfunction attach_time_picker(element, conf) {\n    var attr, k, target = $(element);\n    if (!target || !target.length) return false;\n    var opts = {\n        timeSeparator: ':',\n        showLeadingZero: true,\n        howMinutesLeadingZero: true,\n        hourText: text.localize(\"Hour\"),\n        minuteText: text.localize(\"Minute\"),\n        minTime: {},\n        maxTime: {},\n    };\n    var data_attrs = element_data_attrs(target);\n    var regex = /^time\\:(.+)/;\n    for (attr in data_attrs) if (data_attrs.hasOwnProperty(attr)) {\n        var matched = attr.match(regex);\n        if (matched) {\n            var data = data_attrs[attr];\n            var opt_name = matched[1].trim();\n            if (data == 'true') {\n                data = true;\n            } else if (data == 'false') {\n                data = false;\n            }\n            opt_name = snake_case_to_camel_case(opt_name, true).toLowerCase();\n            switch (opt_name) {\n                case 'mintimehour':\n                    opts.minTime.hour = data;\n                    break;\n                case 'mintimeminute':\n                    opts.minTime.minute = data;\n                    break;\n                case 'maxtimehour':\n                    opts.maxTime.hour = data;\n                    break;\n                case 'maxtimeminute':\n                    opts.maxTime.minute = data;\n                    break;\n            }\n        }\n    }\n    for (k in conf) if (conf.hasOwnProperty(k)) {\n        opts[k] = conf[k];\n    }\n    return target.timepicker(opts);\n}\n\n/**\n * in a jquery UI tabs object, finds out whitch tab is marked to be the\n * active tab by default.\n *\n * The default active tab is selected based on CSS classes of tab list items.\n *\n * @param element any jquery selector or DOM/jquery object that contains a jquery UI tab UL\n * @return int the index of active list item or 0 if none of the items were\n * marked as active.\n */\nfunction find_active_jqtab(el) {\n    var jqel = $(el);\n    var ul = jqel.children('ul');\n    if (!ul) throw new Error(\"Invalid parameter. element is not a jquery UI tab container\");\n    ul = ul.filter(\":first\");\n    var items = ul.children('li');\n    for (var i = 0; i < items.length; i++) {\n        if ($(items[i]).hasClass('active')) {\n            return i;\n        }\n    }\n    return 0;\n}\n\n/**\n * attaches tabs to the specified element selector\n *\n * @param element any jquery selector or DOM/jQuery object\n */\nfunction attach_tabs(element) {\n    var targets = $(element);\n    targets.each(function () {\n        var jqel = $(this);\n        var conf = {};\n        var active = 0;\n        try {\n            active = find_active_jqtab(jqel);\n        } catch (e) {\n            console.log(e);\n            console.log(jqel);\n        }\n        if (active) {\n            conf['active'] = active;\n            $('li.active', jqel).removeClass('active');\n        }\n        jqel.tabs(conf);\n    });\n    return targets;\n}\n\nfunction showLocalTimeOnHover(s) {\n    $(s || '.date').each(function(idx, ele) {\n        var gmtTimeStr = ele.textContent.replace('\\n', ' ');\n        var localTime  = moment.utc(gmtTimeStr, 'YYYY-MM-DD HH:mm:ss').local();\n        if (!localTime.isValid()) {\n            return;\n        }\n\n        var localTimeStr = localTime.format('YYYY-MM-DD HH:mm:ss Z');\n        $(ele).attr('data-balloon', localTimeStr);\n    });\n}\n\nfunction toJapanTimeIfNeeded(gmtTimeStr, showTimeZone, longcode, hideSeconds){\n    var match;\n    if (longcode && longcode !== '') {\n      match = longcode.match(/((?:\\d{4}-\\d{2}-\\d{2})\\s?(\\d{2}:\\d{2}:\\d{2})?(?:\\sGMT)?)/);\n      if (!match) return longcode;\n    }\n\n    var curr = localStorage.getItem('client.currencies'),\n        timeStr = gmtTimeStr,\n        time;\n\n    if(typeof gmtTimeStr === 'number'){\n        time = moment.utc(gmtTimeStr*1000);\n    } else if(gmtTimeStr){\n        time = moment.utc(gmtTimeStr, 'YYYY-MM-DD HH:mm:ss');\n    } else {\n        time = moment.utc(match[0], 'YYYY-MM-DD HH:mm:ss');\n    }\n\n    if (!time.isValid()) {\n        return;\n    }\n\n    timeStr = time.zone(curr === 'JPY' ? '+09:00' : '+00:00').format((hideSeconds ? 'YYYY-MM-DD HH:mm' : 'YYYY-MM-DD HH:mm:ss' ) + (showTimeZone && showTimeZone !== '' ? curr === 'JPY' ? ' zZ' : ' Z' : ''));\n\n    return (longcode ? longcode.replace(match[0], timeStr) : timeStr);\n}\n\nfunction downloadCSV(csvContents, filename) {\n    var csv = 'data:text/csv;charset=utf-8,' + csvContents;\n    var downloadLink = document.createElement('a');\n    downloadLink.href = encodeURI(csv);\n    downloadLink.download = filename || 'data.csv';\n\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n}\n\nfunction template(string, content) {\n    return string.replace(/\\[_(\\d+)\\]/g, function(s, index) {\n        return content[(+index) - 1];\n    });\n}\n\nfunction objectNotEmpty(obj) {\n    if (obj && obj instanceof Object) {\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) return true;\n        }\n    }\n    return false;\n}\n\nfunction parseLoginIDList(string) {\n    if (!string) return [];\n    return string.split('+').sort().map(function(str) {\n        var items = str.split(':');\n        var id = items[0];\n        return {\n            id:        id,\n            real:      items[1] === 'R',\n            disabled:  items[2] === 'D',\n            financial: /^MF/.test(id),\n            non_financial: /^MLT/.test(id),\n        };\n    });\n}\n\n//used temporarily for mocha test\nif (typeof module !== 'undefined') {\n    module.exports = {\n        toJapanTimeIfNeeded: toJapanTimeIfNeeded,\n        objectNotEmpty: objectNotEmpty,\n        template: template,\n        parseLoginIDList: parseLoginIDList,\n    };\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base/utility.js\n ** module id = 11\n ** module chunks = 0\n **/","// for IE (before 10) we use a jquery plugin called jQuery.XDomainRequest. Explained here,\n//http://stackoverflow.com/questions/11487216/cors-with-jquery-and-xdomainrequest-in-ie8-9\n//\n$(function(){\n    $(document).ajaxSuccess(function () {\n        var contents = new Contents(page.client, page.user);\n        contents.on_load();\n    });\n});\n\nvar SessionStore, LocalStore;\nif (isStorageSupported(window.localStorage)) {\n    LocalStore = new Store(window.localStorage);\n}\n\nif (isStorageSupported(window.sessionStorage)) {\n    if (!LocalStore) {\n        LocalStore = new Store(window.sessionStorage);\n    }\n    SessionStore = new Store(window.sessionStorage);\n}\n\nif (!SessionStore || !LocalStore) {\n    if (!LocalStore) {\n        LocalStore = new InScriptStore();\n    }\n    if (!SessionStore) {\n        SessionStore = new InScriptStore();\n    }\n}\n\nvar page = new Page(window.page_params);\n\nonLoad.queue(function () {\n    page.on_load();\n});\n\nonUnload.queue(function () {\n    page.on_unload();\n});\n\n//////////////////////////////////////////////////////////////\n//Purpose: To solve cross domain logged out server problem.\n//Return: Hostname for this page\n//////////////////////////////////////////////////////////////\nfunction changeUrlToSameDomain(url) {\n    var re = new RegExp('^(http|https):\\/\\/[.a-zA-Z0-9-]+/');\n    var server_name = window.location.protocol + '//' + window.location.hostname;\n    var same_domain_url = url.replace(re, server_name + '/');\n    return same_domain_url;\n}\n\nfunction formEffects() {\n    var select_focus_event = function () {\n        $(this)\n            .addClass('focus')\n            .siblings().addClass('focus')\n            .parents('fieldset').addClass('focus');\n    };\n    var select_blur_event = function () {\n        $(this)\n            .removeClass('focus')\n            .siblings().removeClass('focus')\n            .parents('fieldset').removeClass('focus');\n    };\n    var input_focus_event = function () {\n        $(this)\n            .parent('div').addClass('focus')\n            .parents('fieldset').addClass('focus');\n    };\n    var input_blur_event = function () {\n        $(this)\n            .parent('div').removeClass('focus')\n            .parents('fieldset').removeClass('focus');\n    };\n\n    this.set = function (jqObject) {\n        jqObject\n            .delegate('select', 'focus', select_focus_event)\n            .delegate('select', 'blur', select_blur_event);\n\n        jqObject\n            .delegate('input[type=text],input[type=password],textarea', 'focus', input_focus_event)\n            .delegate('input[type=text],input[type=password],textarea', 'blur', input_blur_event);\n    };\n}\n\nfunction add_click_effect_to_button() {\n    var prefix = function (class_name) {\n        var class_names = class_name.split(/\\s+/);\n        var _prefix = 'button';\n        var cn = class_names.shift();\n\n        while (cn) {\n            if (cn && cn != _prefix && !cn.match(/-focus|-hover/)) {\n                _prefix = cn;\n                break;\n            }\n            cn = class_names.shift();\n        }\n\n        return _prefix;\n    };\n\n    var remove_button_class = function (button, class_name) {\n        button.removeClass(class_name).children('.button').removeClass(class_name).end().parent('.button').removeClass(class_name);\n    };\n    var add_button_class = function (button, class_name) {\n        button.addClass(class_name).children('.button').addClass(class_name).end().parent('.button').addClass(class_name);\n    };\n\n    $('#content,#popup')\n        .delegate('.button', 'mousedown', function () {\n            var class_name = prefix(this.className) + '-focus';\n            add_button_class($(this), class_name);\n        })\n        .delegate('.button', 'mouseup', function () {\n            var class_name = prefix(this.className) + '-focus';\n            remove_button_class($(this), class_name);\n        })\n        .delegate('.button', 'mouseover', function () {\n            var class_name = prefix(this.className) + '-hover';\n            add_button_class($(this), class_name);\n        })\n        .delegate('.button', 'mouseout', function () {\n            var class_name = prefix(this.className) + '-hover';\n            remove_button_class($(this), class_name);\n        });\n}\n\nvar make_mobile_menu = function () {\n    if ($('#mobile-menu-container').is(':visible')) {\n        $('#mobile-menu').mmenu({\n            position: 'right',\n            zposition: 'front',\n            slidingSubmenus: false,\n            searchfield: true,\n            onClick: {\n                close: true\n            },\n        }, {\n            selectedClass: 'active',\n        });\n    }\n};\n\nonLoad.queue(function () {\n    $('.tm-ul > li').hover(\n        function () {\n            $(this).addClass('hover');\n        },\n        function () {\n            $(this).removeClass('hover');\n        }\n    );\n\n    MenuContent.init($('.content-tab-container').find('.tm-ul'));\n\n    add_click_effect_to_button();\n    make_mobile_menu();\n\n    // attach the class to account form's div/fieldset for CSS visual effects\n    var objFormEffect = new formEffects();\n    objFormEffect.set($('form.formObject'));\n\n    var i = window.location.href.split('#');\n    if (i.length != 2) return;\n    var o = document.getElementsByTagName('a');\n    for (var t = 0; t < o.length; t++) {\n        if (o[t].href.substr(o[t].href.length - i[1].length - 1) == '#' + i[1]) {\n            o[t].click();\n            break;\n        }\n    }\n\n});\n\nonLoad.queue(function () {\n    attach_date_picker('.has-date-picker');\n    attach_time_picker('.has-time-picker');\n    attach_tabs('.has-tabs');\n});\n\n// LocalStorage can be used as a means of communication among\n// different windows. The problem that is solved here is what\n// happens if the user logs out or switches loginid in one\n// window while keeping another window or tab open. This can\n// lead to unintended trades. The solution is to reload the\n// page in all windows after switching loginid or after logout.\n\n// onLoad.queue does not work on the home page.\n// jQuery's ready function works always.\n\n$(document).ready(function () {\n    if ($('body').hasClass('BlueTopBack')) return; // exclude BO\n    // Cookies is not always available.\n    // So, fall back to a more basic solution.\n    var match = document.cookie.match(/\\bloginid=(\\w+)/);\n    match = match ? match[1] : '';\n    $(window).on('storage', function (jq_event) {\n        switch(jq_event.originalEvent.key) {\n            case 'active_loginid':\n                if (jq_event.originalEvent.newValue === match) return;\n                if (jq_event.originalEvent.newValue === '') {\n                    // logged out\n                    page.reload();\n                } else if (!window['is_logging_in']) {\n                    // loginid switch\n                     page.reload();\n                }\n                break;\n            case 'new_release_reload_time':\n                if (jq_event.originalEvent.newValue !== jq_event.originalEvent.oldValue) {\n                    page.reload(true);\n                }\n                break;\n        }\n    });\n\n    LocalStore.set('active_loginid', match);\n    var start_time;\n    var time_now;\n    var evt = (\n        (document.webkitHidden && 'webkitvisibilitychange') ||\n        (document.hidden && 'visibilitychange') ||\n        null\n    );\n    if (!evt || !document.addEventListener) return;\n    document.addEventListener(evt, function tabChanged() {\n        if (!clock_started) return;\n        if (document.hidden || document.webkitHidden) {\n            start_time = moment().valueOf();\n            time_now = page.header.time_now;\n        } else {\n            time_now = (time_now + (moment().valueOf() - start_time));\n            page.header.time_now = time_now;\n        }\n    });\n});\n\nvar TUser = (function () {\n    var data = {};\n    return {\n        extend: function(ext) { $.extend(data, ext); },\n        set: function(a) { data = a; },\n        get: function() { return data; }\n    };\n})();\n\n/*\n * Make sure data js is loaded before this\n * else website will not work properly\n * objects texts_json, markets_list, markets_json\n * should be available\n */\n\n// make texts object as Localizable\nvar texts = {};\nfor (var key in texts_json) {\n    if (texts_json.hasOwnProperty(key)) {\n        texts[key] = new Localizable(texts_json[key]);\n    }\n}\n\n// make markets object\nvar markets = new Markets(markets_list, markets_json);\n\nmodule.exports = {\n    page: page,\n    make_mobile_menu: make_mobile_menu,\n    TUser: TUser,\n    texts: texts,\n    markets: markets,\n    changeUrlToSameDomain: changeUrlToSameDomain,\n    formEffects: formEffects,\n    add_click_effect_to_button: add_click_effect_to_button,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/base.js\n ** module id = 12\n ** module chunks = 0\n **/","var ActiveSymbols = (function () {\n    'use strict';\n\n    var objectNotEmpty = typeof window === 'undefined' ?\n        require('../base/utility').objectNotEmpty :\n        window.objectNotEmpty;\n\n    var groupBy = function(xs, key) {\n        return xs.reduce(function(rv, x) {\n            (rv[x[key]] = rv[x[key]] || []).push(x);\n            return rv;\n        }, {});\n    };\n\n    var extend = function extend(a, b) {\n        if (!a || !b) return;\n        Object.keys(b).forEach(function(key){\n            a[key] = b[key];\n        });\n        return a;\n    };\n\n    var clone = function clone(obj) {\n        return extend({}, obj);\n    };\n\n    var activeSymbols = {\n        markets: {},\n        submarkets: {},\n        symbols: {},\n        getMarkets: function getMarkets(activeSymbols) {\n            if ( objectNotEmpty(this.markets) ) {\n                return clone(this.markets);\n            } else {\n                var that = this;\n                var markets = groupBy(activeSymbols, 'market');\n                var parsedMarkets = [];\n                Object.keys(markets).forEach(function(key){\n                    var marketName = key;\n                    var marketSymbols = markets[key];\n                    var symbol = marketSymbols[0];\n                    that.markets[marketName] = {\n                        name: symbol.market_display_name,\n                        is_active: !symbol.is_trading_suspended && symbol.exchange_is_open,\n                    };\n                    that.getSubmarketsForMarket(marketSymbols, that.markets[marketName]);\n                });\n                return clone(this.markets);\n            }\n        },\n        getSubmarketsForMarket: function getSubmarketsForMarket(activeSymbols, market) {\n            if ( objectNotEmpty(market.submarkets) ) {\n                return clone(market.submarkets);\n            } else {\n                market.submarkets = {};\n                var that = this;\n                var submarkets = groupBy(activeSymbols, 'submarket');\n                var parsedSubmarkets = [];\n                Object.keys(submarkets).forEach(function(key){\n                    var submarketName = key;\n                    var submarketSymbols = submarkets[key];\n                    var symbol = submarketSymbols[0];\n                    market.submarkets[submarketName] = {\n                        name: symbol.submarket_display_name,\n                        is_active: !symbol.is_trading_suspended && symbol.exchange_is_open,\n                    };\n                    that.getSymbolsForSubmarket(submarketSymbols, market.submarkets[submarketName]);\n                });\n                return clone(market.submarkets);\n            }\n        },\n        getSymbolsForSubmarket: function getSymbolsForSubmarket(activeSymbols, submarket) {\n            if ( !objectNotEmpty(submarket.symbols) ) {\n                submarket.symbols = {};\n                activeSymbols.forEach(function(symbol){\n                    submarket.symbols[symbol.symbol] = {\n                        display: symbol.display_name,\n                        symbol_type: symbol.symbol_type,\n                        is_active: !symbol.is_trading_suspended && symbol.exchange_is_open,\n                        pip: symbol.pip,\n                        market: symbol.market,\n                        submarket: symbol.submarket\n                    };\n                });\n            }\n            return clone(submarket.symbols);\n        },\n        getSubmarkets: function getSubmarkets(active_symbols) {\n            if ( !objectNotEmpty(this.submarkets) ) {\n                var markets = this.getMarkets(active_symbols);\n                var that = this;\n                Object.keys(markets).forEach(function(key){\n                    var market = markets[key];\n                    var submarkets = that.getSubmarketsForMarket(active_symbols, market);\n                    extend(that.submarkets, submarkets);\n                });\n            }\n            return clone(this.submarkets);\n        },\n        getSymbols: function getSymbols(active_symbols) {\n            if ( !objectNotEmpty(this.symbols) ) {\n                var submarkets = this.getSubmarkets(active_symbols);\n                var that = this;\n                Object.keys(submarkets).forEach(function(key){\n                    var submarket = submarkets[key];\n                    var symbols = that.getSymbolsForSubmarket(active_symbols, submarket);\n                    extend(that.symbols, symbols);\n                });\n            }\n            return clone(this.symbols);\n        },\n        getMarketsList: function getMarketsList(active_symbols) {\n            var tradeMarketsList = {};\n            extend(tradeMarketsList, this.getMarkets(active_symbols));\n            extend(tradeMarketsList, this.getSubmarkets(active_symbols));\n            return tradeMarketsList;\n        },\n        getTradeUnderlyings: function getTradeUnderlyings(active_symbols) {\n            var tradeUnderlyings = {};\n            var symbols = this.getSymbols(active_symbols);\n            Object.keys(symbols).forEach(function(key){\n                var symbol = symbols[key];\n                if ( !tradeUnderlyings[symbol.market] ) {\n                    tradeUnderlyings[symbol.market] = {};\n                }\n                if ( !tradeUnderlyings[symbol.submarket] ) {\n                    tradeUnderlyings[symbol.submarket] = {};\n                }\n                tradeUnderlyings[symbol.market][key] = symbol;\n                tradeUnderlyings[symbol.submarket][key] = symbol;\n            });\n            return tradeUnderlyings;\n        },\n        getSymbolNames: function getSymbolNames(active_symbols){\n            var symbols = clone(this.getSymbols(active_symbols));\n            Object.keys(symbols).forEach(function(key){\n                symbols[key] = symbols[key].display;\n            });\n            return symbols;\n        },\n    };\n    if (typeof module !== 'undefined') {\n        module.exports = activeSymbols;\n    }\n    return activeSymbols;\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/active_symbols.js\n ** module id = 13\n ** module chunks = 0\n **/","var Button = (function(){\n    \"use strict\";\n    function createBinaryStyledButton(){\n        var span = $(\"<span></span>\", {class: \"button\"});\n        var button = $(\"<button></button>\", {class: \"button\"});\n        span.append(button);\n\n        return span;\n    }\n\n    return {\n        createBinaryStyledButton: createBinaryStyledButton\n    };\n}());\n\nmodule.exports = {\n    Button: Button,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/attach_dom/button.js\n ** module id = 14\n ** module chunks = 0\n **/","var FlexTableUI = function(config) {\n    this.config = config;\n    this.id = config.id;\n    var $tableContainer = Table.createFlexTable(\n        [],\n        this.getMetadata(),\n        config.header,\n        config.footer\n    );\n    // Table.appendTablebody expects the table to already\n    // exist in the DOM, so we need to append first\n    $tableContainer.appendTo(config.container);\n    this.extend(config.data);\n};\n\nFlexTableUI.prototype = {\n    getMetadata: function() {\n        return {\n            id:         this.config.id,\n            tableClass: this.config.class,\n            cols:       this.config.cols,\n        };\n    },\n\n    extend: function(data) {\n        var cols = this.config.cols;\n        var formatter = this.config.formatter;\n        var style = this.config.style;\n        Table.appendTableBody(this.id, data, function(datum) {\n            var $row = Table.createFlexTableRow(formatter(datum), cols, 'data');\n            if (style) {\n                style($row, datum);\n            }\n            return $row[0];\n        });\n    },\n\n    displayError: function(message, colspan) {\n        var $tr = $('<tr/>', {class: 'flex-tr'});\n        var $td = $('<td/>', {colspan: colspan});\n        var $p  = $('<p/>', {class: 'notice-msg center-text', text: message});\n        return $('#' + this.id + ' tbody').append($tr.append($td.append($p)));\n    },\n\n    replace: function(data) {\n        Table.clearTableBody(this.id);\n        this.extend(data);\n    },\n\n    clear: function() {\n        this.replace([]);\n        $('#' + this.id + '> tfoot').hide();\n    }\n};\n\nmodule.exports = {\n    FlexTableUI: FlexTableUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/attach_dom/flextable.js\n ** module id = 15\n ** module chunks = 0\n **/","var PasswordMeter = (function(){\n    'use strict';\n\n    /**\n     * attach password meter to DOM\n     * @param $container       container for password meter, can be a p or div\n     * @param id               optional id for meter element\n     */\n    function attach($container) {\n        if (isIE()) return;\n        var $meter = $('<meter></meter>', {id: 'password-meter', min: 0, max: 50, high: 20, low: 10, optimum: 50});\n        $container\n            .append($meter);\n    }\n\n    /**\n     * Update password meter\n     * @param $container        container for password meter, can be a p or div\n     * @param newPW\n     */\n    function updateMeter($container, newPW) {\n        var pwStrength = testPassword(newPW);\n        var pwStrengthScore = pwStrength[0];\n\n        $container.children('meter').val(pwStrengthScore);\n    }\n\n    return {\n        attach: attach,\n        updateMeter: updateMeter\n    };\n}());\n\nmodule.exports = {\n    PasswordMeter: PasswordMeter,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/attach_dom/password_strength_meter.js\n ** module id = 16\n ** module chunks = 0\n **/","var Table = (function(){\n    \"use strict\";\n    /***\n     *\n     * @param {Array[]} data ordered data to pump into table body\n     * @param {Object} metadata object containing metadata of table\n     * @param {String[]} metadata.cols cols of table\n     * @param {String} metadata.id table id\n     * @param {String[]} [metadata.tableClass] class used in html\n     * @param {String[]} [header] string to be used as Header in table, if not stated then table will not have Header\n     * @param {String[]} [footer] string to be used as footer, to have empty footer, simply use an empty element in array\n     * eg. [\"\", \"halo\", \"\"] will have 3 elements in footer, 2 of them being empty\n     */\n    function createFlexTable(body, metadata, header, footer){\n        var $tableContainer = $(\"<div></div>\", {class: \"table-container\"});\n        var $table = $(\"<table></table>\", {class: metadata.tableClass || '', id: metadata.id});\n        var $body = createFlexTableTopGroup(body, metadata.cols, \"body\");\n\n        if (header) {\n            var $header = createFlexTableTopGroup([header], metadata.cols, \"header\");\n            $header.appendTo($table);\n        }\n\n        $body.appendTo($table);\n\n        if (footer) {\n            var $footer = createFlexTableTopGroup([footer], metadata.cols, \"footer\");\n            $footer.appendTo($table);\n        }\n\n        $table.appendTo($tableContainer);\n\n        return $tableContainer;\n    }\n\n    /***\n     *\n     * @param {object[][]} data header strings\n     * @param {String[]} metadata cols name\n     * @param {\"header\"\\\"footer\"|\"body\"} opt optional arg to specify which type of element to create, default to header\n     */\n    function createFlexTableTopGroup(data, metadata, opt){\n\n        var $outer = function(){\n            switch (opt) {\n                case \"body\":\n                    return $(\"<tbody></tbody>\");\n                case \"footer\":\n                    return $(\"<tfoot></tfoot>\");\n                default :\n                    return $(\"<thead></thead>\");\n            }\n        }();\n\n        for (var i = 0 ; i < data.length ; i++){\n            var innerType = (opt === \"body\") ? \"data\" : \"header\";\n            var $tr = createFlexTableRow(data[i], metadata, innerType);\n            $tr.appendTo($outer);\n        }\n\n        return $outer;\n    }\n\n    /***\n     *\n     * @param {object[]} data\n     * @param {String[]} metadata cols name\n     * @param {\"header\"|\"data\"} opt optional, default to \"header\"\n     */\n    function createFlexTableRow(data, metadata, opt){\n        if (data.length !== metadata.length) {\n            throw new Error(\"metadata and data does not match\");\n        }\n\n        var isData = (opt === \"data\");\n\n        var $tr = $(\"<tr></tr>\");\n        for (var i = 0 ; i < data.length ; i++){\n            var className = metadata[i].toLowerCase().replace(/\\s/g, \"-\");\n            var rowElement = (isData) ?\n                $(\"<td></td>\", {class: className, html: data[i]}) :\n                $(\"<th></th>\", {class: className, html: data[i]});\n            rowElement.appendTo($tr);\n        }\n\n        return $tr;\n    }\n\n    function clearTableBody(id){\n        var tbody = document.querySelector(\"#\" + id +\">tbody\");\n        while (tbody && tbody.firstElementChild){\n            tbody.removeChild(tbody.firstElementChild);\n        }\n    }\n\n    /***\n     *\n     * @param {String} id table id\n     * @param {Object[]} data array of data to be transform to row\n     * @param {Function} rowGenerator takes in one arg, and convert it into row to be append to table body\n     */\n    function appendTableBody(id, data, rowGenerator){\n        var tbody = document.querySelector(\"#\" + id +\">tbody\");\n        if (!tbody) return;\n        var docFrag = document.createDocumentFragment();\n        data.map(function(ele){\n            var row = rowGenerator(ele);\n            docFrag.appendChild(row);\n        });\n\n        tbody.appendChild(docFrag);\n    }\n\n    /***\n     *\n     * @param {String} id table id\n     * @param {Object[]} data array of data to be transform to row\n     * @param {Function} rowGenerator takes in one arg, and convert it into row to be append to table body\n     */\n    function overwriteTableBody(id, data, rowGenerator){\n        clearTableBody(id);\n        appendTableBody(id, data, rowGenerator);\n    }\n\n    return {\n        createFlexTable: createFlexTable,\n        createFlexTableRow: createFlexTableRow,\n        overwriteTableBody: overwriteTableBody,\n        clearTableBody: clearTableBody,\n        appendTableBody: appendTableBody\n    };\n}());\n\nmodule.exports = {\n    Table: Table,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/attach_dom/table.js\n ** module id = 17\n ** module chunks = 0\n **/","var CommonData = {\n    getLoginToken: function() { return Cookies.get('login'); }\n};\n\nmodule.exports = {\n    CommonData: CommonData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/common_data.js\n ** module id = 18\n ** module chunks = 0\n **/","function format_money(currency, amount) {\n    var symbol = format_money.map[currency];\n    if (symbol === undefined) {\n        return currency + ' ' + amount;\n    }\n    return symbol + amount;\n}\n\n// Taken with modifications from:\n//    https://github.com/bengourley/currency-symbol-map/blob/master/map.js\n// When we need to handle more currencies please look there.\nformat_money.map = {\n    \"USD\": \"$\",\n    \"GBP\": \"£\",\n    \"AUD\": \"A$\",\n    \"EUR\": \"€\",\n    \"JPY\": \"¥\",\n};\n\nif (typeof module !== 'undefined') {\n    module.exports = {\n        format_money: format_money,\n    };\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/currency_to_symbol.js\n ** module id = 19\n ** module chunks = 0\n **/","function onlyNumericOnKeypress(ev) {\n    var key = ev.keyCode;\n    var char = String.fromCharCode(ev.which);\n    if(\n        (char === '.' && ev.target.value.indexOf(char) >= 0) ||\n        (!/[0-9\\.]/.test(char) && [8, 37, 39, 46].indexOf(key) < 0) || // delete, backspace, arrow keys\n        /['%]/.test(char)) { // similarity to arrows key code in some browsers\n\n        ev.returnValue = false;\n        ev.preventDefault();\n    }\n}\n\nmodule.exports = {\n    onlyNumericOnKeypress: onlyNumericOnKeypress,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/event_handler.js\n ** module id = 20\n ** module chunks = 0\n **/","var sidebar_scroll = function(elm_selector) {\n    elm_selector.on('click', '#sidebar-nav li', function() {\n        var clicked_li = $(this);\n        $.scrollTo($('.section:eq(' + clicked_li.index() + ')'), 500);\n        return false;\n    }).addClass('unbind_later');\n\n    if (elm_selector.size()) {\n        // grab the initial top offset of the navigation\n        var selector = elm_selector.find('.sidebar');\n        var width = selector.width();\n        var sticky_navigation_offset_top = selector.offset().top;\n        // With thanks:\n        // http://www.backslash.gr/content/blog/webdevelopment/6-navigation-menu-that-stays-on-top-with-jquery\n\n        // our function that decides weather the navigation bar should have \"fixed\" css position or not.\n        var sticky_navigation = function() {\n            var scroll_top = $(window).scrollTop(); // our current vertical position from the top\n\n            // if we've scrolled more than the navigation, change its position to fixed to stick to top,\n            // otherwise change it back to relative\n            if (scroll_top > sticky_navigation_offset_top && scroll_top + selector[0].offsetHeight < document.getElementById('footer').offsetTop) {\n                selector.css({'position': 'fixed', 'top': 0, 'width': width});\n            } else if (scroll_top + selector[0].offsetHeight > document.getElementById('footer').offsetTop) {\n                selector.css({'position': 'absolute', 'bottom': document.getElementById('footer').offsetHeight + 'px', 'top': '', 'width': width});\n            } else {\n                selector.css({'position': 'relative'});\n            }\n        };\n\n        //run our function on load\n        sticky_navigation();\n\n        var sidebar_nav = selector.find('#sidebar-nav');\n        var length = elm_selector.find('.section').length;\n        $(window).on('scroll', function() {\n            // and run it again every time you scroll\n            sticky_navigation();\n\n            for (var i = 0; i < length; i++) {\n                var sectionOffset = $('.section:eq(' + i + ')').offset();\n                if ($(window).scrollTop() === 0 || (sectionOffset && $(this).scrollTop() >= sectionOffset.top - 5)) {\n                    sidebar_nav.find('li').removeClass('selected');\n\n                    if ($(window).scrollTop() === 0) {\n                        // We're at the top of the screen, so highlight first nav item\n                        sidebar_nav.find('li:first-child').addClass('selected');\n                    } else if ($(window).scrollTop() + $(window).height() >= $(document).height()) {\n                        // We're at bottom of screen so highlight last nav item.\n                        sidebar_nav.find('li:last-child').addClass('selected');\n                    } else {\n                        sidebar_nav.find('li:eq(' + i + ')').addClass('selected');\n                    }\n                }\n            }\n        });\n    }\n};\n\nvar get_started_behaviour = function() {\n    // Get Started behaviour:\n\n    var update_active_subsection = function(to_show) {\n        var fragment;\n        var subsection = $('.subsection');\n        subsection.addClass('hidden');\n        to_show.removeClass('hidden');\n        var nav_back = $('.subsection-navigation .back');\n        var nav_next = $('.subsection-navigation .next');\n\n        if (to_show.hasClass('first')) {\n            nav_back.addClass('button-disabled');\n            nav_next.removeClass('button-disabled');\n        } else if (to_show.hasClass('last')) {\n            nav_back.removeClass('button-disabled');\n            nav_next.addClass('button-disabled');\n        } else {\n            nav_back.removeClass('button-disabled');\n            nav_next.removeClass('button-disabled');\n        }\n\n        fragment = to_show.find('a[name]').attr('name').slice(0, -8);\n        document.location.hash = fragment;\n\n        return false;\n    };\n\n    var to_show;\n    var nav = $('.get-started').find('.subsection-navigation');\n    var fragment;\n    var len = nav.length;\n\n    if (len) {\n        nav.on('click', 'a', function() {\n            var button = $(this);\n            if (button.hasClass('button-disabled')) {\n                return false;\n            }\n            var now_showing = $('.subsection:not(.hidden)');\n            var show = button.hasClass('next') ? now_showing.next('.subsection') : now_showing.prev('.subsection');\n            return update_active_subsection(show);\n        });\n\n        fragment = (location.href.split('#'))[1];\n        to_show = fragment ? $('a[name=' + fragment + '-section]').parent().parent('.subsection') : $('.subsection.first');\n        update_active_subsection(to_show);\n    }\n    select_nav_element();\n};\n\nvar select_nav_element = function() {\n  var $navLink = $('.nav li a');\n  var $navList = $('.nav li');\n  $navList.removeClass('selected');\n  for (var i = 0; i < $navLink.length; i++) {\n    if ($navLink[i].href.match(window.location.pathname)) {\n      document.getElementsByClassName('nav')[0].getElementsByTagName('li')[i].setAttribute('class', 'selected');\n      break;\n    }\n  }\n  return;\n};\n\nvar Charts = function(charts) {\n    window.open(charts, 'DetWin', 'width=580,height=710,scrollbars=yes,location=no,status=no,menubar=no');\n};\n\nvar email_rot13 = function(str) {\n    return str.replace(/[a-zA-Z]/g, function(c){return String.fromCharCode((c<=\"Z\"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);});\n};\n\nvar display_cs_contacts = function () {\n    $('.contact-content').on(\"change\", '#cs_telephone_number', function () {\n        var val = $(this).val();\n        $('#display_cs_telephone').text(val);\n    });\n    $('#cs_contact_eaddress').html(email_rot13(\"<n uers=\\\"znvygb:fhccbeg@ovanel.pbz\\\" ery=\\\"absbyybj\\\">fhccbeg@ovanel.pbz</n>\"));\n};\n\nvar change_chat_icon = function () {\n  // desk.com change icon - crude way\n  var len = $('#live-chat-icon').length;\n  if( len > 0 ) {\n      var timer = null;\n      var updateIcon =  function () {\n          var image_link = page.settings.get('image_link');\n          var desk_widget = $('.a-desk-widget');\n          var image_str = desk_widget.css('background-image');\n          if(image_str) {\n              desk_widget.css({\n                  'background-image': 'url(\"' + image_link['livechaticon'] + '\")',\n                  'background-size': 'contain',\n                  'min-width': 50,\n                  'min-height': 50,\n                  'width': 'auto'\n              });\n              desk_widget.hover(function() {\n                  $(this).css({\n                      'background': 'url(\"' + image_link['livechaticon'] + '\") no-repeat scroll 0 0',\n                      'background-size': 'contain',\n                  });\n              });\n\n              if(image_str.match(/live-chat-icon/g)){\n                  clearInterval(timer);\n              }\n          }\n      };\n      timer = setInterval(updateIcon, 500);\n  }\n};\n\nvar render_desk_widget = function() {\n       new DESK.Widget({\n                version: 1,\n                site: 'binary.desk.com',\n                port: '80',\n                type: 'chat',\n                id: 'live-chat-icon',\n                displayMode: 0,  //0 for popup, 1 for lightbox\n                features: {\n                        offerAlways: true,\n                        offerAgentsOnline: false,\n                        offerRoutingAgentsAvailable: false,\n                        offerEmailIfChatUnavailable: false\n                },\n                fields: {\n                        ticket: {\n                                // desc: &#x27;&#x27;,\n                // labels_new: &#x27;&#x27;,\n                // priority: &#x27;&#x27;,\n                // subject: &#x27;&#x27;,\n                // custom_loginid: &#x27;&#x27;\n                        },\n                        interaction: {\n                                // email: &#x27;&#x27;,\n                // name: &#x27;&#x27;\n                        },\n                        chat: {\n                                //subject: ''\n                        },\n                        customer: {\n                                // company: &#x27;&#x27;,\n                // desc: &#x27;&#x27;,\n                // first_name: &#x27;&#x27;,\n                // last_name: &#x27;&#x27;,\n                // locale_code: &#x27;&#x27;,\n                // title: &#x27;&#x27;,\n                // custom_loginid: &#x27;&#x27;\n                        }\n                }\n        }).render();\n};\n\nvar show_live_chat_icon = function() {\n    if(typeof DESK === 'undefined') {\n        loadCSS(\"https://d3jyn100am7dxp.cloudfront.net/assets/widget_embed_191.cssgz?1367387331\");\n        loadJS(\"https://d3jyn100am7dxp.cloudfront.net/assets/widget_embed_libraries_191.jsgz?1367387332\");\n    }\n\n\n    var desk_load = setInterval(function() {\n        if(typeof DESK !== \"undefined\") {\n            render_desk_widget();\n            change_chat_icon();\n            clearInterval(desk_load);\n        }\n    }, 80);\n};\n\nvar display_career_email = function() {\n    $(\"#hr_contact_eaddress\").html(email_rot13(\"<n uers=\\\"znvygb:ue@ovanel.pbz\\\" ery=\\\"absbyybj\\\">ue@ovanel.pbz</n>\"));\n};\n\nfunction check_login_hide_signup() {\n    if (page.client.is_logged_in) {\n        $('#verify-email-form').remove();\n        $('.break').attr('style', 'margin-bottom:1em');\n    }\n}\n\nfunction hide_if_logged_in() {\n    if (page.client.is_logged_in) {\n        $('.client_logged_out').remove();\n    }\n}\n\n// use function to generate elements and append them\n// e.g. element is select and element to append is option\nfunction appendTextValueChild(element, text, value, disabled){\n    var option = document.createElement(\"option\");\n    option.text = text;\n    option.value = value;\n    if (disabled === 'disabled') {\n      option.setAttribute('disabled', 'disabled');\n    }\n    element.appendChild(option);\n    return;\n}\n\n// append numbers to a drop down menu, eg 1-30\nfunction dropDownNumbers(select, startNum, endNum) {\n    select.appendChild(document.createElement(\"option\"));\n\n    for (var i = startNum; i <= endNum; i++){\n        var option = document.createElement(\"option\");\n        option.text = i;\n        option.value = i;\n        select.appendChild(option);\n    }\n    return;\n\n}\n\nfunction dropDownMonths(select, startNum, endNum) {\n    var months = [\n        text.localize(\"Jan\"),\n        text.localize(\"Feb\"),\n        text.localize(\"Mar\"),\n        text.localize(\"Apr\"),\n        text.localize(\"May\"),\n        text.localize(\"Jun\"),\n        text.localize(\"Jul\"),\n        text.localize(\"Aug\"),\n        text.localize(\"Sep\"),\n        text.localize(\"Oct\"),\n        text.localize(\"Nov\"),\n        text.localize(\"Dec\")\n    ];\n    select.appendChild(document.createElement(\"option\"));\n    for (var i = startNum; i <= endNum; i++){\n        var option = document.createElement(\"option\");\n        if (i <= '9') {\n            option.value = '0' + i;\n        } else {\n            option.value = i;\n        }\n        for (var j = i; j <= i; j++) {\n            option.text = months[j-1];\n        }\n        select.appendChild(option);\n    }\n    return;\n}\n\nfunction generateBirthDate(country){\n    var days    = document.getElementById('dobdd'),\n        months  = document.getElementById('dobmm'),\n        year    = document.getElementById('dobyy');\n\n    if (document.getElementById('dobdd').length > 1) return;\n\n    //days\n    dropDownNumbers(days, 1, 31);\n    //months\n    dropDownMonths(months, 1, 12);\n    var currentYear = new Date().getFullYear();\n    var startYear = currentYear - 100;\n    var endYear = currentYear - 17;\n    //years\n    dropDownNumbers(year, startYear, endYear);\n    if (japanese_client()) {\n      days.options[0].innerHTML = text.localize('Day');\n      months.options[0].innerHTML = text.localize('Month');\n      year.options[0].innerHTML = text.localize('Year');\n    }\n    return;\n}\n\nfunction isValidDate(day, month, year){\n    // Assume not leap year by default (note zero index for Jan)\n    var daysInMonth = [31,28,31,30,31,30,31,31,30,31,30,31];\n\n    // If evenly divisible by 4 and not evenly divisible by 100,\n    // or is evenly divisible by 400, then a leap year\n    if ( ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0) ) {\n        daysInMonth[1] = 29;\n    }\n    return day <= daysInMonth[--month];\n}\n\nfunction handle_residence_state_ws(){\n  BinarySocket.init({\n    onmessage: function(msg){\n      var select;\n      var response = JSON.parse(msg.data);\n      var type = response.msg_type;\n      var country;\n      var residenceDisabled = $('#residence-disabled');\n      if (type === 'get_settings') {\n        country = response.get_settings.country_code;\n        if (country && country !== null) {\n          page.client.residence = country;\n          generateBirthDate(country);\n          generateState();\n          if (/maltainvestws/.test(window.location.pathname)) {\n            var settings = response.get_settings;\n            var title = document.getElementById('title'),\n                fname = document.getElementById('fname'),\n                lname = document.getElementById('lname'),\n                dobdd = document.getElementById('dobdd'),\n                dobmm = document.getElementById('dobmm'),\n                dobyy = document.getElementById('dobyy');\n            var inputs = document.getElementsByClassName('input-disabled');\n            if (settings.salutation) {\n              title.value = settings.salutation;\n              fname.value = settings.first_name;\n              lname.value = settings.last_name;\n              var date = moment.utc(settings.date_of_birth * 1000);\n              dobdd.value = date.format('DD').replace(/^0/, '');\n              dobmm.value = date.format('MM');\n              dobyy.value = date.format('YYYY');\n              for (i = 0; i < inputs.length; i++) {\n                  inputs[i].disabled = true;\n              }\n              document.getElementById('address1').value = settings.address_line_1;\n              document.getElementById('address2').value = settings.address_line_2;\n              document.getElementById('address-town').value = settings.address_city;\n              window.state = settings.address_state;\n              document.getElementById('address-postcode').value = settings.address_postcode;\n              document.getElementById('tel').value = settings.phone;\n            } else {\n              for (i = 0; i < inputs.length; i++) {\n                  inputs[i].disabled = false;\n              }\n            }\n          }\n          return;\n        } else if (document.getElementById('move-residence-here')) {\n          var residenceForm = $('#residence-form');\n          $('#real-form').hide();\n          residenceDisabled.insertAfter('#move-residence-here');\n          $('#error-residence').insertAfter('#residence-disabled');\n          residenceDisabled.removeAttr('disabled');\n          residenceForm.show();\n          residenceForm.submit(function(evt) {\n            evt.preventDefault();\n            if (Validate.fieldNotEmpty(residenceDisabled.val(), document.getElementById('error-residence'))) {\n              page.client.residence = residenceDisabled.val();\n              BinarySocket.send({set_settings:1, residence:page.client.residence});\n            }\n            return;\n          });\n          return;\n        }\n      } else if (type === 'set_settings') {\n        var errorElement = document.getElementById('error-residence');\n        if (response.hasOwnProperty('error')) {\n          if (response.error.message) {\n            errorElement.innerHTML = response.error.message;\n            errorElement.setAttribute('style', 'display:block');\n          }\n          return;\n        } else {\n          errorElement.setAttribute('style', 'display:none');\n          BinarySocket.send({landing_company: page.client.residence});\n          return;\n        }\n      } else if (type === 'landing_company') {\n        Cookies.set('residence', page.client.residence, {domain: '.' + document.domain.split('.').slice(-2).join('.'), path: '/'});\n        if ( ((page.client.can_upgrade_gaming_to_financial(response.landing_company) && !page.client.is_virtual()) || page.client.can_upgrade_virtual_to_financial(response.landing_company) ) && !/maltainvestws/.test(window.location.href)) {\n          window.location.href = page.url.url_for('new_account/maltainvestws');\n          return;\n        } else if (page.client.can_upgrade_virtual_to_japan(response.landing_company) && page.client.is_virtual() && !/japanws/.test(window.location.href)) {\n          window.location.href = page.url.url_for('new_account/japanws');\n          return;\n        } else if (!$('#real-form').is(':visible')) {\n          $('#residence-form').hide();\n          residenceDisabled.insertAfter('#move-residence-back');\n          $('#error-residence').insertAfter('#residence-disabled');\n          residenceDisabled.attr('disabled', 'disabled');\n          $('#real-form').show();\n          generateBirthDate(country);\n          generateState();\n          return;\n        }\n      } else if (type === 'states_list') {\n        select = document.getElementById('address-state');\n        var states_list = response.states_list;\n        for (i = 0; i < states_list.length; i++) {\n            appendTextValueChild(select, states_list[i].text, states_list[i].value);\n        }\n        select.parentNode.parentNode.show();\n        if (window.state) {\n          select.value = window.state;\n        }\n        return;\n      } else if (type === 'residence_list'){\n        select = document.getElementById('residence-disabled') || document.getElementById('residence');\n        var phoneElement   = document.getElementById('tel'),\n            residenceValue = page.client.residence,\n            residence_list = response.residence_list;\n        if (residence_list.length > 0){\n          for (i = 0; i < residence_list.length; i++) {\n            var residence = residence_list[i];\n            if (select) {\n              appendTextValueChild(select, residence.text, residence.value, residence.disabled ? 'disabled' : undefined);\n            }\n            if (phoneElement && phoneElement.value === '' && residence.phone_idd && residenceValue === residence.value) {\n              phoneElement.value = '+' + residence.phone_idd;\n            }\n          }\n          if (residenceValue && select){\n              select.value = residenceValue;\n          }\n          if (document.getElementById('virtual-form')) {\n              BinarySocket.send({website_status:1});\n          }\n        }\n        return;\n      } else if (type === 'website_status') {\n        var status  = response.website_status;\n        if (status && status.clients_country) {\n          var clientCountry = $('#residence option[value=\"' + status.clients_country + '\"]');\n          if (!clientCountry.attr('disabled')) {\n              clientCountry.prop('selected', true);\n          }\n        }\n        return;\n      }\n    }\n  });\n}\n\nfunction generateState() {\n    var state = document.getElementById('address-state');\n    if (state.length !== 0) return;\n    appendTextValueChild(state, Content.localize().textSelect, '');\n    if (page.client.residence !== \"\") {\n      BinarySocket.send({ states_list: page.client.residence });\n    }\n    return;\n}\n\n// returns true if internet explorer browser\nfunction isIE() {\n  return /(msie|trident|edge)/i.test(window.navigator.userAgent) && !window.opera;\n}\n\n// trim leading and trailing white space\nfunction Trim(str){\n  while(str.charAt(0) == (\" \") ){str = str.substring(1);}\n  while(str.charAt(str.length-1) ==\" \" ){str = str.substring(0,str.length-1);}\n  return str;\n}\n\nfunction limitLanguage(lang) {\n  if (page.language() !== lang && !Login.is_login_pages()) {\n    window.location.href = page.url_for_language(lang);\n  }\n  if (document.getElementById('language_select')) {\n    $('#language_select').remove();\n    $('#gmt-clock').removeClass();\n    $('#gmt-clock').addClass('gr-6 gr-12-m');\n    $('#contact-us').removeClass();\n    $('#contact-us').addClass('gr-6 gr-hide-m');\n  }\n}\n\nfunction checkClientsCountry() {\n  var clients_country = localStorage.getItem('clients_country');\n  if (clients_country) {\n    var str;\n    if (clients_country === 'jp') {\n      limitLanguage('JA');\n    } else if (clients_country === 'id') {\n      limitLanguage('ID');\n    } else {\n      $('#language_select').show();\n    }\n  } else {\n    BinarySocket.init();\n    BinarySocket.send({\"website_status\" : \"1\"});\n  }\n}\n\nfunction japanese_client() {\n    return (page.language().toLowerCase() === 'ja' || (Cookies.get('residence') === 'jp') || localStorage.getItem('clients_country') === 'jp');\n}\n\nfunction change_blog_link(lang) {\n  var regex = new RegExp(lang);\n  if (!regex.test($('.blog a').attr('href'))) {\n    $('.blog a').attr('href', $('.blog a').attr('href') + '/' + lang + '/');\n  }\n}\n\n//hide and show hedging value if trading purpose is set to hedging\nfunction detect_hedging($purpose, $hedging) {\n    $purpose.change(function(evt) {\n      if ($purpose.val() === 'Hedging') {\n        $hedging.removeClass('invisible');\n      }\n      else if ($hedging.is(\":visible\")) {\n        $hedging.addClass('invisible');\n      }\n      return;\n    });\n}\n\n$(function() {\n    $( \"#accordion\" ).accordion({\n      heightStyle: \"content\",\n      collapsible: true,\n      active: false\n    });\n});\n\nvar $buoop = {\n  vs: {i:10, f:39, o:30, s:5, c:39},\n  l: page.language().toLowerCase(),\n  url: 'https://whatbrowser.org/'\n};\nfunction $buo_f(){\n var e = document.createElement(\"script\");\n e.src = \"//browser-update.org/update.min.js\";\n document.body.appendChild(e);\n}\ntry {\n  document.addEventListener(\"DOMContentLoaded\", $buo_f,false);\n} catch(e) {\n  window.attachEvent(\"onload\", $buo_f);\n}\n\nmodule.exports = {\n    sidebar_scroll: sidebar_scroll,\n    get_started_behaviour: get_started_behaviour,\n    select_nav_element: select_nav_element,\n    Charts: Charts,\n    email_rot13: email_rot13,\n    display_cs_contacts: display_cs_contacts,\n    change_chat_icon: change_chat_icon,\n    render_desk_widget: render_desk_widget,\n    show_live_chat_icon: show_live_chat_icon,\n    display_career_email: display_career_email,\n    $buoop: $buoop,\n    check_login_hide_signup: check_login_hide_signup,\n    hide_if_logged_in: hide_if_logged_in,\n    appendTextValueChild: appendTextValueChild,\n    dropDownNumbers: dropDownNumbers,\n    dropDownMonths: dropDownMonths,\n    generateBirthDate: generateBirthDate,\n    isValidDate: isValidDate,\n    handle_residence_state_ws: handle_residence_state_ws,\n    generateState: generateState,\n    isIE: isIE,\n    Trim: Trim,\n    limitLanguage: limitLanguage,\n    checkClientsCountry: checkClientsCountry,\n    japanese_client: japanese_client,\n    change_blog_link: change_blog_link,\n    detect_hedging: detect_hedging,\n    $buo_f: $buo_f,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/frontend.js\n ** module id = 21\n ** module chunks = 0\n **/","var buildOauthApps = function(data) {\n    var oauth_apps = {};\n    for (var i = 0; i < data.length; i++) {\n        oauth_apps[data[i].app_id] = data[i].name;\n    }\n    oauth_apps[2] = 'Binary.com Autoexpiry';\n    return oauth_apps;\n};\n\nvar addTooltip = function(oauth_apps) {\n    for (var key in oauth_apps) {\n        if (!oauth_apps.hasOwnProperty(key)) continue;\n        $('.' + key).attr('data-balloon', add_app_id_name(key, oauth_apps[key]));\n    }\n};\n\nvar add_app_id_name = function(app_id, app_name) {\n    var ref_string;\n    if (app_id) {\n        ref_string = text.localize('Transaction performed by') + ' ' + (app_name ? app_name : '') + ' (' + text.localize('App ID') + ': ' + app_id + ')';\n    }\n    return ref_string;\n};\n\nvar showTooltip = function(app_id, oauth_app_id) {\n    return (\n        app_id ?\n            ' class=\"' + app_id + '\" data-balloon=\"' + (\n                oauth_app_id ?\n                    add_app_id_name(app_id, oauth_app_id) :\n                        app_id ?\n                            add_app_id_name(app_id) :\n                            ''\n            ) + '\"'\n        : ''\n    );\n};\n\nmodule.exports = {\n    buildOauthApps: buildOauthApps,\n    addTooltip: addTooltip,\n    add_app_id_name: add_app_id_name,\n    showTooltip: showTooltip,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/get_app_details.js\n ** module id = 22\n ** module chunks = 0\n **/","/*\n *  This is developed to simplify the usage of enjoyhint (https://github.com/xbsoftware/enjoyhint)\n *\n *  How to Implement in a page:\n *  1. Add the button element to the template: <div id=\"guideBtn\"></div>\n *  2. Add the js initialization call, having the customized parameters: Guide.init({script : 'trading'});\n *  3. Add the script data to getScript() method\n */\n\nvar Guide = (function() {\n\tvar opt,\n\t\tcookieName,\n\t\tbtnNext,\n\t\tbtnFinish;\n\n\tvar init = function(options) {\n\t\topt = {\n\t\t\tscript\t       : '',      // the script name in scripts\n\t\t\tautoStart      : false,   // false: start by button click\n\t\t\tguideBtnID     : '#guideBtn',\n\t\t\tbtnText        : text.localize('Walkthrough Guide'),  // guide start button's text\n\t\t\tblink_class    : 'highlight',\n\t\t\tblink_inDelay  : 1000,\n\t\t\tblink_outDelay : 1000,\n\t\t\tblink_interval : 3000,    // 0: continous blinking (blink_inDelay + blink_outDelay)\n\t\t\tblink_count    : 0        // 0: infinite\n\t\t};\n        $.extend(true, opt, options);\n\n        cookieName = 'hide_guide';\n\t\tbtnNext    = {className: \"button\", html: '<span>' + text.localize('Next') + '</span>'};\n\t\tbtnFinish  = {className: \"button btnFinish\", html: '<span>' + text.localize('Finish') + '</span>'};\n\n\t\tif($(opt.guideBtnID).length === 0) {\n\t\t\tconsole.warn('Could not find the button placeholder: <div id=\"' + opt.guideBtnID + '\"></div>');\n\t\t\treturn;\n\t\t}\n\n\t\tif(opt.script.length === 0) {\n\t\t\tconsole.warn('\"script\" name should be specified');\n\t\t\treturn;\n\t\t}\n\n\t\tif(isDisabled()) {\n\t\t\t$(opt.guideBtnID).remove();\n\t\t\treturn;\n\t\t}\n\n\t\tmakeButton();\n\t};\n\n\t/*\n\t *  do not show the guide button if its close (X) has been clicked before\n\t */\n\tvar isDisabled = function() {\n\t\tvar disabled = Cookies.get(cookieName);\n\t\treturn !!disabled && $.inArray(opt.script, disabled.split(',')) >= 0;\n\t};\n\n\t/*\n\t *  handle the guide button appearance using a cookie for all scripts\n\t */\n\tvar setDisabled = function() {\n\t\tif(!isDisabled()) {\n\t\t\tvar disabled = Cookies.get(cookieName);\n\t\t\tCookies.set(cookieName, (!disabled ? opt.script : disabled + ',' + opt.script));\n\t\t}\n\t};\n\n\t/*\n\t *  generate the button's html\n\t */\n\tvar makeButton = function() {\n\t\tif($(opt.guideBtnID).children().length > 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t$(opt.guideBtnID)\n\t\t\t.addClass('gr-hide-m pulser')\n\t\t\t.append($('<span/>', {class: 'close', text: 'X'}))\n\t\t\t.append($('<strong/>'));\n\t\t$(opt.guideBtnID + ' strong').html('<span></span>' + opt.btnText);\n\n\t\tsetEvents();\n\t};\n\n\t/*\n\t *  both buttons' click event\n\t */\n\tvar setEvents = function() {\n\t\t$(opt.guideBtnID + ' strong').click(function(e){\n\t\t\tvar enjoyhint_instance = null;\n\t\t\tenjoyhint_instance = new EnjoyHint({});\n\t\t\tenjoyhint_instance.setScript(getScript(opt.script));\n\t\t\tenjoyhint_instance.runScript();\n\t\t});\n\n\t\tif(opt.autoStart) {\n\t\t\t$(opt.guideBtnID).click();\n\t\t}\n\n\t\t// Hide button\n\t\t$(opt.guideBtnID + ' span.close').click(function(){\n\t\t\tsetDisabled();\n\t\t\t$(opt.guideBtnID).remove();\n\t\t});\n\t};\n\n\t/*\n\t *  each page's script\n\t */\n\tvar getScript = function(scriptName) {\n\t\tif(scriptName === 'trading') {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tselector    : '#contract_markets',\n\t\t\t\t\tdescription : '<h1>' + text.localize('Step') + ' 1</h1>' +\n\t\t\t\t\t\t\t\t\ttext.localize('Select your market'),\n\t\t\t\t\tevent_type  : 'next',\n\t\t\t\t\tnextButton  : btnNext\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselector    : '#underlying',\n\t\t\t\t\tdescription : '<h1>' + text.localize('Step') + ' 2</h1>' +\n\t\t\t\t\t\t\t\t\ttext.localize('Select your underlying asset'),\n\t\t\t\t\tevent_type  : 'next',\n\t\t\t\t\tnextButton  : btnNext\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselector    : '#contract_form_name_nav',\n\t\t\t\t\tdescription : '<h1>' + text.localize('Step') + ' 3</h1>' +\n\t\t\t\t\t\t\t\t\ttext.localize('Select your trade type'),\n\t\t\t\t\tevent_type  : 'next',\n\t\t\t\t\tnextButton  : btnNext\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselector    : '#websocket_form',\n\t\t\t\t\tdescription : '<h1>' + text.localize('Step') + ' 4</h1>' +\n\t\t\t\t\t\t\t\t\ttext.localize('Adjust trade parameters'),\n\t\t\t\t\tevent_type  : 'next',\n\t\t\t\t\tnextButton  : btnNext\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselector    : '#contracts_list',\n\t\t\t\t\tdescription : '<h1>' + text.localize('Step') + ' 5</h1>' +\n\t\t\t\t\t\t\t\t\ttext.localize('Predict the direction<br />and purchase'),\n\t\t\t\t\tevent_type  : 'next',\n\t\t\t\t\tnextButton  : btnFinish\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t};\n\n\n\treturn {\n\t\tinit: init\n\t};\n})();\n\nmodule.exports = {\n    Guide: Guide,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/guide.js\n ** module id = 23\n ** module chunks = 0\n **/","/* ************************************************************\nCreated: 20060120\nAuthor:  Steve Moitozo <god at zilla dot us> -- geekwisdom.com\nDescription: This is a quick and dirty password quality meter\n     written in JavaScript so that the password does\n     not pass over the network.\nLicense: MIT License (see below)\nModified: 20060620 - added MIT License\nModified: 20061111 - corrected regex for letters and numbers\n                     Thanks to Zack Smith -- zacksmithdesign.com\n---------------------------------------------------------------\nCopyright (c) 2006 Steve Moitozo <god at zilla dot us>\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or\nsell copies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n   The above copyright notice and this permission notice shall\nbe included in all copies or substantial portions of the\nSoftware.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY\nKIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE\nWARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE\nAND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\nOR OTHER DEALINGS IN THE SOFTWARE.\n---------------------------------------------------------------\nPassword Strength Factors and Weightings\npassword length:\nlevel 0 (3 point): less than 4 characters\nlevel 1 (6 points): between 5 and 7 characters\nlevel 2 (12 points): between 8 and 15 characters\nlevel 3 (18 points): 16 or more characters\nletters:\nlevel 0 (0 points): no letters\nlevel 1 (5 points): all letters are lower case\nlevel 2 (7 points): letters are mixed case\nnumbers:\nlevel 0 (0 points): no numbers exist\nlevel 1 (5 points): one number exists\nlevel 1 (7 points): 3 or more numbers exists\nspecial characters:\nlevel 0 (0 points): no special characters\nlevel 1 (5 points): one special character exists\nlevel 2 (10 points): more than one special character exists\ncombinatons:\nlevel 0 (1 points): letters and numbers exist\nlevel 1 (1 points): mixed case letters\nlevel 1 (2 points): letters, numbers and special characters\n          exist\nlevel 1 (2 points): mixed case letters, numbers and special\n          characters exist\nNOTE: Because I suck at regex the code might need work\nNOTE: Instead of putting out all the logging information,\n    the score, and the verdict it would be nicer to stretch\n    a graphic as a method of presenting a visual strength\n    guage.\n************************************************************ */\nfunction testPassword(passwd)\n{\n    var intScore   = 0;\n    var strVerdict = \"weak\";\n    var strLog     = \"\";\n\n    // PASSWORD LENGTH\n    if (passwd.length<5)                         // length 4 or less\n    {\n      intScore = (intScore+3);\n      strLog   = strLog + \"3 points for length (\" + passwd.length + \")\\n\";\n    }\n    else if (passwd.length>4 && passwd.length<8) // length between 5 and 7\n    {\n      intScore = (intScore+6);\n      strLog   = strLog + \"6 points for length (\" + passwd.length + \")\\n\";\n    }\n    else if (passwd.length>7 && passwd.length<16)// length between 8 and 15\n    {\n      intScore = (intScore+12);\n      strLog   = strLog + \"12 points for length (\" + passwd.length + \")\\n\";\n    }\n    else if (passwd.length>15)                    // length 16 or more\n    {\n      intScore = (intScore+18);\n      strLog   = strLog + \"18 point for length (\" + passwd.length + \")\\n\";\n    }\n\n\n    // LETTERS (Not exactly implemented as dictacted above because of my limited understanding of Regex)\n    if (passwd.match(/[a-z]/))                              // [verified] at least one lower case letter\n    {\n      intScore = (intScore+1);\n      strLog   = strLog + \"1 point for at least one lower case char\\n\";\n    }\n\n    if (passwd.match(/[A-Z]/))                              // [verified] at least one upper case letter\n    {\n      intScore = (intScore+5);\n      strLog   = strLog + \"5 points for at least one upper case char\\n\";\n    }\n\n    // NUMBERS\n    if (passwd.match(/\\d+/))                                 // [verified] at least one number\n    {\n      intScore = (intScore+5);\n      strLog   = strLog + \"5 points for at least one number\\n\";\n    }\n\n    if (passwd.match(/(.*[0-9].*[0-9].*[0-9])/))             // [verified] at least three numbers\n    {\n      intScore = (intScore+5);\n      strLog   = strLog + \"5 points for at least three numbers\\n\";\n    }\n\n\n    // SPECIAL CHAR\n    if (passwd.match(/.[!,@,#,$,%,^,&,*,?,_,~]/))            // [verified] at least one special character\n    {\n      intScore = (intScore+5);\n      strLog   = strLog + \"5 points for at least one special char\\n\";\n    }\n\n                   // [verified] at least two special characters\n    if (passwd.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/))\n    {\n      intScore = (intScore+5);\n      strLog   = strLog + \"5 points for at least two special chars\\n\";\n    }\n\n\n    // COMBOS\n    if (passwd.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/))        // [verified] both upper and lower case\n    {\n      intScore = (intScore+2);\n      strLog   = strLog + \"2 combo points for upper and lower letters\\n\";\n    }\n\n    if (passwd.match(/([a-zA-Z])/) && passwd.match(/([0-9])/)) // [verified] both letters and numbers\n    {\n      intScore = (intScore+2);\n      strLog   = strLog + \"2 combo points for letters and numbers\\n\";\n    }\n\n                  // [verified] letters, numbers, and special characters\n    if (passwd.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/))\n    {\n      intScore = (intScore+2);\n      strLog   = strLog + \"2 combo points for letters, numbers and special chars\\n\";\n    }\n\n\n    if(intScore < 10)\n    {\n       strVerdict = text.localize(\"Password is weak\");\n    }\n    else if (intScore > 9 && intScore < 20)\n    {\n       strVerdict = text.localize(\"Password is moderate\");\n    }\n    else if (intScore > 19)\n    {\n       strVerdict = text.localize(\"Password is strong\");\n    }\n    else\n    {\n       strVerdict = text.localize(\"Password is very strong\");\n    }\n\n  var array = [intScore, strVerdict];\n  return array;\n}\n\nmodule.exports = {\n    testPassword: testPassword,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/passwordmeter.js\n ** module id = 24\n ** module chunks = 0\n **/","RiskClassification = (function() {\n  'use strict';\n\n  var financial_assessment_url = page.url.url_for('user/settings/assessmentws');\n\n  var renderRiskClassificationPopUp = function () {\n      if (window.location.pathname === '/user/settings/assessmentws') {\n        window.location.href = page.url.url_for('user/my_accountws');\n        return;\n      }\n      $.ajax({\n          url: financial_assessment_url,\n          dataType: 'html',\n          method: 'GET',\n          success: function(riskClassificationText) {\n              if (riskClassificationText.includes('assessment_form')) {\n                  var payload = $(riskClassificationText);\n                  showRiskClassificationPopUp(payload.find('#assessment_form'));\n                  FinancialAssessmentws.LocalizeText();\n                  $('#risk_classification #assessment_form').removeClass('invisible')\n                                      .attr('style', 'text-align: left;');\n                  $('#risk_classification #high_risk_classification').removeClass('invisible');\n                  $('#risk_classification #heading_risk').removeClass('invisible');\n                  $(\"#risk_classification #assessment_form\").on(\"submit\",function(event) {\n                      event.preventDefault();\n                      FinancialAssessmentws.submitForm();\n                      return false;\n                  });\n              }\n          },\n          error: function(xhr) {\n              return;\n          }\n      });\n      $(\"#risk_classification #assessment_form\").on(\"submit\",function(event) {\n          event.preventDefault();\n          FinancialAssessmentws.submitForm();\n          return false;\n      });\n  };\n\n  var showRiskClassificationPopUp = function (content) {\n    if ($('#risk_classification').length > 0) {\n        return;\n    }\n    var lightboxDiv = $(\"<div id='risk_classification' class='lightbox'></div>\");\n\n    var wrapper = $('<div></div>');\n    wrapper = wrapper.append(content);\n    wrapper = $('<div></div>').append(wrapper);\n    wrapper.appendTo(lightboxDiv);\n    lightboxDiv.appendTo('body');\n  };\n\n  var cleanup = function () {\n    localStorage.removeItem('risk_classification');\n    localStorage.removeItem('risk_classification.response');\n    $('#risk_classification').remove();\n    if (sessionStorage.getItem('check_tnc')) {\n      page.client.check_tnc();\n    }\n  };\n\n  return {\n    renderRiskClassificationPopUp: renderRiskClassificationPopUp,\n    cleanup: cleanup\n  };\n}());\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/risk_classification.js\n ** module id = 25\n ** module chunks = 0\n **/","var SessionDurationLimit = (function() {\n    'use strict';\n\n    var warning;\n\n    var init = function() {\n        clearTimeout(window.TimeOut_SessionLimitWarningBefore);\n        clearTimeout(window.TimeOut_SessionLimitWarning);\n        clearTimeout(window.TimeOut_SessionLimitLogout);\n        $('#session_limit').remove();\n\n        warning = 10 * 1000; // milliseconds before limit to display the warning message\n\n        var limit     = page.client.get_storage_value('session_duration_limit') * 1,\n            now       = moment().unix(),\n            start     = page.client.get_storage_value('session_start') * 1,\n            remained  = (limit + start - now) * 1000,\n            mathLimit = Math.pow(2, 31) - 1;\n        if (remained < 0) remained = warning;\n        // limit of setTimeout is this number\n        if (remained > mathLimit) {\n            remained = remained % mathLimit;\n            window.TimeOut_SessionLimitWarningBefore = setTimeout(init, remained);\n        } else {\n            setTimeOut();\n        }\n\n        function setTimeOut() {\n            window.TimeOut_SessionLimitWarning = setTimeout(displayWarning, remained - warning);\n            window.TimeOut_SessionLimitLogout  = setTimeout(page.client.send_logout_request, remained);\n        }\n    };\n\n    var exclusionResponseHandler = function(response) {\n        if (response.hasOwnProperty('error') || !response.hasOwnProperty('get_self_exclusion')) {\n            return;\n        }\n\n        var limit = response.get_self_exclusion.session_duration_limit * 60;\n        if(isNaN(limit) || limit <= 0) return;\n\n        page.client.set_storage_value('session_duration_limit', limit);\n        window.addEventListener('storage', init, false);\n\n        init();\n    };\n\n    var realityStorageEventHandler = function(e) {\n        if (e.key === 'client.session_start' || e.key === 'client.session_duration_limit') {\n            init();\n        }\n    };\n\n    var displayWarning = function() {\n        $('body').append(\n            $(\"<div id='session_limit' class='lightbox'><div><div><div class='limit_message'>\" +\n                text.localize('Your session duration limit will end in [_1] seconds.', [warning]) +\n                \"</div></div></div></div>\")\n        );\n        $('#session_limit').click(function(){$(this).remove();});\n    };\n\n    return {\n        exclusionResponseHandler: exclusionResponseHandler,\n    };\n}());\n\nmodule.exports = {\n    SessionDurationLimit: SessionDurationLimit,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/session_duration_limit.js\n ** module id = 26\n ** module chunks = 0\n **/","var StringUtil = (function(){\n    function toTitleCase(str){\n        return str.replace(/\\w[^\\s\\/\\\\]*/g, function(txt){\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n        });\n    }\n\n    function dateToStringWithoutTime(date){\n        return [date.getDate(), date.getMonth()+1, date.getFullYear()].join(\"/\");\n    }\n\n    //Time should be in SECOND !!!\n    function timeStampToDateString(time){\n        var dateObj = new Date(time * 1000);\n        var momentObj = moment.utc(dateObj);\n        return momentObj.format(\"YYYY-MM-DD\");\n    }\n\n    //Time should be in SECOND !!!\n    function timeStampToTimeString(time){\n        var dateObj = new Date(time * 1000);\n        var momentObj = moment.utc(dateObj);\n        return momentObj.format(\"HH:mm:ss\");\n    }\n\n    //Time should be in SECOND !!!\n    function timeStampToDateTimeString(time){\n        var dateObj = new Date(time * 1000);\n        var momentObj = moment.utc(dateObj);\n        return momentObj.toString();\n    }\n\n    var external = {\n        toTitleCase: toTitleCase,\n        dateToStringWithoutTime: dateToStringWithoutTime,\n        unixTimeToDateString: timeStampToDateString,\n        unixTimeToTimeString: timeStampToTimeString,\n        unixTimeToDateTimeString: timeStampToDateTimeString\n    };\n\n    if (typeof module !== 'undefined') {\n        module.exports = external;\n    }\n\n    return external;\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/string_util.js\n ** module id = 27\n ** module chunks = 0\n **/","/*\n * Handles utm parameters/referrer to use on signup\n * \n * Priorities:\n * 1. Cookie having utm data (utm_source, utm_medium, utm_campaign) [Expires in 3 months]\n * 2. Query string utm parameters\n * 3. document.referrer\n *\n */\n\nvar TrafficSource = (function(){\n    'use strict';\n\n    var cookie,\n        expire_months = 3;\n\n    var initCookie = function() {\n        if (!cookie) {\n            cookie = new CookieStorage('utm_data');\n            cookie.read();\n            // expiration date is used when writing cookie\n            var now = new Date();\n            cookie.expires = now.setMonth(now.getMonth() + expire_months);\n        }\n    };\n\n    var getData = function() {\n        initCookie();\n        var data = cookie.value;\n        Object.keys(data).map(function(key) {\n            data[key] = (data[key] || '').replace(/[^a-zA-Z0-9\\s\\-\\.\\_]/gi, '').substring(0, 100);\n        });\n        return data;\n    };\n\n    var getSource = function(utm_data) {\n        if (!utm_data) utm_data = getData();\n        return utm_data.utm_source || utm_data.referrer || 'direct'; // in order of precedence\n    };\n\n    var setData = function() {\n        if (page.client.is_logged_in) return clearData();\n\n        var current_values = getData(),\n            params = page.url.params_hash(),\n            param_keys = ['utm_source', 'utm_medium', 'utm_campaign'];\n\n        if (params.utm_source) { // url params can be stored only if utm_source is available\n            param_keys.map(function(key) {\n                if (params[key] && !current_values[key]) {\n                    cookie.set(key, params[key]);\n                }\n            });\n        }\n\n        var doc_ref  = document.referrer,\n            referrer = localStorage.getItem('index_referrer') || doc_ref;\n        localStorage.removeItem('index_referrer');\n        if(doc_ref && !(new RegExp(window.location.hostname, 'i')).test(doc_ref)) {\n            referrer = doc_ref;\n        }\n        if(referrer && !current_values.referrer && !params.utm_source && !current_values.utm_source) {\n            cookie.set('referrer', (new URL(referrer)).location.hostname);\n        }\n    };\n\n    var clearData = function() {\n        initCookie();\n        cookie.remove();\n    };\n\n    return {\n        getData  : getData,\n        setData  : setData,\n        clearData: clearData,\n        getSource: getSource,\n    };\n})();\n\nmodule.exports = {\n    TrafficSource: TrafficSource,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/traffic_source.js\n ** module id = 28\n ** module chunks = 0\n **/","var ValidAccountOpening = (function(){\n  var redirectCookie = function() {\n    if (page.client.show_login_if_logout(true)) {\n        return;\n    }\n    if (!page.client.is_virtual()) {\n      window.location.href = page.url.url_for('user/my_accountws');\n      return;\n    }\n    for (var i = 0; i < page.user.loginid_array.length; i++){\n      if (page.user.loginid_array[i].real === true){\n        window.location.href = page.url.url_for('user/my_accountws');\n        return;\n      }\n    }\n  };\n  var handler = function(response, message) {\n    if (response.error) {\n      var errorMessage = response.error.message;\n      if (response.error.code === 'show risk disclaimer' && document.getElementById('financial-form')) {\n        $('#financial-form').addClass('hidden');\n        $('#financial-risk').removeClass('hidden');\n        return;\n      }\n      if (document.getElementById('real-form')) {\n        $('#real-form').remove();\n      } else if (document.getElementById('japan-form')) {\n        $('#japan-form').remove();\n      } else if (document.getElementById('financial-form')) {\n        $('#financial-form').remove();\n        $('#financial-risk').remove();\n      }\n      var error = document.getElementsByClassName('notice-msg')[0];\n      error.innerHTML = (response.msg_type === 'sanity_check') ? text.localize('There was some invalid character in an input field.') : errorMessage;\n      error.parentNode.parentNode.parentNode.setAttribute('style', 'display:block');\n      return;\n    } else if (Cookies.get('residence') === 'jp') {\n      window.location.href = page.url.url_for('new_account/knowledge_testws');\n      $('#topbar-msg').children('a').addClass('invisible');\n    } else {     // jp account require more steps to have real account\n      page.client.process_new_account(Cookies.get('email'), message.client_id, message.oauth_token, false);\n    }\n  };\n  var letters, numbers, space, hyphen, period, apost;\n\n  var initializeValues = function() {\n    letters = Content.localize().textLetters;\n    numbers = Content.localize().textNumbers;\n    space   = Content.localize().textSpace;\n    hyphen  = Content.localize().textHyphen;\n    period  = Content.localize().textPeriod;\n    apost   = Content.localize().textApost;\n  };\n\n  var checkFname = function(fname, errorFname) {\n    if (Trim(fname.value).length < 2) {\n      errorFname.innerHTML = Content.errorMessage('min', '2');\n      Validate.displayErrorMessage(errorFname);\n      window.accountErrorCounter++;\n    } else if (/[`~!@#$%^&*)(_=+\\[}{\\]\\\\\\/\";:\\?><,|\\d]+/.test(fname.value)){\n      initializeValues();\n      errorFname.innerHTML = Content.errorMessage('reg', [letters, space, hyphen, period, apost]);\n      Validate.displayErrorMessage(errorFname);\n      window.accountErrorCounter++;\n    }\n    return;\n  };\n  var checkLname = function(lname, errorLname) {\n    if (Trim(lname.value).length < 2) {\n      errorLname.innerHTML = Content.errorMessage('min', '2');\n      Validate.displayErrorMessage(errorLname);\n      window.accountErrorCounter++;\n    } else if (/[`~!@#$%^&*)(_=+\\[}{\\]\\\\\\/\";:\\?><,|\\d]+/.test(lname.value)){\n      initializeValues();\n      errorLname.innerHTML = Content.errorMessage('reg', [letters, space, hyphen, period, apost]);\n      Validate.displayErrorMessage(errorLname);\n      window.accountErrorCounter++;\n    }\n    return;\n  };\n  var checkDate = function(dobdd, dobmm, dobyy, errorDob) {\n    if (!isValidDate(dobdd.value, dobmm.value, dobyy.value) || dobdd.value === '' || dobmm.value === '' || dobyy.value === '') {\n      errorDob.innerHTML = Content.localize().textErrorBirthdate;\n      Validate.displayErrorMessage(errorDob);\n      window.accountErrorCounter++;\n    }\n    return;\n  };\n  var checkPostcode = function(postcode, errorPostcode) {\n    if (postcode.value !== '' && !/^[a-zA-Z\\d-]+$/.test(postcode.value)){\n      initializeValues();\n      errorPostcode.innerHTML = Content.errorMessage('reg', [letters, numbers, hyphen]);\n      Validate.displayErrorMessage(errorPostcode);\n      window.accountErrorCounter++;\n    }\n    return;\n  };\n  var checkTel = function(tel, errorTel) {\n    if (tel.value.replace(/\\+| /g,'').length < 6) {\n      errorTel.innerHTML = Content.errorMessage('min', 6);\n      Validate.displayErrorMessage(errorTel);\n      window.accountErrorCounter++;\n    } else if (!/^\\+?[0-9\\s]{6,35}$/.test(tel.value)){\n      initializeValues();\n      errorTel.innerHTML = Content.errorMessage('reg', [numbers, space]);\n      Validate.displayErrorMessage(errorTel);\n      window.accountErrorCounter++;\n    }\n    return;\n  };\n  var checkAnswer = function(answer, errorAnswer) {\n    if (answer.value.length < 4) {\n      errorAnswer.innerHTML = Content.errorMessage('min', 4);\n      Validate.displayErrorMessage(errorAnswer);\n      window.accountErrorCounter++;\n    }\n    return;\n  };\n  return {\n    redirectCookie: redirectCookie,\n    handler: handler,\n    checkFname: checkFname,\n    checkLname: checkLname,\n    checkDate: checkDate,\n    checkPostcode: checkPostcode,\n    checkTel: checkTel,\n    checkAnswer: checkAnswer\n  };\n}());\n\nmodule.exports = {\n    ValidAccountOpening: ValidAccountOpening,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/valid_account_opening.js\n ** module id = 29\n ** module chunks = 0\n **/","var Validate = (function(){\n  var errorCounter = 0;\n\n  //give DOM element of error to display\n  function displayErrorMessage(error){\n    error.setAttribute('style', 'display:block');\n  }\n\n  //give DOM element or error to hide\n  function hideErrorMessage(error){\n    error.setAttribute('style', 'display:none');\n    var errorMessage = $('.error-message-password');\n    if (errorMessage){\n      errorMessage.remove();\n    }\n  }\n\n  function handleError(error, text){\n    var par = document.createElement('p'),\n        re = new RegExp(text),\n        allText = '';\n    par.className = 'error-message-password';\n    var parClass = $('.' + par.className);\n    if (parClass.length > 1) {\n      for (var i = 0; i < parClass.length; i++){\n        allText = allText + parClass[i].textContent;\n      }\n      if (!re.test(allText)){\n        par.innerHTML = par.innerHTML + ' ' + text;\n      }\n    } else {\n      par.innerHTML = text;\n    }\n    error.appendChild(par);\n    displayErrorMessage(error);\n  }\n\n  //check validity of token\n  function validateToken(token) {\n    if (token.length == 48) {\n      return true;\n    }\n    return false;\n  }\n\n  //give error message for invalid email, needs DOM element of error and value of email\n  function errorMessageEmail(email, error) {\n    if (email === \"\") {\n      error.textContent = Content.errorMessage('req');\n      displayErrorMessage(error);\n      return true;\n    } else if (!validateEmail(email)) {\n      error.textContent = Content.errorMessage('valid', text.localize('email address'));\n      displayErrorMessage(error);\n      return true;\n    }\n    hideErrorMessage(error);\n    return false;\n  }\n\n  //give error message for invalid verification token, needs DOM element of error and value of verification token\n  function errorMessageToken(token, error) {\n    if (token === \"\") {\n      error.textContent = Content.errorMessage('req');\n      displayErrorMessage(error);\n      return true;\n    } else if (!validateToken(token)) {\n      error.textContent = Content.errorMessage('valid', text.localize('verification token'));\n      displayErrorMessage(error);\n      return true;\n    }\n    hideErrorMessage(error);\n    return false;\n  }\n\n  function passwordNotEmpty(password, error){\n    if (!/^.+$/.test(password)) {\n      handleError(error, Content.errorMessage('req'));\n      return errorCounter++;\n    }\n    return true;\n  }\n\n  function fieldNotEmpty(field, error){\n    if (!/^.+$/.test(field)) {\n      error.textContent = Content.errorMessage('req');\n      displayErrorMessage(error);\n      return errorCounter++;\n    }\n    return true;\n  }\n\n  function passwordMatching(password, rPassword, rError){\n    if (password !== rPassword) {\n      rError.textContent = Content.localize().textPasswordsNotMatching;\n      displayErrorMessage(rError);\n      return errorCounter++;\n    }\n    return true;\n  }\n\n  function passwordLength(password, error){\n    if (password.length < 6 || password.length > 25) {\n      handleError(error, Content.errorMessage('range', '6-25'));\n      return errorCounter++;\n    }\n    return true;\n  }\n\n  function passwordChars(password, error){\n    if (/[0-9]+/.test(password) && /[A-Z]+/.test(password) && /[a-z]+/.test(password)) {\n      return true;\n    }\n    handleError(error, text.localize('Password should have lower and uppercase letters with numbers.'));\n    return errorCounter++;\n  }\n\n  function passwordValid(password, error){\n    if (!/^[!-~]+$/.test(password)) {\n      handleError(error, Content.errorMessage('valid', Content.localize().textPassword));\n      return errorCounter++;\n    }\n    return true;\n  }\n\n  function passwordStrong(password, error){\n    if (testPassword(password)[0] < 20) {\n      displayErrorMessage(error);\n      return errorCounter++;\n    }\n    return true;\n  }\n\n  //give error message for invalid password, needs value of password, repeat of password, and DOM element of error\n  /**\n   *\n   * @param password      password\n   * @param rPassword     confirm password\n   * @param error         dom to show error for password (not jquery!)\n   * @param rError        dom to show error for confirm password (not jquery!)\n   * @returns {boolean}\n     */\n  function errorMessagePassword(password, rPassword, error, rError) {\n    hideErrorMessage(error);\n    hideErrorMessage(rError);\n    errorCounter = 0;\n\n    if (passwordNotEmpty(password, error) === true){\n      passwordLength(password, error);\n      passwordChars(password, error);\n      passwordValid(password, error);\n      if (fieldNotEmpty(rPassword, rError) === true){\n        passwordMatching(password, rPassword, rError);\n      }\n    } else {\n      fieldNotEmpty(rPassword, rError);\n    }\n\n    if (errorCounter === 0){\n      return true;\n    }\n    return false;\n  }\n\n  function errorMessageResidence(residence, error) {\n    hideErrorMessage(error);\n    if (residence === \"\"){\n      error.textContent = Content.errorMessage('req');\n      displayErrorMessage(error);\n      return true;\n    }\n    return false;\n  }\n\n  return {\n    displayErrorMessage: displayErrorMessage,\n    hideErrorMessage: hideErrorMessage,\n    errorMessageEmail: errorMessageEmail,\n    errorMessagePassword: errorMessagePassword,\n    fieldNotEmpty: fieldNotEmpty,\n    errorMessageResidence: errorMessageResidence,\n    errorMessageToken: errorMessageToken\n  };\n}());\n\nfunction validateEmail(mail) {\n  if (/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$/.test(mail)){\n    return true;\n  }\n  return false;\n}\n\nfunction passwordValid(password) {\n  if (password.length > 25) {\n    return false;\n  }\n\n  var r = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,25}$/;\n  return r.test(password);\n}\n\n/**\n * Use this if you want to separate validation logic with UI\n * Use Validate.errorMessagePassword if you want to handle UI with validation together\n * @param password      password\n * @returns {Array}     array of error message, can be empty\n */\nfunction showPasswordError(password) {\n  var errMsgs = [];\n  if (password.length < 6 || password.length > 25) {\n    errMsgs.push(Content.errorMessage('range', '6-25'));\n  }\n\n  var hasUpperLowerDigitRegex = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])/;\n  if (!hasUpperLowerDigitRegex.test(password)) {\n    errMsgs.push(text.localize('Password should have lower and uppercase letters with numbers.'));\n  }\n\n  return errMsgs;\n}\n\nmodule.exports = {\n    Validate: Validate,\n    validateEmail: validateEmail,\n    passwordValid: passwordValid,\n    showPasswordError: showPasswordError,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/validation.js\n ** module id = 30\n ** module chunks = 0\n **/","var ValidateV2 = (function() {\n    function err() {\n        return Content.errorMessage.apply(Content, arguments);\n    }\n\n    // We don't have access to the localised messages at the init-time\n    // of this module. Solution: delay execution with 'unwrappables'.\n    // Objects that have an `.unwrap` method.\n    //\n    // unwrap({unwrap: () => 1}) == 1\n    // unwrap(1) == 1\n    //\n    function unwrap(a) {\n        return a.unwrap ? a.unwrap() : a;\n    }\n\n    function local(value) {\n        return {unwrap: function() { return text.localize(value); }};\n    }\n\n    function localKey(value) {\n        return {unwrap: function() { return Content.localize()[value]; }};\n    }\n\n    function msg() {\n        var args = [].slice.call(arguments);\n        return {unwrap: function() {\n            return err.apply(null, args.map(unwrap));\n        }};\n    }\n\n    function check(fn, err) {\n        return function(value) {\n            return fn(value) ?\n                dv.ok(value) :\n                dv.fail(unwrap(err));\n        };\n    }\n\n    // TEST THESE\n    function validEmail(email) {\n        var regex = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$/;\n        return regex.test(email);\n    }\n\n    function notEmpty(value) {\n        return value.length > 0;\n    }\n\n    function validPasswordLength(value) {\n        return value.length >= 6 && value.length <= 25;\n    }\n\n    function validPasswordChars(value) {\n        return /[0-9]+/.test(value) &&\n            /[A-Z]+/.test(value) &&\n            /[a-z]+/.test(value);\n    }\n\n    function noSymbolsInPassword(value) {\n        return !/^[!-~]+$/.test(password);\n    }\n\n    function validToken(value) {\n        return value.length === 48;\n    }\n\n    // CAN BE USED IN UI\n    var required = check(notEmpty, msg('req'));\n    var email    = check(validEmail, msg('valid', local('email address')));\n    var token    = check(validToken, msg('valid', local('verification token')));\n    var password = function(value) {\n        return dv.first(value, [\n            password.len,\n            password.allowed,\n            password.symbols,\n        ]);\n    };\n\n    password.len     = check(validPasswordLength, msg('range', '6-25'));\n    password.allowed = check(validPasswordChars,  local('Password should have lower and uppercase letters with numbers.'));\n    password.symbols = check(noSymbolsInPassword, msg('valid', localKey('textPassword')));\n\n    function regex(regexp, allowed) {\n        return function(str) {\n            return regexp.test(str) ?\n                dv.ok(str) :\n                dv.fail(err('reg', allowed));\n        };\n    }\n\n    function lengthRange(start, end) {\n        var range = template('([_1]-[_2])', [start, end]);\n        return function(str) {\n            var len = str.length;\n            return (len >= start && len <= end) ?\n                dv.ok(str) :\n                dv.fail(err('range', range));\n        };\n    }\n\n    function momentFmt(format, error) {\n        return function(str) {\n            var date = moment(str, format, true);\n            return date.isValid() ?\n                dv.ok(date) :\n                dv.fail(error);\n        };\n    }\n\n    return {\n        err: err,\n        momentFmt: momentFmt,\n        required:  required,\n        password:  password,\n        email:     email,\n        token:     token,\n        regex:     regex,\n        lengthRange: lengthRange,\n    };\n})();\n\nmodule.exports = {\n    ValidateV2: ValidateV2,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/common_functions/validation_v2.js\n ** module id = 31\n ** module chunks = 0\n **/","DatePicker.SelectedDates = function(component_id, select_type) {\n    this.component_id = component_id;\n    this._super = new DatePicker(component_id, select_type);\n    this.dates = [];\n\n    var that = this;\n    $(this._super).on('enter_pressed', function() {\n        $(that).trigger('enter_pressed');\n    });\n\n    $(this._super).on('change', function(event, selected) {\n        $(that).trigger('change', [ selected ]);\n    });\n};\n\nDatePicker.SelectedDates.prototype = {\n    show: function(dates) {\n        this.dates = dates;\n        this._super.create(this.config());\n    },\n    hide: function() {\n        if($('#' + this.component_id + '.hasDatepicker').length > 0)\n            $('#' + this.component_id).datepicker('destroy');\n    },\n    config: function() {\n        var config = this._super.config();\n        var that = this;\n        config.beforeShowDay = function(date) {\n            var lookup = moment.utc([ date.getFullYear(), date.getMonth(), date.getDate() ]).format(\"YYYY-MM-DD\");\n            if(that.dates.indexOf(lookup) >= 0) {\n                return [1];\n            }\n\n            return [0];\n        };\n\n        config.beforeShow = function(input, inst) {\n            return { defaultDate: $('#' + that.component_id).val()};\n        };\n\n        return config;\n    },\n//    handlers: function() {\n//        var handlers = {};\n//        var that = this;\n//        if (that.all_days_selectable) {\n//            handlers.beforeShowDay = function(date) {\n//                return [1];\n//            }\n//        } else if(that.today_selectable) {\n//            handlers.beforeShowDay = function(date) {\n//                if(new Date().toDateString() == date.toDateString()) {\n//                    return [1];\n//                } else {\n//                    return [that.isTradingDay(date)];\n//                }\n//            }\n//        } else {\n//            handlers.beforeShowDay = function(date) {\n//                return [that.isTradingDay(date)];\n//            }\n//        };\n//\n//        handlers.beforeShow = function(input, inst) {\n//            that.hideToday(inst);\n//            return { defaultDate: $('#duration_amount').val()};\n//        };\n//    \n//        handlers.onChangeMonthYear = function(year, month, inst) {\n//            that.hideToday(inst);\n//        };\n//\n//        return handlers;\n//    },\n//    isTradingDay: function(date) {\n//        var year = date.getFullYear();\n//        var underlying_symbol = this.underlying_symbol;\n//        var form_name = this.form_name;\n//\n//        var cache_key = underlying_symbol + '-' + form_name;\n//        varyy lookup = year + '-' + (date.getMonth()+1) + '-' + date.getDate();\n//\n//        if (typeof this.cache[cache_key] === 'undefined') {\n//            var that = this;\n//            $.ajax({\n//                url: page.url.url_for('trade_get.cgi'),\n//                data: { controller_action: 'trading_days',\n//                        underlying_symbol: underlying_symbol,\n//                        form_name: form_name\n//                    },\n//                success: function(trading_days) {\n//                        that.cache[cache_key] = trading_days;\n//                    },\n//                dataType:'json',\n//                async: false\n//            });\n//        }\n//        return this.cache[cache_key][lookup];\n//    },\n//    hideToday: function(inst) {\n//        window.setTimeout(function() {\n//                $(inst.dpDiv).find('.ui-state-highlight').removeClass('ui-state-highlight');\n//            }, 0);\n//    },\n//    localizations: function() {\n//        var localizations = {};\n//\n//        localizations.monthNames = [text.localize('January'), text.localize('February'), text.localize('March'), text.localize('April'), text.localize('May'), text.localize('June'),text.localize('July'), text.localize('August'), text.localize('September'), text.localize('October'), text.localize('November'), text.localize('December') ];\n//\n//        localizations.monthNamesShort = [text.localize('Jan'), text.localize('Feb'), text.localize('Mar'), text.localize('Apr'), text.localize('May'), text.localize('Jun'), text.localize('Jul'), text.localize('Aug'), text.localize('Sep'), text.localize('Oct'), text.localize('Nov'), text.localize('Dec')];\n//\n//        localizations.dayNames = [text.localize('Sunday'), text.localize('Monday'), text.localize('Tuesday'), text.localize('Wednesday'), text.localize('Thursday'), text.localize('Friday'), text.localize('Saturday')];\n//\n//        localizations.nextText = text.localize('Next');\n//        localizations.prevText = text.localize('Previous');\n//\n//        return localizations;\n//    },\n};\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/components/date_picker/selected_dates.js\n ** module id = 32\n ** module chunks = 0\n **/","DatePicker = function(component_id, select_type) {\n    this.component_id = component_id;\n    this.select_type = (typeof select_type === \"undefined\") ? \"date\" : select_type;\n\n    this.localizations = {};\n    this.localizations.monthNames = [text.localize('January'), text.localize('February'), text.localize('March'), text.localize('April'), text.localize('May'), text.localize('June'),text.localize('July'), text.localize('August'), text.localize('September'), text.localize('October'), text.localize('November'), text.localize('December') ];\n\n    this.localizations.monthNamesShort = [text.localize('Jan'), text.localize('Feb'), text.localize('Mar'), text.localize('Apr'), text.localize('May'), text.localize('Jun'), text.localize('Jul'), text.localize('Aug'), text.localize('Sep'), text.localize('Oct'), text.localize('Nov'), text.localize('Dec')];\n\n    this.localizations.dayNames = [text.localize('Sunday'), text.localize('Monday'), text.localize('Tuesday'), text.localize('Wednesday'), text.localize('Thursday'), text.localize('Friday'), text.localize('Saturday')];\n\n    this.localizations.nextText = text.localize('Next');\n    this.localizations.prevText = text.localize('Previous');\n};\n\nDatePicker.prototype = {\n    show: function(max_days) {\n        this.create(this.config(max_days));\n    },\n    hide: function() {\n        if($('#' + this.component_id + '.hasDatepicker').length > 0)\n            $('#' + this.component_id).datepicker('destroy');\n        $('#' + this.component_id).off('keydown');\n    },\n    create: function(config) {\n        var that = this;\n        $('#' + this.component_id).keydown(function(e) {\n                if(e.which == 13) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if(that.select_type == \"date\") {\n                        $(this).datepicker('setDate', $(this).val());\n                    }\n                    $(this).datepicker('hide');\n                    $(this).blur();\n                    $(that).trigger('enter_pressed');\n                    return false;\n                }\n        }).datepicker(config);\n\n        // Not possible to tell datepicker where to put it's\n        // trigger calendar icon on the page, so we remove it\n        // from the DOM and use our own one.\n        $('button.ui-datepicker-trigger').remove();\n    },\n    config: function(max_days) {\n        max_days = (typeof max_days == \"undefined\") ? 365 : max_days;\n        var today = new Date();\n        var next_year = new Date();\n        next_year.setDate(today.getDate() + max_days);\n\n        var config = {\n            dateFormat: 'yy-mm-dd',\n            monthNames: this.localizations.monthNames,\n            monthNamesShort: this.localizations.monthNamesShort,\n            dayNames: this.localizations.dayNames,\n            nextText: this.localizations.nextText,\n            prevText: this.localizations.prevText,\n            minDate: today,\n            maxDate: next_year,\n        };\n\n        var that = this;\n        config.onSelect = function(date_text) {\n            if(that.select_type == \"diff\") {\n                var today = moment.utc();\n                var selected_date = moment.utc(date_text + \" 23:59:59\");\n                var duration  = selected_date.diff(today, 'days');\n                $(this).val(duration);\n                $(that).trigger(\"change\", [ duration ]);\n            } else if(that.select_type == \"date\") {\n                $(this).val(date_text);\n                $(that).trigger(\"change\", [ date_text ]);\n            }\n        };\n\n        return config;\n    },\n};\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/components/date_picker.js\n ** module id = 33\n ** module chunks = 0\n **/","TimePicker = function(component_id) {\n    this.component_id = component_id;\n};\n\nTimePicker.prototype = {\n    show: function(min_time, max_time) {\n        var that = this;\n\n        $('#' + this.component_id).keydown(function(e) {\n                if(e.which == 13) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    $(this).timepicker('setTime', $(this).val());\n                    $(this).timepicker('hide');\n                    $(this).blur();\n                    $(that).trigger('enter_pressed');\n                    return false;\n                }\n        }).timepicker(this.config(min_time, max_time));\n    },\n    hide: function() {\n        if($('#' + this.component_id + '.hasTimepicker').length > 0)\n            $('#' + this.component_id).timepicker('destroy');\n        $('#' + this.component_id).off('keydown');\n    },\n    time_now: function() {\n        return moment.utc(page.header.time_now);\n    },\n    config: function(min_time, max_time) {\n        var that = this;\n        min_time = moment.utc(min_time);\n        max_time = moment.utc(max_time);\n        var time_now = this.time_now();\n\n        if(min_time.isBefore(time_now)) {\n            min_time = this.time_now();\n        }\n\n        var config = {\n            minTime: {hour: parseInt(min_time.hour()), minute: parseInt(min_time.minute())},\n            maxTime: {hour: parseInt(max_time.hour()), minute: parseInt(max_time.minute())},\n        };\n\n        config.onSelect = function(time, inst) {\n            if (!time.match(/^(:?[0-3]\\d):(:?[0-5]\\d):(:?[0-5]\\d)$/)) {\n                var invalid = time.match(/([a-z0-9]*):([a-z0-9]*):?([a-z0-9]*)?/);\n                var hour = that.time_now().format(\"hh\");\n                var minute = that.time_now().format(\"mm\");\n                var second = that.time_now().format(\"ss\");\n\n                if (typeof invalid[1] !== 'undefined' && isFinite(invalid[1])) {\n                    hour = parseInt(invalid[1]);\n                    if(hour < 10) {\n                        hour = \"0\" + hour;\n                    }\n                }\n                if (typeof invalid[2] !== 'undefined' && isFinite(invalid[2])) {\n                    minute = parseInt(invalid[2]);\n                    if(parseInt(minute) < 10) {\n                        minute = \"0\" + minute;\n                    }\n                }\n                if (typeof invalid[3] !== 'undefined' && isFinite(invalid[3])) {\n                    second = parseInt(invalid[3]);\n                    if(second < 10) {\n                        second = \"0\" + minute;\n                    }\n                }\n\n                var new_time = moment(that.time_now().format(\"YYYY-MM-DD\") + ' ' + hour +':'+minute+':'+second);\n                $(this).val(new_time.format(\"HH:mm\"));\n                $(that).trigger('change', [new_time.format(\"HH:mm\")]);\n            } else {\n                $(that).trigger('change', [time]);\n            }\n        };\n\n        return config;\n    },\n};\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/components/time_picker.js\n ** module id = 34\n ** module chunks = 0\n **/","window._trackJs = {\n    onError: function(payload, error) {\n\n        function itemExistInList(item, list) {\n            for (var i = 0; i < list.length; i++) {\n                if (item.indexOf(list[i]) > -1) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        var ignorableErrors = [\n            // General script error, not actionable\n            \"[object Event]\",\n            // General script error, not actionable\n            \"Script error.\",\n            // error when user  interrupts script loading, nothing to fix\n            \"Error loading script\",\n            // an error caused by DealPly (http://www.dealply.com/) chrome extension\n            \"DealPly\",\n            // this error is reported when a post request returns error, i.e. html body\n            // the details provided in this case are completely useless, thus discarded\n            \"Unexpected token <\"\n        ];\n\n        if (itemExistInList(payload.message, ignorableErrors)) {\n            return false;\n        }\n\n        payload.network = payload.network.filter(function(item) {\n\n            // ignore random errors from Intercom\n            if (item.statusCode === 403 && payload.message.indexOf(\"intercom\") > -1) {\n                return false;\n            }\n\n            return true;\n        });\n\n        return true;\n    }\n};\n\n// if Track:js is already loaded, we need to initialize it\nif (typeof trackJs !== 'undefined') trackJs.configure(window._trackJs);\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/components/trackjs_onerror.js\n ** module id = 35\n ** module chunks = 0\n **/","pjax_config_page('/get-started-jp', function() {\n    return {\n        onLoad: function() {\n          if (!japanese_client()) {\n            window.location.href = page.url.url_for('get-started');\n          }\n          var tab = window.location.hash;\n          if (tab && tab !== '') {\n            $('#index').hide();\n            $('.sidebar-left ul li.' + tab.slice(1, tab.length)).addClass('selected');\n            showSelectedTab();\n          }\n          function showSelectedTab() {\n            var updatedTab = window.location.hash;\n            $('.contents div').hide();\n            if (updatedTab && updatedTab !== '') {\n              if ($('#index').is(\":visible\")) $('#index').hide();\n              $('.contents div[id=content-' + updatedTab.slice(1, updatedTab.length) + ']').show();\n              $('.contents div[id=content-' + updatedTab.slice(1, updatedTab.length) + '] div').show();\n              $('.sidebar-left ul li').removeClass('selected');\n              $('.sidebar-left ul li.' + updatedTab.slice(1, updatedTab.length)).addClass('selected');\n              $('.contents').show();\n            }\n            else {\n              $('.contents').hide();\n              $('.sidebar-left ul li').removeClass('selected');\n              $('#index').show();\n            }\n          }\n          $(window).on('hashchange', function(){\n            showSelectedTab();\n          });\n          $('.sidebar-left ul li').click(function(e) {\n            $('.sidebar-left ul li').removeClass('selected');\n            $(this).addClass('selected');\n          });\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/static_pages/get_started_jp.js\n ** module id = 36\n ** module chunks = 0\n **/","var JobDetails = (function() {\n    var dept, depts, sections;\n\n    function showSelectedDiv() {\n        if ($('.job-details').find('#title').text() === '') {\n            init();\n        } else {\n            $('.sections div').hide();\n            $('.sections div[id=' + dept + '-' + page.url.location.hash.substring(1) + ']').show();\n            $('.title-sections').html($('.sidebar li[class=\"selected\"]').text());\n            if (dept === 'Information_Technology' && page.url.location.hash.substring(1) === 'section-three') {\n              $('.senior_perl_message').removeClass('invisible');\n            } else if (!$('.senior_perl_message').hasClass('invisible')) {\n              $('.senior_perl_message').addClass('invisible');\n            }\n        }\n    }\n\n    function check_url() {\n        var replace_dept, replace_section;\n        if (!dept || $.inArray(dept, depts) === -1) {\n            replace_dept = '?dept=Information_Technology';\n        }\n        if (!page.url.location.hash || $.inArray(page.url.location.hash.substring(1), sections) === -1) {\n            replace_section = '#section-one';\n        }\n        if (replace_dept || replace_section) {\n            window.location = replace_dept && replace_section ? page.url.url_for('open-positions/job-details') + replace_dept + replace_section :\n                              replace_dept ? page.url.url_for('open-positions/job-details') + replace_dept + page.url.location.hash :\n                              page.url.url_for('open-positions/job-details') + '?dept=' + dept + replace_section;\n            return false;\n        }\n        return true;\n    }\n\n    function init() {\n        dept = page.url.params_hash().dept;\n        depts = ['Information_Technology', 'Quality_Assurance', 'Quantitative_Analysis', 'Marketing', 'Accounting', 'Compliance', 'Customer_Support', 'Human_Resources', 'Administrator', 'Internal_Audit'];\n        sections = ['section-one', 'section-two', 'section-three', 'section-four', 'section-five', 'section-six', 'section-seven', 'section-eight'];\n        if (check_url()) {\n            $('.job-details').find('#title').html(text.localize(dept.replace(/_/g, ' ')));\n            var deptImage = $('.dept-image'),\n                sourceImage = deptImage.attr('src').replace('Information_Technology', dept);\n            deptImage.attr('src', sourceImage)\n                     .show();\n            var deptContent = $('#content-' + dept + ' div'),\n                section;\n            $('#sidebar-nav li').slice(deptContent.length).hide();\n            for (i = 0; i < deptContent.length; i++) {\n                section = $('#' + dept + '-' + sections[i]);\n                section.insertAfter('.sections div:last-child');\n                if (section.attr('class')) {\n                    $('#sidebar-nav a[href=\"#' + sections[i] + '\"]').html(text.localize(section.attr('class').replace(/_/g, ' ')));\n                }\n            }\n            $('.sidebar').show();\n            if ($('.sidebar li:visible').length === 1) {\n                $('.sidebar').hide();\n            }\n            $('#' + page.url.location.hash.substring(9)).addClass('selected');\n            showSelectedDiv();\n            $('#back-button').attr('href', page.url.url_for('open-positions') + '#' + dept);\n        }\n    }\n\n    return {\n        showSelectedDiv: showSelectedDiv,\n        check_url: check_url,\n        init: init\n    };\n})();\n\npjax_config_page('/open-positions', function() {\n  return {\n      onLoad: function() {\n        if (document.getElementById('Information_Technology')) {\n          if (page.url.location.hash) {\n              $.scrollTo($(page.url.location.hash));\n          }\n        }\n      }\n  };\n});\npjax_config_page('/open-positions/job-details', function() {\n    return {\n        onLoad: function() {\n            var sidebarListItem = $('#sidebar-nav li');\n\n            JobDetails.init();\n\n            sidebarListItem.click(function(e) {\n                sidebarListItem.removeClass('selected');\n                $(this).addClass('selected');\n            });\n\n            $(window).on('hashchange', function(){\n                if (JobDetails.check_url()) {\n                    JobDetails.showSelectedDiv();\n                }\n            });\n        }\n    };\n});\n\nmodule.exports = {\n    JobDetails: JobDetails,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/static_pages/job_details.js\n ** module id = 37\n ** module chunks = 0\n **/","pjax_config_page('/\\?.+|/home', function() {\n    return {\n        onLoad: function() {\n            if(/^(\\/|\\/home)$/i.test(window.location.pathname)) {\n                page.client.redirect_if_login();\n            }\n            check_login_hide_signup();\n            submit_email();\n        }\n    };\n});\n\npjax_config_page('/why-us', function() {\n    return {\n        onLoad: function() {\n            sidebar_scroll($('.why-us'));\n            hide_if_logged_in();\n        },\n        onUnload: function() {\n            $(window).off('scroll');\n        }\n    };\n});\n\npjax_config_page('/volidx-markets', function() {\n    return {\n        onLoad: function() {\n            if (page.url.location.hash !== \"\") {\n              $('a[href=\"' + page.url.location.hash + '\"]').click();\n            }\n        },\n        onUnload: function() {\n            $(window).off('scroll');\n        }\n    };\n});\n\npjax_config_page('/open-source-projects', function() {\n    return {\n        onLoad: function() {\n            sidebar_scroll($('.open-source-projects'));\n        },\n        onUnload: function() {\n            $(window).off('scroll');\n        }\n    };\n});\n\npjax_config_page('/payment-agent', function() {\n    return {\n        onLoad: function() {\n            sidebar_scroll($('.payment-agent'));\n        },\n        onUnload: function() {\n            $(window).off('scroll');\n        }\n    };\n});\n\npjax_config_page('/get-started', function() {\n    return {\n        onLoad: function() {\n            if (!/jp/.test(window.location.pathname) && japanese_client()) {\n              window.location.href = page.url.url_for('get-started-jp');\n            } else if (/jp/.test(window.location.pathname)) {\n              return;\n          } else {\n            get_started_behaviour();\n          }\n        },\n        onUnload: function() {\n            $(window).off('scroll');\n        },\n    };\n});\n\npjax_config_page('/contact', function() {\n    return {\n        onLoad: function() {\n            $('#faq_url').attr('href', 'https://binary.desk.com/customer/' + page.language() + \"/portal/articles\");\n            display_cs_contacts();\n            show_live_chat_icon();\n        },\n    };\n});\n\npjax_config_page('/careers', function() {\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('/');\n            }\n            display_career_email();\n        },\n    };\n});\n\npjax_config_page('/terms-and-conditions', function() {\n    return {\n        onLoad: function() {\n            if (japanese_client() && !/jp/.test(window.location.pathname)) {\n              window.location.href = page.url.url_for('terms-and-conditions-jp');\n            } else if (!japanese_client() && /jp/.test(window.location.pathname)) {\n              window.location.href = page.url.url_for('terms-and-conditions');\n            }\n            var selected_tab = page.url.params_hash().selected_tab;\n            if(selected_tab) {\n              $('li#' + selected_tab + ' a').click();\n            }\n            var year = document.getElementsByClassName('currentYear');\n            for (i = 0; i < year.length; i++){\n              year[i].innerHTML = new Date().getFullYear();\n            }\n        },\n    };\n});\n\npjax_config_page('\\/login|\\/loginid_switch', function() {\n    return {\n        onLoad: function() {\n            if(!$('body').hasClass('BlueTopBack')) {\n                window.location.href = Login.login_url();\n            }\n        }\n    };\n});\n\npjax_config_page('/trading', function () {\n    return {\n        onLoad: function(){TradePage.onLoad();},\n        onUnload: function(){TradePage.onUnload();}\n    };\n});\n\npjax_config_page('/jptrading', function () {\n    return {\n        onLoad: function(){JPTradePage.onLoad();},\n        onUnload: function(){JPTradePage.onUnload();}\n    };\n});\n\npjax_config_page('/affiliate/signup', function() {\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('user/my_accountws');\n            }\n        }\n    };\n});\n\npjax_config_page('/(us_patents|responsible-trading|partners)', function() {\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('/');\n            }\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/static_pages/static_pjax.js\n ** module id = 38\n ** module chunks = 0\n **/","var ValidationUI = {\n    clear: function() {\n        $('.errorfield[data-is-error-field]').remove();\n    },\n    draw:  function(selector, message) {\n        var $parent = $(selector).parent();\n        var $p = $('<p/>', {\n            class: 'errorfield',\n            text:  text.localize(message),\n        });\n        $p.attr('data-is-error-field', true);\n        $parent.append($p);\n    },\n};\n\n\n/**\n * Replaces error messages returned by a validator by the given\n * error message `err`. Only use this on validators with one\n * error message.\n */\nfunction customError(fn, err) {\n    return function(value) {\n        var rv = fn(value);\n        if (!rv.isOk) rv.value = [err];\n        return rv;\n    };\n}\n\n\nfunction withContext(ctx) {\n    return function(msg) {\n        return {\n            ctx: ctx,\n            err: msg,\n        };\n    };\n}\n\n/**\n * Validates data given a schema.\n *\n * @param data    An object.\n * @param schema  An object in the form {key: Array}, where the Array\n *                contains functions which accept two arguments- the current\n *                value and the objet being validated, and return either dv.ok\n *                or dv.fail.\n * @returns {Object}  {errors: errors, values: values, raw: data} where\n *                    errors is an array of {ctx: key, err: message} objects,\n *                    values is an object with the collected successful values,\n *                    raw is the data passed in.\n */\nfunction validate_object(data, schema) {\n    var keys = Object.keys(schema);\n    var values = {};\n    var rv = dv.combine([], keys.map(function(ctx) {\n        var res = dv.ok(data[ctx]);\n        var fns = schema[ctx];\n        for (var i = 0; i < fns.length; i++) {\n            res = fns[i](res.value, data);\n            if (!res.isOk) return res.fmap(withContext(ctx));\n        }\n        values[ctx] = res.value;\n        return res;\n    }));\n    return {\n        errors: rv.value,\n        values: values,\n        raw:    data,\n    };\n}\n\n\nfunction stripTrailing(name) {\n    return name.replace(/\\[\\]$/, '');\n}\n\n/**\n * Helper for enabling form validation when the user starts and stops typing.\n *\n * @param form             A form Element (not JQuery object).\n * @param config           Configuration object.\n * @param config.extract   Returns the current data on the form.\n * @param config.validate  Receives the current data returns an object with\n *                         {values: Object, errors: [{ctx: key, err: msg}...]}.\n * @param config.stop      Called when the user stops typing with the return\n *                         value of `config.validate`.\n * @param config.submit    Called on submit event with event and validation state.\n */\nfunction bind_validation(form, config) {\n    var extract  = config.extract;\n    var validate = config.validate;\n    var stop     = config.stop;\n    var submit   = config.submit;\n    var seen     = {};\n\n    function onStart(ev) {\n        seen[stripTrailing(ev.target.name)] = true;\n    }\n\n    function onStop(ev) {\n        var data = extract();\n        var validation = validate(data);\n        validation.errors = validation.errors.filter(function(err) {\n            return seen[err.ctx];\n        });\n        stop(validation);\n    }\n\n    form.addEventListener('submit', function(ev) {\n        var data = extract();\n        var validation = validate(data);\n        stop(validation);\n        submit(ev, validation);\n    });\n\n    form.addEventListener('change', function(ev) {\n        onStart(ev);\n        onStop(ev);\n    });\n    done_typing(form, {\n        start: onStart,\n        stop:  onStop,\n    });\n}\n\n/**\n * Generates (and binds) a config for the given form.\n *\n * @param form  Form element.\n * @param opts  Config object.\n * @param opts.extract   Optional. Defaults to `formToObj(form)`.\n * @param opts.submit    Required.\n * @param opts.validate  Optional. If you do not specify this then opts.schema\n *                       is required.\n * @param opts.schema    See above.\n * @param opts.stop      Optional.\n *\n */\nbind_validation.simple = function(form, opts) {\n    bind_validation(form, {\n        submit:   opts.submit,\n        extract:  opts.extract  || function() { return formToObj(form); },\n        validate: opts.validate || function(data) { return validate_object(data, opts.schema); },\n        stop:     opts.stop     || function(validation) {\n            ValidationUI.clear();\n            validation.errors.forEach(function(err) {\n                var sel = 'input[name=' + stripTrailing(err.ctx) + ']';\n                ValidationUI.draw(sel, err.err);\n            });\n        },\n    });\n};\n\nmodule.exports = {\n    ValidationUI: ValidationUI,\n    customError: customError,\n    withContext: withContext,\n    validate_object: validate_object,\n    stripTrailing: stripTrailing,\n    bind_validation: bind_validation,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/validator.js\n ** module id = 39\n ** module chunks = 0\n **/","var account_transferws = (function(){\n    \"use strict\";\n    var $form ;\n    var account_from , account_to ;\n    var currType,account_bal;\n    var availableCurr= [] ;\n    var payoutCurr = [];\n\n    var init = function(){\n        if(page.client.redirect_if_is_virtual()) {\n            return;\n        }\n\n        $form = $('#account_transfer');\n        account_bal = 0;\n\n        BinarySocket.send({ \"transfer_between_accounts\": \"1\",\"req_id\" : 4 });\n\n        $form.find(\"button\").on(\"click\", function(e){\n            e.preventDefault();\n            e.stopPropagation();\n\n            if(validateForm() === false){\n                return false;\n            }\n\n            var amt = $form.find(\"#acc_transfer_amount\").val();\n            BinarySocket.send({\n                        \"transfer_between_accounts\": \"1\",\n                        \"account_from\": account_from,\n                        \"account_to\": account_to,\n                        \"currency\": currType,\n                        \"amount\": amt\n            });\n\n        });\n\n        $form.find(\"#transfer_account_transfer\").on(\"change\",function(){\n\n           $form.find(\"#invalid_amount\").text(\"\");\n           set_account_from_to();\n\n           BinarySocket.send({\"payout_currencies\": \"1\"});\n\n        });\n    };\n    var set_account_from_to = function(){\n\n        var accounts = $(\"#transfer_account_transfer option:selected\").text();\n        var matches = accounts\n                        .split('(')\n                        .filter(function(v){\n                            return v.indexOf(')') > -1;})\n                        .map( function(value) {\n                            return value.split(')')[0];\n                    });\n\n        account_from = matches[0];\n        account_to = matches[1];\n\n        $.each(availableCurr,function(index,value){\n            if(value.account == account_from){\n                currType = value.currency;\n                account_bal = value.balance;\n            }\n        });\n\n        $form.find(\"#currencyType\").html(currType);\n    };\n    var validateForm =function(){\n\n        var amt = $form.find(\"#acc_transfer_amount\").val();\n        var isValid = true;\n\n        if(amt.length <=0 ){\n            $form.find(\"#invalid_amount\").text(text.localize(\"Invalid amount. Minimum transfer amount is 0.10, and up to 2 decimal places.\"));\n            isValid = false;\n        }\n\n        return isValid;\n    };\n\n    var apiResponse = function(response){\n        var type = response.msg_type;\n        if (type === \"authorize\") {\n            init();\n        }\n        else if (type === \"transfer_between_accounts\" || (type === \"error\" && \"transfer_between_accounts\" in response.echo_req)) {\n           responseMessage(response);\n        }\n        else if(type === \"payout_currencies\" || (type === \"error\" && \"payout_currencies\" in response.echo_req)) {\n            responseMessage(response);\n        }\n    };\n\n    var responseMessage = function(response) {\n        var resvalue ;\n        if(\"error\" in response) {\n                if(\"message\" in response.error) {\n\n                    if($('#transfer_account_transfer option').length > 0 ){\n                        $form.removeClass('invisible');\n                        $form.find(\"#invalid_amount\").text(text.localize(response.error.message));\n                    }\n                    else{\n                        $(\"#client_message\").removeClass('invisible');\n                        $(\"#client_message p\").html(text.localize(response.error.message));\n                        $(\"#success_form\").addClass('invisible');\n                        $form.addClass('invisible');\n\n                    }\n                    return false;\n                }\n\n                return false;\n        }\n        else if(\"payout_currencies\" in response){\n\n            payoutCurr = response.payout_currencies;\n        }\n        else if (\"transfer_between_accounts\" in response){\n\n            if(response.req_id === 5){\n\n                $.each(response.accounts,function(key,value){\n                    $form.addClass('invisible');\n                    $(\"#success_form\").removeClass('invisible');\n                    $(\"#client_message\").addClass('invisible');\n\n                    if(value.loginid == account_from){\n                        $(\"#loginid_1\").html(value.loginid);\n                        $(\"#balance_1\").html(value.balance);\n                    }\n                    else if(value.loginid == account_to){\n                        $(\"#loginid_2\").html(value.loginid);\n                        $(\"#balance_2\").html(value.balance);\n\n                    }\n                });\n            }\n            else if(response.req_id === 4){\n                $form.removeClass('invisible');\n                var secondacct, firstacct,str,optionValue;\n                var selectedIndex = -1;\n\n                $.each(response.accounts, function(index,value){\n                    var currObj = {};\n\n                    if($.isEmptyObject(firstacct))\n                    {\n                        firstacct = value.loginid;\n                        currObj.account = value.loginid;\n                        currObj.currency = value.currency;\n                        currObj.balance = value.balance;\n\n                        if(value.balance > 0 && selectedIndex < 0)\n                        {\n                            selectedIndex = index;\n                        }\n\n                        availableCurr.push(currObj);\n                    }\n                    else\n                    {\n                        secondacct = value.loginid;\n                        str = text.localize(\"from account (\" + firstacct + \") to account (\" + secondacct + \")\");\n                        optionValue = firstacct + \"_to_\" + secondacct;\n                        $form.find(\"#transfer_account_transfer\")\n                             .append($(\"<option></option>\")\n                             .attr(\"value\",optionValue)\n                             .text(str));\n                        str = text.localize(\"from account (\" + secondacct + \") to account (\" + firstacct + \")\");\n                        optionValue = secondacct + \"_to_\" + firstacct;\n                        $form.find(\"#transfer_account_transfer\")\n                             .append($(\"<option></option>\")\n                             .attr(\"value\",optionValue)\n                             .text(str));\n\n                        currObj.account = value.loginid;\n                        currObj.currency = value.currency;\n                        currObj.balance = value.balance;\n\n                        availableCurr.push(currObj);\n\n                        firstacct = {};\n\n                        if(selectedIndex < 0 && value.balance){\n                            selectedIndex =  index;\n                        }\n                    }\n\n                    if(($.isEmptyObject(firstacct) === false) && ($.isEmptyObject(secondacct) === false))\n                    {\n                        str = text.localize(\"from account (\" + secondacct + \") to account (\" + firstacct + \")\");\n                        optionValue = secondacct + \"_to_\" + firstacct;\n                        $form.find(\"#transfer_account_transfer\")\n                                 .append($(\"<option></option>\")\n                                 .attr(\"value\",optionValue)\n                                 .text(str));\n                    }\n                    secondacct = {};\n\n                    if(value.balance <= 0){\n                        $form.find(\"#transfer_account_transfer option:last\").remove();\n                    }\n                    else{\n                        if(selectedIndex < 0 ){\n                            selectedIndex =  index;\n                        }\n                    }\n\n\n                });\n\n                for(var i = 0; i < selectedIndex; i++){\n                    $form.find(\"#transfer_account_transfer option\").eq(i).remove();\n                }\n\n                if(selectedIndex >=0){\n                    $form.find(\"#transfer_account_transfer option\").eq(selectedIndex).attr('selected', 'selected');\n                }\n\n\n                set_account_from_to();\n\n                if((account_bal <=0) && (response.accounts.length > 1) ){\n                    $(\"#client_message\").removeClass('invisible');\n                    $(\"#success_form\").addClass('invisible');\n                    $form.addClass('invisible');\n                    return false;\n                }\n                else if(account_to === undefined || account_from === undefined || $.isEmptyObject(account_to))\n                {\n                    $(\"#client_message\").removeClass('invisible');\n                    $(\"#client_message p\").html(text.localize(\"The account transfer is unavailable for your account.\"));\n                    $(\"#success_form\").addClass('invisible');\n                    $form.addClass('invisible');\n                    return false;\n                }\n\n                BinarySocket.send({\"payout_currencies\": \"1\"});\n            }\n            else{\n                BinarySocket.send({\n                    \"transfer_between_accounts\": \"1\",\n                    \"req_id\" : 5\n                });\n\n            }\n        }\n\n    };\n\n    return {\n        init : init,\n        apiResponse : apiResponse\n    };\n\n})();\n\npjax_config_page_require_auth(\"account/account_transferws\", function() {\n    return {\n        onLoad: function() {\n            BinarySocket.init({\n                onmessage: function(msg){\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        account_transferws.apiResponse(response);\n                    }\n                }\n            });\n\n            if(TUser.get().hasOwnProperty('is_virtual')) {\n                account_transferws.init();\n            }\n        }\n    };\n});\n\nmodule.exports = {\n    account_transferws: account_transferws,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/cashier/account_transferws.js\n ** module id = 40\n ** module chunks = 0\n **/","var Cashier = (function() {\n    \"use strict\";\n\n    var lock_withdrawal = function(withdrawal_locked) {\n      if (withdrawal_locked === 'locked') {\n        $.each($('.withdraw'), function(){\n          var $a = $(this).parent();\n          // use replaceWith, to disable previously catched pjax event\n          $a.replaceWith($('<a/>', {class: $a.attr('class').replace('pjaxload') + ' button-disabled', html: $a.html()}));\n        });\n        $('.notice-msg').removeClass('invisible').parent().removeClass('invisible');\n      }\n    };\n\n    var check_withdrawal_locked = function() {\n      if (sessionStorage.getItem('withdrawal_locked') === 'locked') {\n        Cashier.lock_withdrawal('locked');\n      } else if (!sessionStorage.getItem('withdrawal_locked')) {\n        BinarySocket.send({\"get_account_status\": \"1\", \"passthrough\":{\"dispatch_to\":\"Cashier\"}});\n      }\n    };\n\n    return {\n        lock_withdrawal: lock_withdrawal,\n        check_withdrawal_locked: check_withdrawal_locked\n    };\n}());\n\npjax_config_page(\"/cashier\", function(){\n    return {\n        onLoad: function() {\n          if (!/\\/cashier\\.html/.test(window.location.pathname) || !page.client.is_logged_in) {\n            return;\n          } else {\n            Cashier.check_withdrawal_locked();\n          }\n        }\n    };\n});\n\npjax_config_page(\"/cashier/payment_methods\", function(){\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('/');\n            }\n            if (!page.client.is_logged_in || page.client.is_virtual()) {\n                return;\n            } else {\n                Cashier.check_withdrawal_locked();\n            }\n        }\n    };\n});\n\nmodule.exports = {\n    Cashier: Cashier,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/cashier/cashier.js\n ** module id = 41\n ** module chunks = 0\n **/","var ForwardWS = (function() {\n  function init() {\n    Content.populate();\n    var verification_error = document.getElementById('verification-error');\n    $('#submit-currency').click(function() {\n      $('#submit-currency').attr('disabled', 'disabled');\n      BinarySocket.send({\"set_account_currency\": $('#select-currency').val()});\n    });\n    $('#submit-verification').click(function() {\n      var verification_token = document.getElementById('verification-token').value;\n      if (!Validate.errorMessageToken(verification_token, verification_error)) {\n        $('#submit-verification').attr('disabled', 'disabled');\n        getCashierURL(verification_token);\n      }\n    });\n    $('#submit-ukgc-funds-protection').click(function() {\n      $('#submit-ukgc-funds-protection').attr('disabled', 'disabled');\n      BinarySocket.send({\"tnc_approval\": 1, \"ukgc_funds_protection\": 1});\n    });\n  }\n  function getCashierType() {\n    var cashier_type;\n    if (/withdraw/.test(window.location.hash)) {\n      cashier_type = 'withdraw';\n      document.getElementById('deposit-withdraw-heading').innerHTML = text.localize('Withdraw');\n    } else if (/deposit/.test(window.location.hash)) {\n      cashier_type = 'deposit';\n      document.getElementById('deposit-withdraw-heading').innerHTML = text.localize('Deposit');\n    }\n    return cashier_type;\n  }\n  function getCashierURL(verification_token) {\n    var req = {'cashier':getCashierType()};\n    if (verification_token) req.verification_code = verification_token;\n    BinarySocket.send(req);\n  }\n  function hideAll() {\n    $('#withdraw-form').hide();\n    $('#currency-form').hide();\n    $('#ukgc-funds-protection').hide();\n    $('#deposit-withdraw-error').hide();\n  }\n  function showError(error, id) {\n    hideAll();\n    $('#deposit-withdraw-error .error_messages').hide();\n    if (id) {\n      $('#deposit-withdraw-error #' + id).show();\n    } else {\n      $('#custom-error').html(error || text.localize('Sorry, an error occurred while processing your request.')).show();\n    }\n    $('#deposit-withdraw-error').show();\n  }\n  function showMessage(id) {\n    $('#deposit-withdraw-message .messages').hide();\n    $('#deposit-withdraw-message #' + id).show();\n    $('#deposit-withdraw-message').show();\n  }\n  function lock_withdrawal(withdrawal_locked) {\n    if (withdrawal_locked === 'locked') {\n      showError('', 'withdrawal-locked-error');\n    } else {\n      BinarySocket.send({\"cashier_password\": \"1\"});\n    }\n  }\n  return {\n    init: init,\n    getCashierType: getCashierType,\n    getCashierURL: getCashierURL,\n    hideAll: hideAll,\n    showError: showError,\n    showMessage: showMessage,\n    lock_withdrawal: lock_withdrawal\n  };\n})();\n\npjax_config_page_require_auth(\"cashier/forwardws\", function() {\n    return {\n        onLoad: function() {\n          function check_virtual() {\n            if (page.client.is_virtual()) {\n              ForwardWS.showError(text.localize('This feature is not relevant to virtual-money accounts.'));\n            }\n            return page.client.is_virtual();\n          }\n          if (!check_virtual()) {\n            BinarySocket.init({\n              onmessage: function(msg){\n                var response = JSON.parse(msg.data);\n                if (response && !check_virtual()) {\n                  var type = response.msg_type;\n                  var error = response.error;\n                  if (type === 'cashier_password' && !error){\n                    ForwardWS.init();\n                    if (response.cashier_password === 1) {\n                      ForwardWS.showMessage('cashier-locked-message');\n                    } else {\n                      var cashier_type = ForwardWS.getCashierType();\n                      if (cashier_type === 'withdraw') {\n                        BinarySocket.send({'verify_email': TUser.get().email, 'type': 'payment_withdraw'});\n                        ForwardWS.showMessage('check-email-message');\n                        $('#withdraw-form').show();\n                      } else if (cashier_type === 'deposit') {\n                        if (TUser.get().currency !== \"\") {\n                          ForwardWS.getCashierURL();\n                        } else {\n                          ForwardWS.showMessage('choose-currency-message');\n                          $('#currency-form').show();\n                        }\n                      }\n                    }\n                  } else if (type === 'cashier_password' && error) {\n                    ForwardWS.showError(error.message);\n                  } else if (type === 'cashier' && !error) {\n                    ForwardWS.hideAll();\n                    $('#deposit-withdraw-message').hide();\n                    $('#deposit-withdraw-iframe-container iframe').attr('src', response.cashier);\n                    $('#deposit-withdraw-iframe-container').show();\n                  } else if (type === 'cashier' && error) {\n                    ForwardWS.hideAll();\n                    $('#deposit-withdraw-message').hide();\n                    if (error.code && error.code === 'ASK_TNC_APPROVAL') {\n                      window.location.href = page.url.url_for('user/tnc_approvalws');\n                    } else if (error.code && error.code === 'ASK_FIX_DETAILS') {\n                      var msgID = 'personal-details-message',\n                          errorFields;\n                      if(error.details) {\n                        errorFields = {\n                          province: 'State/Province',\n                          country:  'Country',\n                          city:     'Town/City',\n                          street:   'First line of home address',\n                          pcode:    'Postal Code / ZIP',\n                          phone:    'Telephone',\n                          email:    'Email address'\n                        };\n                      }\n                      var errMsg = template($('#' + msgID).html(), [text.localize(error.details ? errorFields[error.details] : 'details')]);\n                      $('#' + msgID).html(errMsg);\n                      ForwardWS.showMessage(msgID);\n                    } else if (error.code && error.code === 'ASK_UK_FUNDS_PROTECTION') {\n                      $('#ukgc-funds-protection').show();\n                    } else if (error.code && error.code === 'ASK_AUTHENTICATE') {\n                      ForwardWS.showMessage('not-authenticated-message');\n                    } else {\n                        ForwardWS.showError(error.message);\n                    }\n                  } else if (type === 'set_account_currency' && !error) {\n                    ForwardWS.getCashierURL();\n                  } else if (type === 'set_account_currency' && error) {\n                    ForwardWS.showError(error.message);\n                  } else if (type === 'tnc_approval' && !error) {\n                    ForwardWS.getCashierURL();\n                  } else if (type === 'tnc_approval' && error) {\n                    ForwardWS.showError(error.message);\n                  }\n                }\n              }\n            });\n            if (sessionStorage.getItem('withdrawal_locked') === 'locked' && /withdraw/.test(window.location.hash)) {\n              ForwardWS.lock_withdrawal('locked');\n            } else if (!sessionStorage.getItem('withdrawal_locked') && /withdraw/.test(window.location.hash)) {\n              BinarySocket.send({\"get_account_status\": \"1\", \"passthrough\":{\"dispatch_to\":\"ForwardWS\"}});\n            } else {\n              BinarySocket.send({\"cashier_password\": \"1\"});\n            }\n          }\n        }\n    };\n});\n\nmodule.exports = {\n    ForwardWS: ForwardWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/cashier/deposit_withdraw_ws.js\n ** module id = 42\n ** module chunks = 0\n **/","var PaymentAgentListWS = (function() {\n    \"use strict\";\n\n    var hiddenClass,\n        ddlCountriesID,\n        $paListContainer;\n\n    var residence,\n        agentTemplate;\n\n\n    var init = function() {\n        hiddenClass = 'hidden';\n        ddlCountriesID = '#target_country';\n        $paListContainer = $('#pa_list');\n        agentTemplate = $paListContainer.find('#accordion').html();\n\n        residence = Cookies.get('residence');\n        if (!residence || residence.length === 0) {\n            residence = '00'; // just to get a list of payment agent Countries\n        }\n\n        sendRequest(residence, true);\n    };\n\n    var sendRequest = function(country, isList) {\n        BinarySocket.send({\n            \"paymentagent_list\": country ? country : $(ddlCountriesID).val(), \n            \"passthrough\": isList ? {\"countries_list\": \"1\"} : {}\n        });\n    };\n\n    var responseHandler = function(response) {\n        if(response.echo_req.passthrough && response.echo_req.passthrough.countries_list === '1') {\n            populateCountriesList(response);\n        }\n        else {\n            populateAgentsList(response.paymentagent_list.list);\n        }\n    };\n\n    // --------------------------\n    // ----- Countries List -----\n    // --------------------------\n    var populateCountriesList = function(response) {\n        var $ddlCountries = $(ddlCountriesID);\n        $ddlCountries.empty();\n\n        var cList = response.paymentagent_list.available_countries;\n        if(cList.length === 0) {\n            $ddlCountries.parent().addClass(hiddenClass);\n            showEmptyListMsg();\n            return;\n        }\n\n        var requestedCountry = response.echo_req.paymentagent_list;\n        var found = false;\n        cList.map(function(country) {\n            if(country === requestedCountry) {\n                found = true;\n            }\n            insertListOption($ddlCountries, country[1], country[0]);\n        });\n\n        if(found) {\n            $ddlCountries.val(requestedCountry);\n            populateAgentsList(response.paymentagent_list.list);\n        }\n        else {\n            sendRequest();\n        }\n\n        $ddlCountries.change(function() {\n            sendRequest();\n        });\n    };\n\n    var insertListOption = function($ddlObject, itemText, itemValue) {\n        $ddlObject.append($('<option/>', {value: itemValue, text: itemText}));\n    };\n\n    // -----------------------\n    // ----- Agents List -----\n    // -----------------------\n    var populateAgentsList = function(list) {\n        if(!list || list.length === 0) {\n            showEmptyListMsg();\n            return;\n        }\n\n        showLoadingImage($paListContainer);\n\n        var $accordion = $('<div/>', {id: 'accordion'});\n\n        list.map(function(agent){\n            var supported_banks = '';\n            if(agent.supported_banks && agent.supported_banks.length > 0) {\n                var banks = agent.supported_banks.split(',');\n                banks.map(function(bank){\n                    supported_banks += bank.length === 0 ? \n                        '' :\n                        '<img src=\"' + page.url.url_for_static('images/pages/payment_agent/banks/' + bank.toLowerCase() + '.png') + '\" alt=\"' + bank + '\" title=\"' + bank + '\" />';\n                });\n            }\n        \n            $accordion.append(\n                agentTemplate\n                    .replace(/%name/g                   , agent.name)\n                    .replace(/%summary/g                , agent.summary)\n                    .replace(/%deposit_commission/g     , agent.deposit_commission)\n                    .replace(/%withdrawal_commission/g  , agent.withdrawal_commission)\n                    .replace(/%url/g                    , agent.url)\n                    .replace(/%email/g                  , agent.email)\n                    .replace(/%telephone/g              , agent.telephone)\n                    .replace(/%further_information/g    , agent.further_information)\n                    .replace(/%supported_banks/g        , supported_banks)\n            );\n        });\n\n        $paListContainer.empty().append($accordion);\n\n        $('#accordion').accordion({\n            heightStyle : 'content',\n            collapsible : true,\n            active      : false\n        });\n    };\n\n    var showEmptyListMsg = function() {\n        $('#no_paymentagent').removeClass(hiddenClass);\n    };\n\n    return {\n        init: init,\n        responseHandler: responseHandler\n    };\n}());\n\n\n\npjax_config_page(\"payment_agent_listws\", function() {\n    return {\n        onLoad: function() {\n            BinarySocket.init({\n                onmessage: function(msg) {\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        if (response.msg_type === \"paymentagent_list\") {\n                            PaymentAgentListWS.responseHandler(response);\n                        }\n                    }\n                    else {\n                        console.log('some error occured');\n                    }\n                }\n            });\n\n            Content.populate();\n            PaymentAgentListWS.init();\n        }\n    };\n});\n\nmodule.exports = {\n    PaymentAgentListWS: PaymentAgentListWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/cashier/payment_agent_listws.js\n ** module id = 43\n ** module chunks = 0\n **/","var PaymentAgentWithdrawWS = (function() {\n    \"use strict\";\n\n    var containerID,\n        viewIDs,\n        fieldIDs,\n        errorClass,\n        hiddenClass,\n        $views;\n\n    var formData,\n        isValid;\n\n    var withdrawCurrency,\n        minAmount,\n        maxAmount;\n\n    var init = function() {\n        containerID = '#paymentagent_withdrawal';\n        $views      = $(containerID + ' .viewItem');\n        errorClass  = 'errorfield';\n        hiddenClass = 'hidden';\n        viewIDs = {\n            error   : '#viewError',\n            success : '#viewSuccess',\n            confirm : '#viewConfirm',\n            form    : '#viewForm'\n        };\n        fieldIDs = {\n            verificationCode : '#verification-code',\n            ddlAgents        : '#ddlAgents',\n            txtAmount        : '#txtAmount',\n            txtDesc          : '#txtDescription'\n        };\n        withdrawCurrency = 'USD';\n        minAmount = 10;\n        maxAmount = 2000;\n\n        $views.addClass(hiddenClass);\n\n        if(page.client.is_virtual()) { // Virtual Account\n            showPageError(text.localize('You are not authorized for withdrawal via payment agent.'));\n            return false;\n        }\n\n        var residence = Cookies.get('residence');\n\n        if (sessionStorage.getItem('withdrawal_locked') === 'unlocked') {\n          BinarySocket.send({\"paymentagent_list\": residence});\n        } else if (sessionStorage.getItem('withdrawal_locked') === 'locked') {\n          lock_withdrawal('locked');\n        }\n\n        $(viewIDs.form + ' button').click(function(e){\n            e.preventDefault();\n            e.stopPropagation();\n            formData = formValidate();\n            if(!formData) {\n                return false;\n            }\n            else {\n                withdrawRequest(true);\n            }\n        });\n    };\n\n    // -----------------------\n    // ----- Agents List -----\n    // -----------------------\n    var populateAgentsList = function(response) {\n        var $ddlAgents = $(fieldIDs.ddlAgents);\n        $ddlAgents.empty();\n        var paList = response.paymentagent_list.list;\n        if(paList.length > 0) {\n            BinarySocket.send({verify_email: TUser.get().email, type:'paymentagent_withdraw'});\n            insertListOption($ddlAgents, text.localize('Please select a payment agent'), '');\n            for(var i = 0; i < paList.length; i++){\n                insertListOption($ddlAgents, paList[i].name, paList[i].paymentagent_loginid);\n            }\n            setActiveView(viewIDs.form);\n        }\n        else {\n            showPageError(text.localize('The Payment Agent facility is currently not available in your country.'));\n        }\n    };\n\n    var insertListOption = function($ddlObject, itemText, itemValue) {\n        $ddlObject.append($('<option/>', {value: itemValue, text: itemText}));\n    };\n\n    // ----------------------------\n    // ----- Form Validations -----\n    // ----------------------------\n    var formValidate = function() {\n        clearError();\n        isValid = true;\n\n        var agent  = $(fieldIDs.ddlAgents).val(),\n            amount = $(fieldIDs.txtAmount).val().trim(),\n            desc   = $(fieldIDs.txtDesc).val().trim(),\n            token  = $(fieldIDs.verificationCode).val().trim();\n\n        var letters = Content.localize().textLetters,\n            numbers = Content.localize().textNumbers,\n            space   = Content.localize().textSpace,\n            period  = Content.localize().textPeriod,\n            comma   = Content.localize().textComma;\n\n        // Payment Agent\n        isRequiredError(fieldIDs.ddlAgents);\n\n        // verification token\n        if(!isRequiredError(fieldIDs.verificationCode)){\n          if (token.length !== 48) {\n            showError(fieldIDs.verificationCode, Content.errorMessage('valid', text.localize('verification token')));\n          }\n        }\n\n        // Amount\n        if(!isRequiredError(fieldIDs.txtAmount)){\n            if(!(/^\\d+(\\.\\d+)?$/).test(amount) || !$.isNumeric(amount)) {\n                showError(fieldIDs.txtAmount, Content.errorMessage('reg', [numbers]));\n            }\n            else if(!(/^\\d+(\\.\\d{1,2})?$/).test(amount)) {\n                showError(fieldIDs.txtAmount, text.localize('Only 2 decimal points are allowed.'));\n            }\n            else if(amount < minAmount) {\n                showError(fieldIDs.txtAmount, text.localize('Invalid amount, minimum is') + ' ' + withdrawCurrency + ' ' + minAmount);\n            }\n            else if(amount > maxAmount) {\n                showError(fieldIDs.txtAmount, text.localize('Invalid amount, maximum is') + ' ' + withdrawCurrency + ' ' + maxAmount);\n            }\n        }\n\n        // Description\n        if(!(/^[a-zA-Z0-9\\s\\.\\,\\-']*$/).test(desc)) {\n            showError(fieldIDs.txtDesc, Content.errorMessage('reg', [letters, numbers, space, period, comma, '- \\'']));\n        }\n\n        if(isValid) {\n            return {\n                agent             : agent,\n                agentname         : $(fieldIDs.ddlAgents + ' option:selected').text(),\n                currency          : withdrawCurrency,\n                amount            : amount,\n                desc              : desc,\n                verificationCode : token\n            };\n        }\n        else {\n            return false;\n        }\n    };\n\n    var isRequiredError = function(fieldID) {\n        if(!$(fieldID).val() || !(/.+/).test($(fieldID).val().trim())){\n            showError(fieldID, Content.errorMessage('req'));\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    var isCountError = function(fieldID, min, max) {\n        var fieldValue = $(fieldID).val().trim();\n        if((fieldValue.length > 0 && fieldValue.length < min) || fieldValue.length > max) {\n            showError(fieldID, Content.errorMessage('range', '(' + min + '-' + max + ')'));\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    // ----------------------------\n    // ----- Withdraw Process -----\n    // ----------------------------\n    var withdrawRequest = function(isDryRun) {\n        var dry_run = isDryRun ? 1 : 0;\n        BinarySocket.send({\n            \"paymentagent_withdraw\" : 1,\n            \"paymentagent_loginid\"  : formData.agent,\n            \"currency\"              : formData.currency,\n            \"amount\"                : formData.amount,\n            \"description\"           : formData.desc,\n            \"dry_run\"               : dry_run,\n            \"verification_code\"     : formData.verificationCode\n        });\n    };\n\n    var withdrawResponse = function(response) {\n        var responseCode = response.paymentagent_withdraw;\n        switch(responseCode){\n            case 2: // dry_run success: showing the confirmation page\n                setActiveView(viewIDs.confirm);\n\n                $('#lblAgentName').text(formData.agentname);\n                $('#lblCurrency').text(formData.currency);\n                $('#lblAmount').text(formData.amount);\n\n                $(viewIDs.confirm + ' #btnConfirm').click(function(){\n                    withdrawRequest(false);\n                });\n                $(viewIDs.confirm + ' #btnBack').click(function(){\n                    setActiveView(viewIDs.form);\n                });\n                break;\n\n            case 1: // withdrawal success\n                setActiveView(viewIDs.success);\n                $('#successMessage').css('display', '')\n                    .attr('class', 'success-msg')\n                    .html(\n                        '<ul class=\"checked\"><li>' +\n                        text.localize('Your request to withdraw [_1] [_2] from your account [_3] to Payment Agent [_4] account has been successfully processed.', [\n                            formData.currency,\n                            formData.amount,\n                            Cookies.get('loginid'),\n                            formData.agentname,\n                        ]) +\n                        '</li></ul>'\n                    );\n                break;\n\n            default: // error\n                if(response.echo_req.dry_run === 1) {\n                    setActiveView(viewIDs.form);\n                    $('#formMessage').css('display', '')\n                        .attr('class', errorClass)\n                        .html(response.error.message);\n                } else if (response.error.code === 'InvalidToken') {\n                    showPageError(template(Content.localize().textClickHereToRestart, [page.url.url_for('paymentagent/withdrawws')]));\n                } else {\n                    showPageError(response.error.message);\n                }\n                break;\n        }\n    };\n\n    // -----------------------------\n    // ----- Message Functions -----\n    // -----------------------------\n    var showPageError = function(errMsg, id) {\n        $(viewIDs.error + ' > p').addClass(hiddenClass);\n        if(id) {\n            $(viewIDs.error + ' #' + id).removeClass(hiddenClass);\n        } else {\n            $(viewIDs.error + ' #custom-error').html(errMsg).removeClass(hiddenClass);\n        }\n        setActiveView(viewIDs.error);\n    };\n\n    var showError = function(fieldID, errMsg) {\n        $(fieldID).parent().append($('<p/>', {class: errorClass, text: errMsg}));\n        isValid = false;\n    };\n\n    var clearError = function(fieldID) {\n        $(fieldID ? fieldID : viewIDs.form + ' .' + errorClass).remove();\n    };\n\n    // ----- View Control -----\n    var setActiveView = function(viewID) {\n        $views.addClass(hiddenClass);\n        $(viewID).removeClass(hiddenClass);\n    };\n\n    var lock_withdrawal = function(withdrawal_locked) {\n      if (withdrawal_locked === 'locked') {\n        showPageError('', 'withdrawal-locked-error');\n      } else if (!page.client.is_virtual()) {\n        BinarySocket.send({\"paymentagent_list\": Cookies.get('residence')});\n      }\n    };\n\n    return {\n        init: init,\n        populateAgentsList: populateAgentsList,\n        withdrawResponse: withdrawResponse,\n        lock_withdrawal: lock_withdrawal\n    };\n}());\n\n\n\npjax_config_page_require_auth(\"paymentagent/withdrawws\", function() {\n    return {\n        onLoad: function() {\n            BinarySocket.init({\n                onmessage: function(msg) {\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        var type = response.msg_type;\n                        switch(type){\n                            case \"authorize\":\n                                PaymentAgentWithdrawWS.init();\n                                break;\n                            case \"paymentagent_list\":\n                                PaymentAgentWithdrawWS.populateAgentsList(response);\n                                break;\n                            case \"paymentagent_withdraw\":\n                                PaymentAgentWithdrawWS.withdrawResponse(response);\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n                    else {\n                        console.log('some error occured');\n                    }\n                }\n            });\n\n            Content.populate();\n            if(TUser.get().hasOwnProperty('is_virtual') || sessionStorage.getItem('withdrawal_locked') === 'locked') {\n                PaymentAgentWithdrawWS.init();\n            } else if (!sessionStorage.getItem('withdrawal_locked')) {\n              BinarySocket.send({\"get_account_status\": \"1\", \"passthrough\":{\"dispatch_to\":\"PaymentAgentWithdrawWS\"}});\n            }\n        }\n    };\n});\n\nmodule.exports = {\n    PaymentAgentWithdrawWS: PaymentAgentWithdrawWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/cashier/payment_agent_withdrawws.js\n ** module id = 44\n ** module chunks = 0\n **/","var AssetIndexData = (function() {\n    \"use strict\";\n\n    var initSocket = function() {\n        BinarySocket.init({\n            onmessage: function(msg) {\n                var response = JSON.parse(msg.data);\n                if (response) {\n                    AssetIndexData.responseHandler(response);\n                }\n            }\n        });\n    };\n\n    var sendRequest = function() {\n        initSocket();\n\n        BinarySocket.send({\"active_symbols\": \"brief\"});\n        BinarySocket.send({\"asset_index\": 1});\n    };\n\n    var responseHandler = function(response) {\n        var msg_type = response.msg_type;\n        if (msg_type === \"asset_index\") {\n            AssetIndexUI.setAssetIndex(response);\n        }\n        else if (msg_type === \"active_symbols\") {\n            AssetIndexUI.setActiveSymbols(response);\n        }\n    };\n\n    return {\n        sendRequest: sendRequest,\n        responseHandler: responseHandler\n    };\n}());\n\nmodule.exports = {\n    AssetIndexData: AssetIndexData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/resources/asset_index/asset_indexws.data.js\n ** module id = 45\n ** module chunks = 0\n **/","var AssetIndexUI = (function() {\n    \"use strict\";\n\n    var $container,\n        $tabs,\n        $contents;\n    var activeSymbols,\n        assetIndex,\n        marketColumns;\n\n    var init = function() {\n        if (japanese_client()) {\n            window.location.href = page.url.url_for('resources');\n        }\n        Content.populate();\n        $container = $('#asset-index');\n        showLoadingImage($container);\n        activeSymbols = null;\n        assetIndex = null;\n\n        AssetIndexData.sendRequest();\n    };\n\n    var populateTable = function() {\n        if(!activeSymbols || !assetIndex) return;\n\n        $('#errorMsg').addClass('hidden');\n        assetIndex = AssetIndex.getAssetIndexData(assetIndex, activeSymbols);\n        marketColumns = AssetIndex.getMarketColumns();\n        $tabs = $('<ul/>');\n        $contents = $('<div/>');\n\n        for(var i = 0; i < assetIndex.length; i++) {\n            var assetItem  = assetIndex[i];\n            var symbolInfo = assetItem[3];\n            if(!symbolInfo) {\n                continue;\n            }\n            var $submarketTable = getSubmarketTable(assetItem, symbolInfo);\n            $submarketTable.find('tbody').append(createSubmarketTableRow(assetItem, symbolInfo));\n        }\n\n        $container\n            .empty()\n            .append($tabs)\n            .append($('<div/>', {class: 'gr-padding-10'}))\n            .append($contents.children());\n\n        $container.tabs('destroy').tabs();\n    };\n\n    var getSubmarketTable = function(assetItem, symbolInfo) {\n        var marketID    = 'market-'    + symbolInfo.market;\n        var submarketID = 'submarket-' + symbolInfo.submarket;\n\n        var $table = $contents.find('#' + submarketID);\n        if($table.length === 0) {\n            // Create the table for this submarket\n            var $market = $contents.find('#' + marketID);\n            if($market.length === 0) {\n                // Create the market and tab elements\n                $market = $('<div/>', {id: marketID});\n                $tabs.append($('<li/>').append($('<a/>', {href: '#' + marketID, text: symbolInfo.market_display_name, id: 'outline'})));\n            }\n            $table = createEmptyTable(assetItem, symbolInfo, submarketID);\n            $market.append($table);\n            $contents.append($market);\n        }\n\n        return $table;\n    };\n\n    var createSubmarketTableRow = function(assetItem, symbolInfo) {\n        var cells   = [symbolInfo.display_name],\n            columns = [\"asset\"];\n\n        var marketCols = marketColumns[symbolInfo.market],\n            assetCells = assetItem[4];\n        for(var i = 1; i < marketCols.columns.length; i++) {\n            var prop = marketCols.columns[i];\n            if(prop.length > 0) {\n                cells.push(prop in assetCells ? assetCells[prop] : '--');\n                columns.push(prop);\n            }\n        }\n\n        return Table.createFlexTableRow(cells, columns, \"data\");\n    };\n\n    var createEmptyTable = function(assetItem, symbolInfo, submarketID) {\n        var market = symbolInfo.market;\n\n        var metadata = {\n            id: submarketID,\n            cols: marketColumns[market].columns\n        };\n\n        var $submarketTable = Table.createFlexTable([], metadata, marketColumns[market].header);\n\n        var $submarketHeader = $('<tr/>', {class: 'flex-tr'})\n            .append($('<th/>', {class: 'flex-tr-child submarket-name', colspan: marketColumns[market].columns.length, text: symbolInfo.submarket_display_name}));\n        $submarketTable.find('thead').prepend($submarketHeader);\n\n        return $submarketTable;\n    };\n\n    return {\n        init: init,\n        setActiveSymbols: function(response) {\n            activeSymbols = response.active_symbols;\n            if(assetIndex) populateTable();\n        },\n        setAssetIndex: function(response) {\n            assetIndex = response.asset_index;\n            if(activeSymbols) populateTable();\n        }\n    };\n}());\n\nmodule.exports = {\n    AssetIndexUI: AssetIndexUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/resources/asset_index/asset_indexws.ui.js\n ** module id = 46\n ** module chunks = 0\n **/","var AssetIndex = (function() {\n    \"use strict\";\n\n    var marketColumns;\n\n    // Search and Remove (to decrease the next search count)\n    var getSymbolInfo = function(qSymbol, activeSymbols) {\n        return activeSymbols.filter(function(sy, id) {\n            if(sy.symbol === qSymbol) {\n                activeSymbols.splice(id, 1);\n                return true;\n            }\n        });\n    };\n\n    /*\n     * This method generates headers for all tables of each market\n     * should include headers existed in all assets of each market and its submarkets\n     */\n    var getAssetIndexData = function(assetIndex, activeSymbols) {\n        if(!assetIndex || !activeSymbols) return;\n\n        marketColumns = {};\n\n        // index of items in asset_index response\n        var idx = {\n            symbol: 0,\n            displayName: 1,\n            cells : 2,\n                cellName: 0,\n                cellDisplayName: 1,\n                cellFrom: 2,\n                cellTo  : 3,\n            symInfo: 3,\n            values : 4\n        };\n\n        for(var i = 0; i < assetIndex.length; i++) {\n            var assetItem = assetIndex[i];\n            var symbolInfo = getSymbolInfo(assetItem[idx.symbol], activeSymbols)[0];\n            if(!symbolInfo) {\n                continue;\n            }\n            var market = symbolInfo.market;\n\n            assetItem.push(symbolInfo);\n\n            // Generate market columns to use in all this market's submarket tables\n            if(!(market in marketColumns)) {\n                marketColumns[market] = {\n                    header : [''],\n                    columns: ['']\n                };\n            }\n\n            var assetCells = assetItem[idx.cells],\n                values = {};\n            for(var j = 0; j < assetCells.length; j++) {\n                var col  = assetCells[j][idx.cellName];\n\n                values[col] = assetCells[j][idx.cellFrom] + ' - ' + assetCells[j][idx.cellTo];\n\n                var marketCols = marketColumns[market];\n                if(marketCols.columns.indexOf(col) === -1) {\n                    marketCols.header.push(assetCells[j][idx.cellDisplayName]);\n                    marketCols.columns.push(col);\n                }\n            }\n            assetItem.push(values);\n        }\n        return assetIndex;\n    };\n\n    var external = {\n        getAssetIndexData: getAssetIndexData,\n        getMarketColumns: function() {return marketColumns;}\n    };\n    if (typeof module !== 'undefined') {\n        module.exports = external;\n    }\n    return external;\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/resources/asset_indexws.js\n ** module id = 47\n ** module chunks = 0\n **/","var MarketTimesData = (function() {\n    \"use strict\";\n\n    var initSocket = function() {\n        BinarySocket.init({\n            onmessage: function(msg) {\n                var response = JSON.parse(msg.data);\n                if (response) {\n                    MarketTimesData.responseHandler(response);\n                }\n            }\n        });\n    };\n\n    var sendRequest = function(date, shouldRequestActiveSymbols) {\n        initSocket();\n        if(shouldRequestActiveSymbols) {\n            BinarySocket.send({\"active_symbols\": \"brief\"});\n        }\n\n        BinarySocket.send({\"trading_times\": date || 'today'});\n    };\n\n    var responseHandler = function(response) {\n        var msg_type = response.msg_type;\n        if (msg_type === \"trading_times\") {\n            MarketTimesUI.setTradingTimes(response);\n        }\n        else if (msg_type === \"active_symbols\") {\n            MarketTimesUI.setActiveSymbols(response);\n        }\n    };\n\n    return {\n        sendRequest: sendRequest,\n        responseHandler: responseHandler\n    };\n}());\n\nmodule.exports = {\n    MarketTimesData: MarketTimesData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/resources/market_times/market_timesws.data.js\n ** module id = 48\n ** module chunks = 0\n **/","var MarketTimesUI = (function() {\n    \"use strict\";\n\n    var $date,\n        $container;\n    var columns,\n        activeSymbols,\n        tradingTimes;\n\n    var init = function() {\n        Content.populate();\n        $date      = $('#trading-date');\n        $container = $('#trading-times');\n        columns    = ['Asset', 'Opens', 'Closes', 'Settles', 'UpcomingEvents'];\n        activeSymbols = null;\n        tradingTimes = null;\n        showLoadingImage($container);\n        MarketTimesData.sendRequest('today', true);\n\n        $date.val(moment.utc(new Date()).format('YYYY-MM-DD'));\n        $date.datepicker({minDate: 0, maxDate: '+1y', dateFormat: 'yy-mm-dd', autoSize: true});\n        $date.change(function() {\n            $container.empty();\n            showLoadingImage($container);\n            tradingTimes = null;\n            MarketTimesData.sendRequest($date.val());\n        });\n    };\n\n    var populateTable = function() {\n        if(!activeSymbols || !tradingTimes) return;\n\n        $('#errorMsg').addClass('hidden');\n\n        var isJapanTrading = japanese_client();\n\n        var markets = tradingTimes.markets;\n\n        var $ul = $('<ul/>', {class: isJapanTrading ? 'hidden' : ''});\n        var $contents = $('<div/>');\n\n        for(var m = 0; m < markets.length; m++) {\n            var tabID = 'market_' + (m + 1);\n\n            // tabs\n            if(!isJapanTrading) {\n                $ul.append($('<li/>').append($('<a/>', {href: '#' + tabID, text: markets[m].name, id: 'outline'})));\n            }\n\n            // contents\n            var $market = $('<div/>', {id: tabID});\n            $market.append(createMarketTables(markets[m], isJapanTrading));\n            $contents.append($market);\n        }\n\n        $container\n            .empty()\n            .append($ul)\n            .append($('<div/>', {class: 'gr-padding-10'}))\n            .append($contents.children());\n\n        $container.tabs('destroy').tabs();\n    };\n\n    var createMarketTables = function(market, isJapanTrading) {\n        var $marketTables = $('<div/>');\n\n        // submarkets of this market\n        var submarkets = market.submarkets;\n        for(var s = 0; s < submarkets.length; s++) {\n            // display only \"Major Pairs\" for Japan\n            if(isJapanTrading) {\n                var submarketInfo = MarketTimes.getSubmarketInfo(activeSymbols, submarkets[s].name);\n                if(submarketInfo.length === 0 || submarketInfo[0].submarket !== 'major_pairs') {\n                    continue;\n                }\n            }\n\n            // submarket table\n            var $submarketTable = createEmptyTable(market.name + '-' + s);\n\n            // submarket name\n            $submarketTable.find('thead').prepend(createSubmarketHeader(submarkets[s].name));\n\n            // symbols of this submarket\n            var symbols = submarkets[s].symbols;\n            for(var sy = 0; sy < symbols.length; sy++) {\n                $submarketTable.find('tbody').append(createSubmarketTableRow(market.name, submarkets[s].name, symbols[sy]));\n            }\n\n            $marketTables.append($submarketTable);\n        }\n\n        return $marketTables;\n    };\n\n    var createSubmarketHeader = function(submarketName) {\n        return $('<tr/>', {class: 'flex-tr'})\n            .append($('<th/>', {class: 'flex-tr-child submarket-name', colspan: columns.length, text: submarketName}));\n    };\n\n    var createSubmarketTableRow = function(marketName, submarketName, symbol) {\n        var $tableRow = Table.createFlexTableRow(\n            [\n                symbol.name,\n                '', // Opens\n                '', // Closes\n                symbol.times.settlement,\n                ''  // UpcomingEvents\n            ],\n            columns,\n            \"data\"\n        );\n\n        $tableRow.children('.opens').html(symbol.times.open.join('<br />'));\n        $tableRow.children('.closes').html(symbol.times.close.join('<br />'));\n        $tableRow.children('.upcomingevents').html(createEventsText(symbol.events));\n\n        return $tableRow;\n    };\n\n    var createEventsText = function(events) {\n        var result = '';\n        for(var i = 0; i < events.length; i++) {\n            result += (i > 0 ? '<br />' : '') + events[i].descrip + ': ' + events[i].dates;\n        }\n        return result.length > 0 ? result : '--';\n    };\n\n    var createEmptyTable = function(tableID) {\n        var header = [\n            Content.localize().textAsset,\n            Content.localize().textOpens,\n            Content.localize().textCloses,\n            Content.localize().textSettles,\n            Content.localize().textUpcomingEvents\n        ];\n\n        var metadata = {\n            id: tableID,\n            cols: columns\n        };\n\n        return Table.createFlexTable([], metadata, header);\n    };\n\n    return {\n        init: init,\n        setActiveSymbols: function(response) {\n            activeSymbols = response.active_symbols;\n            if(tradingTimes) populateTable();\n        },\n        setTradingTimes: function(response) {\n            tradingTimes = response.trading_times;\n            if(activeSymbols) populateTable();\n        }\n    };\n}());\n\nmodule.exports = {\n    MarketTimesUI: MarketTimesUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/resources/market_times/market_timesws.ui.js\n ** module id = 49\n ** module chunks = 0\n **/","var MarketTimes = (function() {\n    \"use strict\";\n\n    var getSubmarketInfo = function(activeSymbols, submarketDisplayName) {\n        return activeSymbols.filter(function(sy) {\n            return sy.submarket_display_name === submarketDisplayName;\n        });\n    };\n\n    var external = {\n        getSubmarketInfo: getSubmarketInfo,\n    };\n    if (typeof module !== 'undefined') {\n        module.exports = external;\n    }\n    return external;\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/resources/market_timesws.js\n ** module id = 50\n ** module chunks = 0\n **/","/*\n * It provides a abstraction layer over native javascript Websocket.\n *\n * Provide additional functionality like if connection is close, open\n * it again and process the buffered requests\n *\n *\n * Usage:\n *\n * `BinarySocket.init()` to initiate the connection\n * `BinarySocket.send({contracts_for : 1})` to send message to server\n */\nfunction BinarySocketClass() {\n    'use strict';\n\n    var binarySocket,\n        bufferedSends = [],\n        manualClosed = false,\n        events = {},\n        authorized = false,\n        timeouts = {},\n        req_number = 0,\n        wrongAppId = 0,\n        socketUrl = getSocketURL() + '?app_id=' + getAppId() + (page.language() ? '&l=' + page.language() : '');\n\n    var clearTimeouts = function(){\n        for(var k in timeouts){\n            if(timeouts.hasOwnProperty(k)){\n                clearTimeout(timeouts[k]);\n                delete timeouts[k];\n            }\n        }\n    };\n\n    var isReady = function () {\n        return binarySocket && binarySocket.readyState === 1;\n    };\n\n    var isClose = function () {\n        return !binarySocket || binarySocket.readyState === 2 || binarySocket.readyState === 3;\n    };\n\n    var sendBufferedSends = function () {\n        while (bufferedSends.length > 0) {\n            binarySocket.send(JSON.stringify(bufferedSends.shift()));\n        }\n    };\n\n    var send = function(data) {\n        if (isClose()) {\n            bufferedSends.push(data);\n            init(1);\n        } else if (isReady()) {\n            if(!data.hasOwnProperty('passthrough') && !data.hasOwnProperty('verify_email')){\n                data.passthrough = {};\n            }\n            // temporary check\n            if((data.contracts_for || data.proposal) && !data.passthrough.hasOwnProperty('dispatch_to')){\n                data.passthrough.req_number = ++req_number;\n                timeouts[req_number] = setTimeout(function(){\n                    if(typeof reloadPage === 'function' && data.contracts_for){\n                        alert(\"The server didn't respond to the request:\\n\\n\"+JSON.stringify(data)+\"\\n\\n\");\n                        reloadPage();\n                    }\n                    else{\n                        $('.price_container').hide();\n                    }\n                }, 60*1000);\n            }\n\n            binarySocket.send(JSON.stringify(data));\n        } else {\n            bufferedSends.push(data);\n        }\n    };\n\n    var init = function (es) {\n        if (wrongAppId === getAppId()) {\n            return;\n        }\n        if (!es){\n            events = {};\n        }\n        if (typeof es === 'object') {\n            bufferedSends = [];\n            manualClosed = false;\n            events = es;\n            clearTimeouts();\n        }\n\n        if(isClose()){\n            binarySocket = new WebSocket(socketUrl);\n        }\n\n        binarySocket.onopen = function () {\n            var apiToken = CommonData.getLoginToken();\n            if (apiToken && !authorized && localStorage.getItem('client.tokens')) {\n                binarySocket.send(JSON.stringify({authorize: apiToken}));\n            } else {\n                sendBufferedSends();\n            }\n\n            if (typeof events.onopen === 'function') {\n                events.onopen();\n            }\n\n            if (isReady()) {\n                if (!Login.is_login_pages()) page.header.validate_cookies();\n                if (!clock_started) page.header.start_clock_ws();\n            }\n        };\n\n        binarySocket.onmessage = function(msg) {\n            var response = JSON.parse(msg.data);\n            if (response) {\n                if(response.hasOwnProperty('echo_req') && response.echo_req !== null && response.echo_req.hasOwnProperty('passthrough')) {\n                    var passthrough = response.echo_req.passthrough;\n                    if(passthrough.hasOwnProperty('req_number')) {\n                        clearInterval(timeouts[response.echo_req.passthrough.req_number]);\n                        delete timeouts[response.echo_req.passthrough.req_number];\n                    }\n                    else if (passthrough.hasOwnProperty('dispatch_to')) {\n                        switch (passthrough.dispatch_to) {\n                            case 'ViewPopupWS':       ViewPopupWS.dispatch(response); break;\n                            case 'ViewChartWS':       Highchart.dispatch(response);   break;\n                            case 'ViewTickDisplayWS': WSTickDisplay.dispatch(response); break;\n                        }\n                    }\n                }\n                var type = response.msg_type;\n                if (type === 'authorize') {\n                    if(response.hasOwnProperty('error')) {\n                        var isActiveTab = sessionStorage.getItem('active_tab') === '1';\n                        if(response.error.code === 'SelfExclusion' && isActiveTab) {\n                            sessionStorage.removeItem('active_tab');\n                            alert(response.error.message);\n                        }\n                        LocalStore.set('reality_check.ack', 0);\n                        page.client.send_logout_request(isActiveTab);\n                    } else if (response.authorize.loginid !== page.client.loginid) {\n                        page.client.send_logout_request(true);\n                    } else {\n                        authorized = true;\n                        if(typeof events.onauth === 'function'){\n                            events.onauth();\n                        }\n                        if(!Login.is_login_pages()) {\n                            page.client.response_authorize(response);\n                            send({balance:1, subscribe: 1});\n                            if (Cookies.get('residence')) send({landing_company: Cookies.get('residence')});\n                            send({get_settings: 1});\n                            if(!page.client.is_virtual()) {\n                                send({get_self_exclusion: 1});\n                            }\n                        }\n                        sendBufferedSends();\n                    }\n                } else if (type === 'balance') {\n                    ViewBalanceUI.updateBalances(response);\n                } else if (type === 'time') {\n                    page.header.time_counter(response);\n                } else if (type === 'logout') {\n                    localStorage.removeItem('jp_test_allowed');\n                    RealityCheckData.clear();\n                    page.header.do_logout(response);\n                } else if (type === 'landing_company') {\n                    page.contents.topbar_message_visibility(response.landing_company);\n                    var company;\n                    if (response.hasOwnProperty('error')) return;\n                    for (var key in response.landing_company) {\n                        if (TUser.get().landing_company_name === response.landing_company[key].shortcode) {\n                            company = response.landing_company[key];\n                            break;\n                        }\n                    }\n                    if (company && company.has_reality_check) {\n                        page.client.response_landing_company(company);\n                        var currentData = TUser.get();\n                        var addedLoginTime = $.extend({logintime: window.time.unix()}, currentData);\n                        TUser.set(addedLoginTime);\n                        RealityCheck.init();\n                    }\n                } else if (type === 'get_self_exclusion') {\n                    SessionDurationLimit.exclusionResponseHandler(response);\n                } else if (type === 'payout_currencies' && response.hasOwnProperty('echo_req') && response.echo_req.hasOwnProperty('passthrough') && response.echo_req.passthrough.handler === 'page.client') {\n                    page.client.response_payout_currencies(response);\n                } else if (type === 'get_settings' && response.get_settings) {\n                    if (!Cookies.get('residence') && response.get_settings.country_code) {\n                      page.client.set_cookie('residence', response.get_settings.country_code);\n                      page.client.residence = response.get_settings.country_code;\n                      send({landing_company: Cookies.get('residence')});\n                    }\n                    GTM.event_handler(response.get_settings);\n                    page.client.set_storage_value('tnc_status', response.get_settings.client_tnc_status || '-');\n                    if (!localStorage.getItem('risk_classification')) page.client.check_tnc();\n                    var jpStatus = response.get_settings.jp_account_status;\n                    if (jpStatus) {\n                        switch (jpStatus.status) {\n                            case 'jp_knowledge_test_pending': localStorage.setItem('jp_test_allowed', 1);\n                                break;\n                            case 'jp_knowledge_test_fail':\n                                if (Date.now() >= (jpStatus.next_test_epoch * 1000)) {\n                                    localStorage.setItem('jp_test_allowed', 1);\n                                } else {\n                                    localStorage.setItem('jp_test_allowed', 0);\n                                }\n                                break;\n                            default: localStorage.setItem('jp_test_allowed', 0);\n                        }\n\n                        KnowledgeTest.showKnowledgeTestTopBarIfValid(jpStatus);\n                    } else {\n                        localStorage.removeItem('jp_test_allowed');\n                    }\n                } else if (type === 'website_status') {\n                    if(!response.hasOwnProperty('error')) {\n                        LocalStore.set('website.tnc_version', response.website_status.terms_conditions_version);\n                        if (!localStorage.getItem('risk_classification')) page.client.check_tnc();\n                        if (response.website_status.hasOwnProperty('clients_country')) {\n                            localStorage.setItem('clients_country', response.website_status.clients_country);\n                            if (!$('body').hasClass('BlueTopBack')) {\n                                checkClientsCountry();\n                            }\n                        }\n                    }\n                } else if (type === 'reality_check') {\n                    RealityCheck.realityCheckWSHandler(response);\n                } else if (type === 'get_account_status' && response.get_account_status) {\n                  if (response.get_account_status.risk_classification === 'high' && page.header.qualify_for_risk_classification()) {\n                    send({get_financial_assessment: 1});\n                  } else {\n                    localStorage.removeItem('risk_classification');\n                  }\n                  var withdrawal_locked, i;\n                  for (i = 0; i < response.get_account_status.status.length; i++) {\n                    if (response.get_account_status.status[i] === 'withdrawal_locked') {\n                      withdrawal_locked = 'locked';\n                      break;\n                    }\n                  }\n                  if (response.echo_req.hasOwnProperty('passthrough') && response.echo_req.passthrough.hasOwnProperty('dispatch_to')) {\n                    if (response.echo_req.passthrough.dispatch_to === 'ForwardWS') {\n                        ForwardWS.lock_withdrawal(withdrawal_locked || 'unlocked');\n                    } else if (response.echo_req.passthrough.dispatch_to === 'Cashier') {\n                        Cashier.lock_withdrawal(withdrawal_locked || 'unlocked');\n                    } else if (response.echo_req.passthrough.dispatch_to === 'PaymentAgentWithdrawWS') {\n                      PaymentAgentWithdrawWS.lock_withdrawal(withdrawal_locked || 'unlocked');\n                    }\n                  }\n                  sessionStorage.setItem('withdrawal_locked', withdrawal_locked || 'unlocked');\n                  localStorage.setItem('risk_classification.response', response.get_account_status.risk_classification);\n                } else if (type === 'get_financial_assessment' && !response.hasOwnProperty('error')) {\n                  if (objectNotEmpty(response.get_financial_assessment)) {\n                    if (page.header.qualify_for_risk_classification() && localStorage.getItem('risk_classification.response') === 'high') {\n                      localStorage.setItem('risk_classification', 'high');\n                      page.header.check_risk_classification();\n                    }\n                  } else if ((localStorage.getItem('reality_check.ack') === '1' || !localStorage.getItem('reality_check.interval')) && localStorage.getItem('risk_classification') !== 'high') {\n                    localStorage.removeItem('risk_classification');\n                    localStorage.removeItem('risk_classification.response');\n                    page.client.check_tnc();\n                  }\n                }\n                if (response.hasOwnProperty('error')) {\n                    if(response.error && response.error.code) {\n                      if (response.error.code && (response.error.code === 'WrongResponse' || response.error.code === 'OutputValidationFailed')) {\n                        $('#content').empty().html('<div class=\"container\"><p class=\"notice-msg center-text\">' + (response.error.code === 'WrongResponse' && response.error.message ? response.error.message : text.localize('Sorry, an error occurred while processing your request.') )+ '</p></div>');\n                      } else if (response.error.code === 'RateLimit') {\n                        $('#ratelimit-error-message')\n                            .css('display', 'block')\n                            .on('click', '#ratelimit-refresh-link', function () {\n                                window.location.reload();\n                            });\n                      } else if (response.error.code === 'InvalidToken' &&\n                          type !== 'reset_password' &&\n                          type !== 'new_account_virtual' &&\n                          type !== 'paymentagent_withdraw' &&\n                          type !== 'cashier') {\n                            page.client.send_logout_request();\n                      } else if (response.error.code === 'InvalidAppID') {\n                          wrongAppId = getAppId();\n                          alert(response.error.message);\n                      }\n                    }\n                }\n                if(typeof events.onmessage === 'function'){\n                    events.onmessage(msg);\n                }\n            }\n        };\n\n        binarySocket.onclose = function (e) {\n            authorized = false;\n            clearTimeouts();\n\n            if(!manualClosed && wrongAppId !== getAppId()) {\n                if (TradePage.is_trading_page) {\n                    showPriceOverlay();\n                    showFormOverlay();\n                    TradePage.onLoad();\n                } else {\n                    init(1);\n                }\n            }\n            if(typeof events.onclose === 'function'){\n                events.onclose();\n            }\n        };\n\n        binarySocket.onerror = function (error) {\n            console.log('socket error', error);\n        };\n    };\n\n    var close = function () {\n        manualClosed = true;\n        bufferedSends = [];\n        events = {};\n        if (binarySocket) {\n            binarySocket.close();\n        }\n    };\n\n    var clear = function(){\n        bufferedSends = [];\n        manualClosed = false;\n        events = {};\n    };\n\n    return {\n        init: init,\n        send: send,\n        close: close,\n        socket: function () { return binarySocket; },\n        clear: clear,\n        clearTimeouts: clearTimeouts\n    };\n\n}\n\nvar BinarySocket = new BinarySocketClass();\n\nmodule.exports = {\n    BinarySocket: BinarySocket,\n    BinarySocketClass: BinarySocketClass,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/socket.js\n ** module id = 51\n ** module chunks = 0\n **/","/*\n * This file contains the code related to loading of trading page bottom analysis\n * content. It will contain jquery so as to compatible with old code and less rewrite\n *\n * Please note that this will be removed in near future\n */\n\n/*\n * This function is called whenever we change market, form\n * or underlying to load bet analysis for that particular event\n */\n\nvar TradingAnalysis = (function() {\n    var trading_digit_info;\n\n    var requestTradeAnalysis = function() {\n        var contentId = document.getElementById('trading_bottom_content');\n        var formName = JPTradePage.isJapan() ? $('#category-select').val() : $('#contract_form_name_nav').find('.a-active').attr('id');\n        if (formName === 'matchdiff') {\n          formName = 'digits';\n        }\n        $('#tab_explanation a').attr('href',  page.url.url_for('trade/bet_explanation', 'underlying_symbol=' + $('#underlying').val() + '&form_name=' + formName));\n        if (formName === 'digits' || formName === 'overunder' || formName === 'evenodd') {\n            $('#tab_last_digit').removeClass(\"invisible\");\n        } else {\n          $('#tab_last_digit').addClass(\"invisible\");\n        }\n        sessionStorage.setItem('currentAnalysisTab', getActiveTab());\n        loadAnalysisTab();\n    };\n\n    /*\n     * This function bind event to link elements of bottom content\n     * navigation\n     */\n    var bindAnalysisTabEvent = function() {\n        'use strict';\n        var analysisNavElement = document.querySelector('#trading_bottom_content #betsBottomPage');\n        if (analysisNavElement) {\n            analysisNavElement.addEventListener('click', function(e) {\n                if (e.target && e.target.nodeName === 'A') {\n                    e.preventDefault();\n\n                    var clickedLink = e.target,\n                        clickedElement = clickedLink.parentElement,\n                        isTabActive = clickedElement.classList.contains('active');\n\n                    sessionStorage.setItem('currentAnalysisTab', clickedElement.id);\n\n                    if (!isTabActive) {\n                        loadAnalysisTab();\n                    }\n                }\n            });\n        }\n    };\n\n    /*\n     * This function handles all the functionality on how to load\n     * tab according to current paramerted\n     */\n    var loadAnalysisTab = function() {\n        'use strict';\n        var currentTab = getActiveTab(),\n            currentLink = document.querySelector('#' + currentTab + ' a'),\n            contentId = document.getElementById(currentTab + '-content');\n\n        var analysisNavElement = document.querySelector('#trading_bottom_content #betsBottomPage');\n        toggleActiveNavMenuElement(analysisNavElement, currentLink.parentElement);\n        toggleActiveAnalysisTabs();\n\n        JapanPortfolio.init();\n        if(currentTab === 'tab_portfolio'){\n            JapanPortfolio.show();\n        } else {\n            JapanPortfolio.hide();\n            if (currentTab === 'tab_graph') {\n              showHighchart();\n            } else {\n                if (currentTab == 'tab_last_digit') {\n                    var underlying = $('[name=underlying] option:selected').val() || $('#underlying option:selected').val();\n                    var tick = $('[name=tick_count]').val() || 100;\n                    trading_digit_info = TradingAnalysis.tab_last_digitws;\n                    BinarySocket.send({\n                        ticks_history: underlying,\n                        count: tick + '',\n                        end: 'latest',\n                        req_id: 1\n                    });\n                } else{\n                    var url = currentLink.getAttribute('href') ;\n                    $.ajax({\n                        method: 'GET',\n                        url: url,\n                    })\n                    .done(function(data) {\n                        contentId.innerHTML = data;\n                        if(currentTab === 'tab_explanation') {\n                            showExplanation(currentLink.href);\n                        } else if (currentTab == 'tab_last_digit') {\n                            trading_digit_info = new DigitInfo();\n                            trading_digit_info.on_latest();\n                            trading_digit_info.show_chart(sessionStorage.getItem('underlying'));\n                        }\n\n                    });\n                }\n            }\n        }\n\n    };\n\n    /*\n     * function to toggle the active element for analysis menu\n     */\n    var toggleActiveAnalysisTabs = function() {\n        'use strict';\n        var currentTab = getActiveTab(),\n            analysisContainer = document.getElementById('bet_bottom_content');\n\n        if (analysisContainer) {\n            trading_digit_info = undefined;\n            var childElements = analysisContainer.children,\n                currentTabElement = document.getElementById(currentTab + '-content'),\n                classes = currentTabElement.classList;\n\n            for (var i = 0, len = childElements.length; i < len; i++) {\n                childElements[i].classList.remove('selectedTab');\n                childElements[i].classList.add('invisible');\n            }\n\n            classes.add('selectedTab');\n            classes.remove('invisible');\n        }\n    };\n\n    /*\n     * get the current active tab if its visible i.e allowed for current parameters\n     */\n    var getActiveTab = function() {\n        var selectedTab = sessionStorage.getItem('currentAnalysisTab') || (JPTradePage.isJapan() ? 'tab_portfolio' : window.chartAllowed ? 'tab_graph' : 'tab_explanation'),\n            selectedElement = document.getElementById(selectedTab);\n\n        if (selectedElement && selectedElement.classList.contains('invisible') &&\n            !(selectedTab === 'tab_portfolio' && JapanPortfolio.isActive())) {\n            selectedTab = window.chartAllowed ? 'tab_graph' : 'tab_explanation';\n            sessionStorage.setItem('currentAnalysisTab', selectedTab);\n        }\n\n        return selectedTab;\n    };\n\n    /*\n     * handle the display of proper explanation based on parameters\n     */\n    var showExplanation = function(href) {\n        var options = new URL(href).params_hash();\n        var form_name    = options.form_name || 'risefall',\n            show_image   = options.show_image   ? options.show_image   > 0 : true,\n            show_winning = options.show_winning ? options.show_winning > 0 : true,\n            show_explain = true,\n            hidden_class = 'invisible',\n            $Container   = $('#tab_explanation-content');\n\n        if(show_winning) {\n            $Container.find('#explanation_winning, #winning_' + form_name).removeClass(hidden_class);\n        }\n\n        if(show_explain) {\n            $Container.find('#explanation_explain, #explain_' + form_name).removeClass(hidden_class);\n        }\n\n        var images = {\n            risefall : {\n                image1: 'rise-fall-1.svg',\n                image2: 'rise-fall-2.svg',\n            },\n            higherlower : {\n                image1: 'higher-lower-1.svg',\n                image2: 'higher-lower-2.svg',\n            },\n            touchnotouch : {\n                image1: 'touch-notouch-1.svg',\n                image2: 'touch-notouch-2.svg',\n            },\n            endsinout : {\n                image1: 'in-out-1.svg',\n                image2: 'in-out-2.svg',\n            },\n            staysinout : {\n                image1: 'in-out-3.svg',\n                image2: 'in-out-4.svg',\n            },\n            updown : {\n                image1: 'up-down-1.svg',\n                image2: 'up-down-2.svg',\n            },\n            spreads : {\n                image1: 'spreads-1.svg',\n                image2: 'spreads-2.svg',\n            },\n            evenodd : {\n                image1: 'evenodd-1.svg',\n                image2: 'evenodd-2.svg',\n            },\n            overunder : {\n                image1: 'overunder-1.svg',\n                image2: 'overunder-2.svg',\n            },\n        };\n\n        if(show_image && images.hasOwnProperty(form_name)) {\n            var image_path = page.url.url_for_static('images/pages/trade-explanation/' + (page.language() === 'JA' ? 'ja/' : ''));\n            $Container.find('#explanation_image_1').attr('src', image_path + images[form_name].image1);\n            $Container.find('#explanation_image_2').attr('src', image_path + images[form_name].image2);\n            $Container.find('#explanation_image').removeClass(hidden_class);\n        }\n    };\n\n    return {\n        request: requestTradeAnalysis,\n        digit_info: function() {\n            return trading_digit_info;\n        },\n        // Should be removed with legacy trading.\n        set_digit_info: function(obj) {\n            trading_digit_info = obj;\n        },\n        tab_portfolio: function() {\n            return tab_portfolio;\n        },\n        getActiveTab: getActiveTab,\n        bindAnalysisTabEvent: bindAnalysisTabEvent\n    };\n\n})();\n\nmodule.exports = {\n    TradingAnalysis: TradingAnalysis,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/analysis.js\n ** module id = 52\n ** module chunks = 0\n **/","/*\n * Handles barrier processing and display\n *\n * It process `Contract.barriers` and display them if its applicable\n * for current `Contract.form()\n */\n\nvar Barriers = (function () {\n    'use strict';\n\n    var isBarrierUpdated = false;\n\n    var display = function (barrierCategory) {\n        var barriers = Contract.barriers()[Defaults.get('underlying')],\n            formName = Contract.form();\n\n        if (barriers && formName && Defaults.get('formname')!=='risefall') {\n            var barrier = barriers[formName];\n            if(barrier) {\n                var unit = document.getElementById('duration_units'),\n                    end_time = document.getElementById('expiry_date'),\n                    currentTick = Tick.quote(),\n                    indicativeBarrierTooltip = document.getElementById('indicative_barrier_tooltip'),\n                    indicativeHighBarrierTooltip = document.getElementById('indicative_high_barrier_tooltip'),\n                    indicativeLowBarrierTooltip = document.getElementById('indicative_low_barrier_tooltip'),\n                    decimalPlaces = countDecimalPlaces(currentTick);\n\n                if (barrier.count === 1) {\n                    document.getElementById('high_barrier_row').style.display = 'none';\n                    document.getElementById('low_barrier_row').style.display = 'none';\n                    document.getElementById('barrier_row').setAttribute('style', '');\n\n                    var defaults_barrier = Defaults.get('barrier');\n                    var barrier_def = defaults_barrier && !isNaN(defaults_barrier) ? defaults_barrier : barrier['barrier'];\n                    var elm = document.getElementById('barrier'),\n                        tooltip = document.getElementById('barrier_tooltip'),\n                        span = document.getElementById('barrier_span');\n                    if ((unit && isVisible(unit) && unit.value === 'd') ||\n                        (end_time && isVisible(end_time) && moment(end_time.value).isAfter(moment(),'day')) ||\n                        !String(barrier['barrier']).match(/^[+-]/)) {\n                        if (currentTick && !isNaN(currentTick) && String(barrier_def).match(/^[+-]/)) {\n                            elm.value = (parseFloat(currentTick) + parseFloat(barrier_def)).toFixed(decimalPlaces);\n                            elm.textContent = (parseFloat(currentTick) + parseFloat(barrier_def)).toFixed(decimalPlaces);\n                        } else {\n                            elm.value = parseFloat(barrier_def);\n                            elm.textContent = parseFloat(barrier_def);\n                        }\n                        tooltip.style.display = 'none';\n                        span.style.display = 'inherit';\n                        // no need to display indicative barrier in case of absolute barrier\n                        indicativeBarrierTooltip.textContent = '';\n                    } else {\n                        if(!String(barrier_def).match(/^[+-]/)) barrier_def = barrier['barrier']; // override Defaults value, because it's changing from absolute to relative barrier\n                        elm.value = barrier_def;\n                        elm.textContent = barrier_def;\n                        span.style.display = 'none';\n                        tooltip.style.display = 'inherit';\n                        if (currentTick && !isNaN(currentTick)) {\n                            indicativeBarrierTooltip.textContent = (parseFloat(currentTick) + parseFloat(barrier_def)).toFixed(decimalPlaces);\n                        } else {\n                            indicativeBarrierTooltip.textContent = '';\n                        }\n                    }\n                    Defaults.set('barrier', elm.value);\n                    Defaults.remove('barrier_high', 'barrier_low');\n                    Barriers.validateBarrier();\n                    return;\n                } else if (barrier.count === 2) {\n                    document.getElementById('barrier_row').style.display = 'none';\n                    document.getElementById('high_barrier_row').setAttribute('style', '');\n                    document.getElementById('low_barrier_row').setAttribute('style', '');\n\n                    var high_elm = document.getElementById('barrier_high'),\n                        low_elm = document.getElementById('barrier_low'),\n                        high_tooltip = document.getElementById('barrier_high_tooltip'),\n                        high_span = document.getElementById('barrier_high_span'),\n                        low_tooltip = document.getElementById('barrier_low_tooltip'),\n                        low_span = document.getElementById('barrier_low_span');\n\n                    var defaults_barrier_high = Defaults.get('barrier_high'), defaults_barrier_low = Defaults.get('barrier_low');\n                    var barrier_high = defaults_barrier_high && !isNaN(defaults_barrier_high) ? defaults_barrier_high : barrier['barrier'],\n                        barrier_low  = defaults_barrier_low  && !isNaN(defaults_barrier_low)  ? defaults_barrier_low  : barrier['barrier1'];\n                    if ((unit && isVisible(unit) && unit.value === 'd') ||\n                        (end_time && isVisible(end_time) && moment(end_time.value).isAfter(moment(),'day')) ||\n                        !String(barrier['barrier']).match(/^[+-]/)) {\n                        if (currentTick && !isNaN(currentTick) && String(barrier_high).match(/^[+-]/)) {\n                            high_elm.value = (parseFloat(currentTick) + parseFloat(barrier_high)).toFixed(decimalPlaces);\n                            high_elm.textContent = (parseFloat(currentTick) + parseFloat(barrier_high)).toFixed(decimalPlaces);\n\n                            low_elm.value = (parseFloat(currentTick) + parseFloat(barrier_low)).toFixed(decimalPlaces);\n                            low_elm.textContent = (parseFloat(currentTick) + parseFloat(barrier_low)).toFixed(decimalPlaces);\n                        } else {\n                            high_elm.value = parseFloat(barrier_high);\n                            high_elm.textContent = parseFloat(barrier_high);\n\n                            low_elm.value = parseFloat(barrier_low);\n                            low_elm.textContent = parseFloat(barrier_low);\n                        }\n\n                        high_tooltip.style.display = 'none';\n                        high_span.style.display = 'inherit';\n                        low_tooltip.style.display = 'none';\n                        low_span.style.display = 'inherit';\n\n                        indicativeHighBarrierTooltip.textContent = '';\n                        indicativeLowBarrierTooltip.textContent = '';\n                    } else {\n                        // override Defaults value, if it's changing from absolute to relative barrier\n                        if(!String(barrier_high).match(/^[+-]/) || !String(barrier_low).match(/^[+-]/)) {\n                            barrier_high = barrier['barrier'];\n                            barrier_low  = barrier['barrier1'];\n                        }\n                        high_elm.value = barrier_high;\n                        high_elm.textContent = barrier_high;\n\n                        low_elm.value = barrier_low;\n                        low_elm.textContent = barrier_low;\n\n                        high_span.style.display = 'none';\n                        high_tooltip.style.display = 'inherit';\n                        low_span.style.display = 'none';\n                        low_tooltip.style.display = 'inherit';\n\n                        if (currentTick && !isNaN(currentTick)) {\n                            indicativeHighBarrierTooltip.textContent = (parseFloat(currentTick) + parseFloat(barrier_high)).toFixed(decimalPlaces);\n                            indicativeLowBarrierTooltip.textContent = (parseFloat(currentTick) + parseFloat(barrier_low)).toFixed(decimalPlaces);\n                        } else {\n                            indicativeHighBarrierTooltip.textContent = '';\n                            indicativeLowBarrierTooltip.textContent = '';\n                        }\n                    }\n                    Defaults.set('barrier_high', high_elm.value);\n                    Defaults.set('barrier_low', low_elm.value);\n                    Defaults.remove('barrier');\n                    return;\n                }\n            }\n        }\n\n        var elements = document.getElementsByClassName('barrier_class');\n        for (var i = 0; i < elements.length; i++){\n            elements[i].style.display = 'none';\n        }\n        Defaults.remove('barrier', 'barrier_high', 'barrier_low');\n    };\n\n    var validateBarrier = function() {\n        var barrierElement = document.getElementById('barrier');\n        if(isVisible(barrierElement) && (isNaN(parseFloat(barrierElement.value)) || parseFloat(barrierElement.value) === 0)) {\n            barrierElement.value = '0';\n            barrierElement.classList.add('error-field');\n        } else {\n            barrierElement.classList.remove('error-field');\n        }\n    };\n\n    return {\n        display: display,\n        isBarrierUpdated: function () { return isBarrierUpdated; },\n        setBarrierUpdate: function (flag) {\n            isBarrierUpdated = flag;\n        },\n        validateBarrier: validateBarrier\n    };\n})();\n\nmodule.exports = {\n    Barriers: Barriers,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/barriers.js\n ** module id = 53\n ** module chunks = 0\n **/","TradingAnalysis.DigitInfoWS = function() {\n    this.chart_config = {\n        chart: {\n                renderTo:'last_digit_histo',\n                defaultSeriesType:'column',\n                backgroundColor:'#eee',\n                borderWidth:1,\n                borderColor:'#ccc',\n                plotBackgroundColor:'#fff',\n                plotBorderWidth:1,\n                plotBorderColor:'#ccc',\n                height:225 // This is \"unresponsive\", but so is leaving it empty where it goes to 400px.\n        },\n        title:{text:''},\n        credits:{enabled:false},\n        exporting:{enabled:false},\n        legend:{\n            enabled:false\n        },\n        tooltip:{\n            borderWidth:1,\n            formatter:function() {\n                var that = this;\n                var total = $(\"select[name='tick_count']\").val();\n                var percentage = that.y/total*100;\n                return '<b>Digit:</b> '+ that.x +'<br/>'+\n                '<b>Percentage:</b> '+ percentage.toFixed(1) + \" %\";\n            }\n        },\n        plotOptions:{\n            column:{\n                shadow:false,\n                borderWidth:0.5,\n                borderColor:'#666',\n                pointPadding:0,\n                groupPadding:0.0,\n                color: '#e1f0fb',\n            },\n            series: {\n                dataLabels: {\n                    enabled: true,\n                    style: {\n                        textShadow: false,\n                    },\n                    formatter: function() {\n                        var total = $(\"select[name='tick_count']\").val();\n                        var percentage = this.point.y/total*100;\n                        return percentage.toFixed(2) + ' %';\n                    },\n                },\n            },\n        },\n        xAxis:{\n            categories: ['0','1','2','3','4','5','6','7','8','9'],\n            lineWidth:0,\n            lineColor:'#999',\n            tickLength:10,\n            tickColor:'#ccc',\n        },\n        yAxis:{\n            title:{text:''},\n            maxPadding:0,\n            gridLineColor:'#e9e9e9',\n            tickWidth:1,\n            tickLength:3,\n            tickColor:'#ccc',\n            lineColor:'#ccc',\n            endOnTick:true,\n            opposite: false,\n            labels: {\n                align: 'left',\n                x: 0,\n                enabled: false,\n                formatter: function() {\n                    var total = $(\"select[name='tick_count']\").val();\n                    var percentage = parseInt(this.value/total*100);\n                    return percentage + \" %\";\n                },\n            },\n        },\n    };\n\n    this.spots = [];\n    this.stream_id = null;\n    // To avoid too many greens and reds\n    this.prev_min_index = -1;\n    this.prev_max_index = -1;\n};\n\nTradingAnalysis.DigitInfoWS.prototype = {\n    add_content: function(underlying){\n        var domain = document.domain.split('.').slice(-2).join('.'),\n            underlyings =[];\n        var symbols = Symbols.getAllSymbols();\n        i=0;\n        for(var key in symbols){\n            if(/^(R_|RD)/.test(key)){\n                underlyings[i++] = key;\n            }\n        }\n        underlyings = underlyings.sort();\n        var elem = '<select class=\"smallfont\" name=\"underlying\">';\n        for(i=0;i<underlyings.length;i++){\n            elem = elem + '<option value=\"'+underlyings[i]+'\">'+text.localize(symbols[underlyings[i]])+'</option>';\n        }\n        elem = elem + '</select>';\n        var contentId = document.getElementById('tab_last_digit-content'),\n            content = '<div class=\"gr-parent\">'+\n                        '<div id=\"last_digit_histo_form\" class=\"gr-8 gr-12-m gr-centered\">'+\n                        '<form class=\"smallfont gr-row\" action=\"#\" method=\"post\">'+\n                        '<div class=\"gr-6 gr-12-m\">'+ text.localize('Select market')+' : ' + elem +' </div>'+\n                        '<div class=\"gr-6 gr-12-m\">'+ text.localize('Number of ticks')+' : <select class=\"smallfont\" name=\"tick_count\"><option value=\"25\">25</option><option value=\"50\">50</option><option selected=\"selected\" value=\"100\">100</option><option value=\"500\">500</option><option value=\"1000\">1000</option></select></div>'+\n                        '</form>'+\n                        '</div>'+\n                        '<div id=\"last_digit_histo\" class=\"gr-8 gr-12-m gr-centered\"></div>'+\n                        '<div id=\"last_digit_title\" class=\"gr-hide\">'+ (domain.charAt(0).toUpperCase() + domain.slice(1)) + ' - ' + text.localize('Last digit stats for the latest [_1] ticks on [_2]') +'</div>'+\n                        '</div>';\n        contentId.innerHTML = content;\n        $('[name=underlying]').val(underlying);\n\n    },\n    on_latest: function() {\n        var that = this;\n        var tab = $('#tab_last_digit-content');\n        var form = tab.find('form:first');\n        form.on('submit', function(event) {\n            event.preventDefault();\n            return false;\n        }).addClass('unbind_later');\n\n        var get_latest = function() {\n            var symbol = $('[name=underlying] option:selected').val();\n            var request = {\"ticks_history\": symbol,\n                           \"end\": \"latest\",\n                           \"count\": $('[name=tick_count]', form).val(),\n                           \"req_id\": 2};\n            if(that.chart.series[0].name !== symbol){\n                if($('#underlying option:selected').val() != $('[name=underlying]', form).val()){\n                    request['subscribe'] = 1;\n                    request['style'] = \"ticks\";\n                }\n                if(that.stream_id !== null ){\n                    BinarySocket.send({\"forget\": that.stream_id});\n                    that.stream_id = null;\n                }\n            }\n            BinarySocket.send(request);\n        };\n        $('[name=underlying]', form).on('change',  get_latest ).addClass('unbind_later');\n        $('[name=tick_count]', form).on('change',  get_latest ).addClass('unbind_later');\n    },\n    show_chart: function(underlying, spots) {\n        if(typeof spots === 'undefined' || spots.length <= 0){\n            console.log(\"Unexpected error occured in the charts.\");\n            return;\n        }\n        var dec = spots[0].split('.')[1].length;\n        for(i=0;i<spots.length;i++){\n            var val = parseFloat(spots[i]).toFixed(dec);\n            spots[i]=val.substr(val.length-1);\n        }\n        this.spots = spots;\n        if (this.chart && $('#last_digit_histo').html()) {\n            this.chart.xAxis[0].update({title: get_title()}, true);\n            this.chart.series[0].name = underlying;\n        } else {\n            this.add_content(underlying); // this creates #last_digit_title\n            this.chart_config.xAxis.title = get_title();\n            this.chart = new Highcharts.Chart(this.chart_config);\n            this.chart.addSeries({name : underlying, data: []});\n            this.on_latest();\n            this.stream_id = null;\n        }\n        this.update();\n\n        function get_title() {\n            return {\n                text: template($('#last_digit_title').html(), [spots.length, $('[name=underlying] option:selected').text()])\n            };\n        }\n    },\n    update: function(symbol, latest_spot) {\n        if(typeof this.chart === \"undefined\") {\n            return;\n        }\n\n        var series = this.chart.series[0]; // Where we put the final data.\n        if (series.name != symbol) {\n            latest_spot = undefined; // This simplifies the logic a bit later.\n        }\n\n        if (typeof latest_spot !== \"undefined\") { // This is a bit later. :D\n            this.spots.unshift(latest_spot.slice(-1)); // Only last digit matters\n            this.spots.pop();\n        }\n\n        // Always recompute and draw, even if theres no new data.\n        // This is especially useful on first reuqest, but maybe in other ways.\n        var filtered_spots = [];\n        var digit = 10,\n            filterFunc = function (el) { return el == digit; };\n        var min_max_counter = [];\n        while(digit--) {\n            var val = this.spots.filter(filterFunc).length;\n            filtered_spots[digit] = val;\n            if (typeof min_max_counter[val] === 'undefined') {\n                min_max_counter[val] = 0;\n            }\n            min_max_counter[val]++;\n        }\n        var min = Math.min.apply(null, filtered_spots);\n        var max = Math.max.apply(null, filtered_spots);\n        var min_index = filtered_spots.indexOf(min);\n        var max_index = filtered_spots.indexOf(max);\n        // changing color\n        if (min_max_counter[min] >= 1) {\n            filtered_spots[min_index] = {y: min, color: '#CC0000'};\n            if(this.prev_min_index === -1){\n                this.prev_min_index = min_index;\n            } else if(this.prev_min_index != min_index){\n                if(typeof(filtered_spots[this.prev_min_index]) === 'object'){\n                    filtered_spots[this.prev_min_index] = {y: filtered_spots[this.prev_min_index].y, color: '#e1f0fb'};\n                } else\n                    filtered_spots[this.prev_min_index] = {y: filtered_spots[this.prev_min_index], color: '#e1f0fb'};\n                this.prev_min_index = min_index;\n            }\n        }\n\n        if (min_max_counter[max] >= 1) {\n            filtered_spots[max_index] = {y: max, color: '#2E8836'};\n            if(this.prev_max_index === -1){\n                this.prev_max_index = max_index;\n            } else if(this.prev_max_index != max_index){\n                if(typeof(filtered_spots[this.prev_max_index]) === 'object'){\n                    filtered_spots[this.prev_max_index] = {y: filtered_spots[this.prev_max_index].y, color: '#e1f0fb'};\n                } else\n                    filtered_spots[this.prev_max_index] = {y: filtered_spots[this.prev_max_index], color: '#e1f0fb'};\n                this.prev_max_index = max_index;\n            }\n        }\n        return series.setData(filtered_spots);\n    },\n    show_tab: function() {\n        var tab_last_digit = $('#tab_last_digit');\n        MenuContent.show_tab(tab_last_digit);\n        var saved_anaysis_tab = SessionStore.get('bet_page.selected_analysis_tab');\n        if(saved_anaysis_tab == 'tab_last_digit') {\n            MenuContent.trigger({\n                'tab_id': saved_anaysis_tab\n            });\n        }\n    },\n    hide_tab: function() {\n        var tab_last_digit = $('#tab_last_digit');\n        MenuContent.hide_tab(tab_last_digit);\n        if(typeof this.chart !== \"undefined\") {\n            this.chart.destroy();\n        }\n        this.chart = undefined;\n        this.spots = [];\n    },\n    update_chart: function(tick){\n        if(tick.req_id === 2){\n            if(this.chart.series[0].name === tick.tick.symbol){\n                this.stream_id = tick.tick.id || null;\n                this.update(tick.tick.symbol, tick.tick.quote);\n            } else{\n                BinarySocket.send({\"forget\": tick.tick.id+''});\n            }\n        } else{\n            if(!this.stream_id){\n                this.update(tick.tick.symbol, tick.tick.quote);\n            }\n        }\n    }\n};\n\nTradingAnalysis.tab_last_digitws = new TradingAnalysis.DigitInfoWS();\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/charts/digit_infows.js\n ** module id = 54\n ** module chunks = 0\n **/","var Highchart = (function() {\n  var chart, options, chart_forget, responseID, contract, contract_ended, contracts_for_send, history_send, entry_tick_barrier_drawn, initialized, chart_delayed, chart_subscribed, request, min_point, max_point, start_time, purchase_time, now_time, end_time, entry_tick_time, is_sold, sell_time, sell_spot_time, is_expired, exit_tick_time, exit_time;\n  function init_once() {\n      chart = '';\n      initialized = false;\n      chart_delayed = false;\n      chart_subscribed = false;\n      chart_forget = false;\n      contract_ended = false;\n      contracts_for_send = false;\n      history_send = false;\n      entry_tick_barrier_drawn = false;\n  }\n\n  // initiate the chart for the first time only, send it ticks or candles data\n  function init_chart(options) {\n      var data = [];\n      var type = '';\n      var lbl_start_time = '<div style=\"margin-bottom:3px;margin-left:10px;height:0;width:20px;border:0;border-bottom:2px;border-style:solid;border-color:#E98024;display:inline-block\"></div> Start time ';\n      var lbl_entry_spot = '<div style=\"margin-left:10px;display:inline-block;border:3px solid orange;border-radius:6px;width:4px;height:4px;\"></div> Entry spot ';\n      var lbl_exit_spot = '<div style=\"margin-left:10px;display:inline-block;background-color:orange;border-radius:6px;width:10px;height:10px;\"></div> Exit spot ';\n      var lbl_end_time = '<div style=\"margin-bottom: 3px;margin-left:10px;height:0;width:20px;border:0;border-bottom:2px;border-style:dashed;border-color:#E98024;display:inline-block\"></div> End time ';\n      var lbl_delay = '<span style=\"display:block;text-align:center;margin-bottom:0.2em;color:red\">Charting for this underlying is delayed </span>';\n      // options.history indicates line chart\n      if(options.history){\n        type = 'line';\n        var history = options.history;\n        var times = history.times;\n        var prices = history.prices;\n        var i;\n        if (chart_delayed) {\n          for(i = 0; i < times.length; ++i) {\n              data.push([parseInt(times[i])*1000, prices[i]*1]);\n          }\n        } else if (min_point && max_point) {\n          for(i = 0; i < times.length; ++i) {\n            if (parseInt(times[i]) >= min_point && parseInt(times[i]) <= max_point) {\n              // only display the first tick before entry spot and one tick after exit spot\n              // as well as the set of ticks between them\n              data.push([parseInt(times[i])*1000, prices[i]*1]);\n            }\n          }\n        }\n      }\n      // options.candles indicates candle chart\n      if(options.candles) {\n        type = 'candlestick';\n        data = options.candles.map(function(c){\n          return [c.epoch*1000, c.open*1, c.high*1, c.low*1, c.close*1];\n        });\n      }\n      var title = options.title;\n      // element where chart is to be displayed\n      var el = document.getElementById('analysis_live_chart');\n\n      var chartOptions = {\n        chart: {\n          type: 'line',\n          renderTo: el,\n          backgroundColor: null, /* make background transparent */\n          height: el.parentElement.offsetHeight || 450\n        },\n        title:{\n          text: title,\n          style: { fontSize:'16px' }\n        },\n        credits:{\n          enabled: false\n        },\n        tooltip: {\n          xDateFormat:'%A, %b %e, %H:%M:%S GMT'\n        },\n        xAxis: {\n          type: 'datetime',\n          categories:null,\n          startOnTick: false,\n          endOnTick: false,\n          // min indicates where to start displaying the chart\n          min: min_point ? min_point*1000 : null,\n          // max indicates where to stop displaying the chart\n          max: max_point ? max_point*1000 : null,\n          labels: { overflow:\"justify\", format:\"{value:%H:%M:%S}\" }\n        },\n        yAxis: {\n          labels: { align: 'left', x: 0, y: -2 },\n          title: ''\n        },\n        series: [{\n          name: title,\n          data: data,\n          type: type,\n          // zones are used to display color of the line\n          zones: [{\n              // make the line grey until it reaches entry time or start time if entry spot time is not yet known\n              value: entry_tick_time ? entry_tick_time*1000 : start_time*1000,\n              color: '#ccc'\n          }, {\n              // make the line default color until exit time is reached\n              value: exit_time*1000 || null,\n              color: ''\n          }, {\n              // make the line grey again after trade ended\n              color: '#ccc'\n          }],\n          zoneAxis: 'x'\n        }],\n        exporting: {enabled: false, enableImages: false},\n        legend: {enabled: false},\n        navigator: { enabled: true },\n        plotOptions: {\n          line: {\n            marker: { radius: 2 }\n          },\n          candlestick: {\n            lineColor: 'black',\n            color: 'red',\n            upColor: 'green',\n            upLineColor: 'black',\n            shadow: true\n          },\n        },\n        rangeSelector: { enabled: false },\n      };\n\n      // display comma after every three digits instead of space\n      Highcharts.setOptions({\n        lang: {thousandsSep: ','}\n      });\n\n      // display a guide for clients to know how we are marking entry and exit spots\n      if (options.history) {\n        chartOptions.subtitle = {\n          text: chart_delayed ? lbl_delay + lbl_start_time + lbl_entry_spot + lbl_exit_spot + lbl_end_time : lbl_start_time + lbl_entry_spot + lbl_exit_spot + lbl_end_time,\n          align: 'center',\n          useHTML: true\n        };\n        chartOptions.tooltip.valueDecimals = options.history.prices[0].split('.')[1].length || 3;\n      } else if (options.candles) {\n        chartOptions.subtitle = {\n          text: chart_delayed ? lbl_delay + lbl_start_time + lbl_end_time : lbl_start_time + lbl_end_time,\n          align: 'center',\n          useHTML: true\n        };\n        chartOptions.tooltip.valueDecimals = options.candles[0].open.split('.')[1].length || 3;\n      }\n\n      if(!el) return;\n      var chart = new Highcharts.Chart(chartOptions);\n      initialized = true;\n\n      // this is used to draw lines such as start and end times\n      chart.addPlotLineX = function(chartOptions) {\n        chart.xAxis[0].addPlotLine({\n           value: chartOptions.value,\n           id: chartOptions.id || chartOptions.value,\n           label: {text: chartOptions.label || '', x: chartOptions.text_left ? -15 : 5},\n           color: chartOptions.color || '#e98024',\n           zIndex: 2,\n           width: chartOptions.width || 2,\n           dashStyle: chartOptions.dashStyle || 'Solid'\n        });\n        var subtitle = chart.subtitle.element;\n        var subtitle_length = chart.subtitle.element.childNodes.length;\n        if (sell_time && sell_time < end_time) {\n          var textnode = document.createTextNode(\" Sell time \");\n          for (i = 0; i < chart.subtitle.element.childNodes.length; i++) {\n            if (/End time/.test(chart.subtitle.element.childNodes[i].nodeValue)) {\n              var item = chart.subtitle.element.childNodes[i];\n              chart.subtitle.element.replaceChild(textnode, item);\n            }\n          }\n        }\n      };\n\n      // this is used to draw lines such as barrier\n      chart.addPlotLineY = function(chartOptions) {\n        chart.yAxis[0].addPlotLine({\n          id: chartOptions.id || chartOptions.label,\n          value: chartOptions.value,\n          label: {text: chartOptions.label, align: 'center'},\n          color: chartOptions.color || 'green',\n          zIndex: 1,\n          width: 2,\n          dashStyle: chartOptions.dashStyle || 'Solid'\n        });\n      };\n\n      el.chart = chart;\n\n      return el.chart;\n  }\n\n  // since these values are used in almost every function, make them easy to initialize\n  function initialize_values() {\n    start_time      = parseInt(contract.date_start);\n    purchase_time   = parseInt(contract.purchase_time);\n    now_time        = parseInt(contract.current_spot_time);\n    end_time        = parseInt(contract.date_expiry);\n    entry_tick_time = parseInt(contract.entry_tick_time);\n    is_sold         = contract.is_sold;\n    sell_time       = parseInt(contract.sell_time);\n    sell_spot_time  = parseInt(contract.sell_spot_time);\n    is_expired      = contract.is_expired;\n    exit_tick_time  = parseInt(contract.exit_tick_time);\n    entry_spot      = contract.entry_spot;\n    exit_time       = is_sold && sell_time < end_time ? sell_spot_time : exit_tick_time || end_time;\n    underlying      = contract.underlying;\n  }\n\n  // use this instead of BinarySocket.send to avoid overriding the on-message function of trading page\n  var socketSend = function(req) {\n      if(!req) return;\n      if(!req.hasOwnProperty('passthrough')) {\n          req.passthrough = {};\n      }\n      // send dispatch_to to help socket.js forward the correct response back to here\n      req.passthrough['dispatch_to'] = 'ViewChartWS';\n      BinarySocket.send(req);\n  };\n\n  var dispatch = function(response) {\n    var type = response.msg_type, error = response.error;\n    if (type === 'contracts_for' && (!error || (error && error.code && error.code === 'InvalidSymbol'))) {\n      if (response.contracts_for && response.contracts_for.feed_license) {\n        handle_delay(response.contracts_for.feed_license);\n        save_feed_license(response.echo_req.contracts_for, response.contracts_for.feed_license);\n      }\n      show_entry_error();\n    } else if ((type === 'history' || type === 'candles' || type === 'tick' || type === 'ohlc') && !error){\n      responseID = response[type].id;\n      // send view popup the response ID so view popup can forget the calls if it's closed before contract ends\n      if (responseID) ViewPopupWS.storeSubscriptionID(responseID, 'chart');\n      options = { 'title' : contract.display_name };\n      if (response.history || response.candles) {\n        if (response.history) {\n          options.history = response.history;\n          if (options.history.times.length === 0) {\n            show_error('missing');\n            return;\n          }\n          if (response.history.times) {\n            for (i = 0; i < response.history.times.length; i++) {\n              if (entry_tick_time && parseInt(response.history.times[i]) === parseInt(entry_tick_time)) {\n                // set the chart to display from the tick before entry_tick_time\n                min_point = parseInt(response.history.times[(i === 0 ? i : i-1)]);\n                break;\n              } else if (purchase_time && start_time > parseInt(purchase_time) && parseInt(response.history.times[i]) === parseInt(purchase_time) || (parseInt(response.history.times[i]) < parseInt(purchase_time) && parseInt(response.history.times[(i === response.history.times.length - 1 ? i : i+1)]) > parseInt(purchase_time))) {\n                // set the chart to display from the tick before purchase_time\n                min_point = parseInt(response.history.times[(i === 0 ? i : i-1)]);\n                break;\n              }\n            }\n            if (!min_point) min_point = parseInt(response.history.times[0]);\n          }\n          get_max_history(response);\n        } else if (response.candles) {\n          options.candles = response.candles;\n          if (options.candles.length === 0) {\n            show_error('missing');\n            return;\n          }\n          for (i = 1; i < response.candles.length; i++) {\n            if (entry_tick_time && response.candles[i] && parseInt(response.candles[i].epoch) <= parseInt(entry_tick_time) && response.candles[(i === response.candles.length - 1 ? i : i+1)].epoch > parseInt(entry_tick_time)) {\n              // set the chart to display from the candle before entry_tick_time\n              min_point = parseInt(response.candles[i-1].epoch);\n              break;\n            } else if (purchase_time && response.candles[i] && parseInt(response.candles[i].epoch) <= parseInt(purchase_time) && response.candles[(i === response.candles.length - 1 ? i : i+1)].epoch > parseInt(purchase_time)) {\n              // set the chart to display from the candle before purchase_time\n              min_point = parseInt(response.candles[i-1].epoch);\n              break;\n            }\n          }\n          get_max_candle(response);\n        }\n        // only initialize chart if it hasn't already been initialized\n        if (!chart && !initialized) {\n          chart = init_chart(options);\n          if(!chart) return;\n\n          if (purchase_time !== start_time) draw_line_x(purchase_time, 'Purchase Time', '', '', '#7cb5ec');\n\n          // second condition is used to make sure contracts that have purchase time\n          // but are sold before the start time don't show start time\n          if (!is_sold || (is_sold && sell_time && sell_time > start_time)) {\n            draw_line_x(start_time);\n          }\n\n          var duration = calculate_granularity(end_time, now_time, purchase_time, start_time)[1];\n\n          // show end time before contract ends if duration of contract is less than one day\n          // second OR condition is used so we don't draw end time again if there is sell time before\n          if (end_time - (start_time || purchase_time) <= 24*60*60 && (!is_sold || (is_sold && sell_time && sell_time >= end_time))) {\n            draw_line_x(end_time, '', 'textLeft', 'Dash');\n          }\n        }\n        if (is_sold || is_expired) {\n          reset_max();\n          reselect_exit_time();\n          end_contract();\n        }\n      } else if ((response.tick || response.ohlc) && !chart_forget) {\n        if (response.tick) {\n          options.tick = response.tick;\n        } else if (response.ohlc) {\n          options.ohlc = response.ohlc;\n        }\n        if (chart && chart.series) {\n          update_chart(options);\n        }\n      }\n      if (entry_tick_time){\n        select_entry_tick_barrier();\n      }\n      forget_streams();\n    } else if (type === 'ticks_history' && error) {\n      show_error('', error.message);\n    }\n  };\n\n  function show_chart(proposal_contract, update) {\n      contract = proposal_contract;\n      initialize_values();\n      if (!update) {\n        init_once();\n      }\n      if (!chart && !history_send) {\n        request_data(update || '');\n      } else if (entry_tick_time && chart) {\n        select_entry_tick_barrier();\n      }\n      if ((is_sold || is_expired) && chart) {\n        reset_max();\n        reselect_exit_time();\n        end_contract();\n      }\n      forget_streams();\n      return;\n  }\n\n  function show_error(type, message) {\n    var el = document.getElementById('analysis_live_chart');\n    if(!el) return;\n    if (type === 'missing') {\n      el.innerHTML = '<p class=\"error-msg\">' + text.localize('Ticks history returned an empty array.') + '</p>';\n    } else {\n      el.innerHTML = '<p class=\"error-msg\">' + message + '</p>';\n    }\n  }\n\n  function request_data(update) {\n    var calculateGranularity = calculate_granularity(exit_time, now_time, purchase_time, start_time);\n    var granularity = calculateGranularity[0],\n        duration    = calculateGranularity[1],\n        margin      = 0; // time margin\n    margin = granularity === 0 ? Math.max(300, 30*duration/(60*60) || 0) : 3*granularity;\n\n    request = {\n      ticks_history: underlying,\n      start: ((purchase_time || start_time)*1 - margin).toFixed(0), /* load more ticks before start */\n      end: end_time ? (end_time*1 + margin).toFixed(0) : 'latest',\n      style: 'ticks',\n      count: 4999, /* maximum number of ticks possible */\n      adjust_start_time: 1\n    };\n\n    if (is_sold && sell_time < end_time) {\n      request.end = sell_spot_time ? (sell_spot_time*1 + margin).toFixed(0) : 'latest';\n    }\n\n    if(granularity !== 0) {\n      request.granularity = granularity;\n      request.style = 'candles';\n    }\n\n    if(!is_expired && !sell_spot_time && (window.time.valueOf() / 1000) < end_time && !chart_subscribed) {\n        request.subscribe = 1;\n    }\n\n    var contracts_response = window.contracts_for;\n\n    if (contracts_response && contracts_response.echo_req.contracts_for === underlying) {\n      if (contracts_response.contracts_for && contracts_response.contracts_for.feed_license) {\n        handle_delay(contracts_response.contracts_for.feed_license);\n        save_feed_license(contracts_response.echo_req.contracts_for, contracts_response.contracts_for.feed_license);\n      }\n      show_entry_error();\n    } else if (sessionStorage.getItem('license.' + underlying)) {\n      handle_delay(sessionStorage.getItem('license.' + underlying));\n      show_entry_error();\n    } else if(!contracts_for_send && update === '') {\n      socketSend({'contracts_for': underlying});\n      contracts_for_send = true;\n    }\n  }\n\n  function show_entry_error() {\n    if (!entry_tick_time && chart_delayed === false && start_time && window.time.unix() >= parseInt(start_time)) {\n      show_error('', text.localize('Waiting for entry tick.'));\n    } else if (!history_send){\n      history_send = true;\n      if (request.subscribe) chart_subscribed = true;\n      socketSend(request);\n    }\n    return;\n  }\n\n  function handle_delay(feed_license) {\n    if (feed_license !== 'realtime') {\n      if (!is_expired) {\n        request.end = 'latest';\n      }\n      delete request.subscribe;\n      chart_delayed = true;\n    }\n    return;\n  }\n\n  // we have to update the color zones with the correct entry_tick_time\n  // and barrier value\n  function select_entry_tick_barrier() {\n    if (entry_tick_time && chart && !entry_tick_barrier_drawn) {\n      select_entry_tick(entry_tick_time);\n      if (chart) {\n        draw_barrier();\n        chart.series[0].zones[0].value = parseInt(entry_tick_time)*1000;\n        // force to redraw:\n        chart.isDirty = true;\n        chart.redraw();\n      }\n      entry_tick_barrier_drawn = true;\n    }\n    return;\n  }\n\n  // update color zone of exit time\n  function reselect_exit_time() {\n    if (chart && exit_time) {\n      chart.series[0].zones[1].value = parseInt(exit_time)*1000;\n      // force to redraw:\n      chart.isDirty = true;\n      chart.redraw();\n    }\n    return;\n  }\n\n  // function to set an orange circle on the entry tick\n  function select_entry_tick(value) {\n    value = parseInt(value);\n    if (value && (options.history || options.tick) && chart) {\n      var firstIndex = Object.keys(chart.series[0].data)[0];\n      for (i = firstIndex; i < chart.series[0].data.length; i++) {\n        if (value*1000 === chart.series[0].data[i].x) {\n          chart.series[0].data[i].update({marker: {fillColor: '#fff', lineColor: 'orange', lineWidth: 3, radius: 4, states: {hover: {fillColor: '#fff', lineColor: 'orange', lineWidth: 3, radius: 4}}}});\n          return;\n        }\n      }\n    }\n  }\n\n  function draw_barrier() {\n    if (chart.yAxis[0].plotLinesAndBands.length === 0) {\n      if (contract.barrier) {\n          chart.addPlotLineY({id: 'barrier', value: contract.barrier*1, label: 'Barrier (' + contract.barrier + ')', dashStyle: 'Dot'});\n      } else if (contract.high_barrier && contract.low_barrier) {\n          chart.addPlotLineY({id: 'high_barrier', value: contract.high_barrier*1, label: 'High Barrier (' + contract.high_barrier + ')', dashStyle: 'Dot'});\n          chart.addPlotLineY({id: 'low_barrier', value: contract.low_barrier*1, label: 'Low Barrier (' + contract.low_barrier + ')', dashStyle: 'Dot'});\n      }\n    }\n  }\n\n  // function to set an orange circle on the exit tick\n  function select_exit_tick(value) {\n    value = parseInt(value);\n    if (value && (options.tick || options.history)) {\n      for (i = chart.series[0].data.length - 1; i >= 0; i--) {\n        if (value*1000 === chart.series[0].data[i].x) {\n          chart.series[0].data[i].update({marker: {fillColor: 'orange', lineColor: 'orange', lineWidth: 3, radius: 4, states: {hover: {fillColor: 'orange', lineColor: 'orange', lineWidth: 3, radius: 4}}}});\n          return;\n        }\n      }\n    }\n  }\n\n  function reset_max() {\n    if (sell_time && sell_time < end_time) {\n      if (chart) chart.xAxis[0].setExtremes(min_point ? min_point*1000 : null, (sell_time*1 + 3)*1000);\n    }\n    return;\n  }\n\n  // calculate where to display the maximum value of the x-axis of the chart for line chart\n  function get_max_history(response) {\n    var end;\n    if (sell_spot_time && sell_time < end_time) {end = sell_spot_time;}\n    else if (exit_tick_time) {end = exit_tick_time;}\n    else {end = end_time;}\n    if (response.history && response.history.times && (is_expired || is_sold)) {\n      for (i = response.history.times.length - 1; i >= 0; i--) {\n          if (parseInt(response.history.times[i]) === parseInt(end)) {\n              max_point = parseInt(response.history.times[i === response.history.times.length - 1 ? i : i+1]);\n              break;\n          }\n      }\n    } else if (chart_delayed) {\n      if (parseInt(response.history.times[response.history.times.length - 1]) > start_time) {\n        max_point = parseInt(response.history.times[response.history.times.length - 1]);\n      } else {\n        max_point = start_time;\n      }\n    } else {\n      max_point = end_time;\n    }\n    return;\n  }\n\n  // calculate where to display the maximum value of the x-axis of the chart for candle\n  function get_max_candle(response) {\n    if (sell_spot_time && sell_time < end_time) {end = sell_spot_time;}\n    else {end = end_time;}\n    if (is_expired || is_sold) {\n      for (i = response.candles.length - 2; i >= 0; i--) {\n          if (response.candles[i] && parseInt(response.candles[i].epoch) <= end && parseInt(response.candles[i+1].epoch) > end) {\n              max_point = parseInt(response.candles[i+1].epoch);\n              break;\n          }\n      }\n    } else if (chart_delayed) {\n      if (parseInt(response.candles[response.candles.length - 1].epoch) > start_time) {\n        max_point = parseInt(response.candles[response.candles.length - 1].epoch);\n      } else {\n        max_point = start_time;\n      }\n    } else {\n      max_point = end_time;\n    }\n    return;\n  }\n\n  function draw_line_x(valueTime, labelName, textLeft, dash, color) {\n    if(!chart) return;\n    var req = {\n      value : valueTime*1000\n    };\n    if (labelName && labelName !== '') req.label = labelName;\n    if (textLeft === 'textLeft') req.text_left = true;\n    if (dash && dash !== '') req.dashStyle = dash;\n    if (color) req.color = color;\n    chart.addPlotLineX(req);\n  }\n\n  // function to draw the last line needed and forget the streams\n  // also sets the exit tick\n  function end_contract() {\n    if (chart) {\n      if (sell_time && sell_time < end_time) {\n        draw_line_x(sell_time, '', 'textLeft', 'Dash');\n      } else if (sell_time && sell_time >= end_time) {\n        draw_line_x(end_time, '', 'textLeft', 'Dash');\n      }\n      if (sell_spot_time && sell_spot_time < end_time && sell_spot_time >= start_time) {\n        select_exit_tick(sell_spot_time);\n      } else if (exit_tick_time) {\n        select_exit_tick(exit_tick_time);\n      }\n    }\n    if (!contract_ended) {\n      forget_streams();\n      contract_ended = true;\n    }\n    return;\n  }\n\n  function forget_streams() {\n    if (chart && chart.series && chart.series[0].data.length >= 1 && !chart_forget && (is_sold || is_expired) && responseID) {\n      var last = chart.series[0].data[chart.series[0].data.length - 1];\n      if (parseInt(last.x) > end_time*1000 || parseInt(last.x) > sell_time*1000) {\n        socketSend({'forget':responseID});\n        chart_forget = true;\n      }\n    }\n    return;\n  }\n\n  function calculate_granularity(end_time, now_time, purchase_time, start_time) {\n    var duration = Math.min(end_time*1, now_time) - (purchase_time || start_time);\n    var granularity = 0;\n    if(duration <= 60*60) { granularity = 0; } // 1 hour\n    else if(duration <= 2*60*60) { granularity = 120; } // 2 hours\n    else if(duration <= 6*60*60) { granularity = 600; } // 6 hours\n    else if(duration <= 24*60*60) { granularity = 900; } // 1 day\n    else if(duration <= 24*5*60*60) { granularity = 3600; } // 5 days\n    else if(duration <= 24*30*60*60) { granularity = 14400; } // 30 days\n    else { granularity = 86400; } // more than 30 days\n    return [granularity, duration];\n  }\n\n  // add the new data to the chart\n  function update_chart(options){\n    var granularity = calculate_granularity(exit_time, now_time, purchase_time, start_time)[0];\n    var series = chart.series[0];\n    var last = series.data[series.data.length - 1];\n    if(granularity === 0) {\n      chart.series[0].addPoint([options.tick.epoch*1000, options.tick.quote*1]);\n    } else {\n      var c = options.ohlc;\n      if (!c) return;\n      var ohlc = [c.open_time*1000, c.open*1, c.high*1, c.low*1, c.close*1];\n\n      if(last.x !== ohlc[0]) {\n        series.addPoint(ohlc, true, true);\n      }\n      else {\n        last.update(ohlc,true);\n      }\n    }\n    return;\n  }\n\n  function save_feed_license(contract, license) {\n    var regex = new RegExp('license.' + contract),\n        match_found = false;\n\n    for(i = 0; i < sessionStorage.length; i++) {\n      if(regex.test(sessionStorage.key(i))) {\n        match_found = true;\n        break;\n      }\n    }\n\n    if (!match_found) {\n      sessionStorage.setItem('license.' + contract, license);\n    }\n\n  }\n\n  return {\n    show_chart   : show_chart,\n    dispatch     : dispatch\n  };\n}());\n\nmodule.exports = {\n    Highchart: Highchart,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/charts/highchartws.js\n ** module id = 55\n ** module chunks = 0\n **/","/*\n * This contains common functions we need for processing the response\n */\n\n Element.prototype.hide = function(){\n     this.style.display = 'none';\n };\n\n Element.prototype.show = function(){\n     this.style.display = '';\n };\n\n/*\n * function to display contract form as element of ul\n */\n function displayContractForms(id, elements, selected) {\n     'use strict';\n     if (!id || !elements || !selected) return;\n     var target = document.getElementById(id),\n         fragment = document.createDocumentFragment(),\n         len = elements.length;\n\n     target.innerHTML = '';\n\n     if (elements) {\n         var tree = getContractCategoryTree(elements);\n         for(var i=0;i<tree.length;i++){\n             var el1 = tree[i];\n             var li = document.createElement('li');\n\n             li.classList.add('tm-li');\n             if(i===0){\n                 li.classList.add('first');\n             }\n             else if(i===tree.length-1){\n                 li.classList.add('last');\n             }\n\n             if(typeof el1 === 'object'){\n                 var fragment2 = document.createDocumentFragment();\n                 var flag = 0;\n                 var first = '';\n                 for(var j=0; j<el1[1].length; j++){\n                     var el2 = el1[1][j];\n                     var li2 = document.createElement('li'),\n                         a2 = document.createElement('a'),\n                         content2 = document.createTextNode(elements[el2]);\n                     li2.classList.add('tm-li-2');\n\n                     if(j===0){\n                        first = el2.toLowerCase();\n                        li2.classList.add('first');\n                     }\n                     else if(j===el1[1].length-1){\n                         li2.classList.add('last');\n                     }\n\n                     var span_class = '';\n                     if (selected && selected === el2.toLowerCase()) {\n                         li2.classList.add('active');\n                         a2.classList.add('a-active');\n                         flag = 1;\n                     }\n\n                     a2.classList.add('tm-a-2');\n                     a2.appendChild(content2);\n                     a2.setAttribute('menuitem',el2.toLowerCase());\n                     a2.setAttribute('id', el2.toLowerCase());\n\n                     li2.appendChild(a2);\n\n                     fragment2.appendChild(li2);\n                 }\n                 if(fragment2.hasChildNodes()){\n                     var ul = document.createElement('ul'),\n                         a = document.createElement('a'),\n                         content = document.createTextNode(elements[el1[0]]);\n\n                     a.appendChild(content);\n                     a.setAttribute('class', 'tm-a');\n                     a.setAttribute('menuitem',first);\n                     ul.appendChild(fragment2);\n                     ul.setAttribute('class', 'tm-ul-2');\n                     ul.setAttribute('id', el1[0]+'-submenu');\n\n                     if(flag){\n                        li.classList.add('active');\n                     }\n\n                     li.appendChild(a);\n                     li.appendChild(ul);\n                 }\n             }\n             else{\n                 var content3 = document.createTextNode(elements[el1]),\n                     a3 = document.createElement('a');\n\n                 if (selected && selected === el1.toLowerCase()) {\n                     a3.classList.add('a-active');\n                     li.classList.add('active');\n                 }\n                 a3.appendChild(content3);\n                 a3.classList.add('tm-a');\n                 a3.setAttribute('menuitem',el1);\n                 a3.setAttribute('id', el1.toLowerCase());\n                 li.appendChild(a3);\n             }\n             fragment.appendChild(li);\n         }\n         if (target) {\n             target.appendChild(fragment);\n             var list = target.getElementsByClassName('tm-li');\n             for(var k=0; k < list.length; k++){\n                 var li4 = list[k];\n                 li4.addEventListener(\"mouseover\", function(){\n                     this.classList.add('hover');\n                 });\n                 li4.addEventListener(\"mouseout\", function(){\n                     this.classList.remove('hover');\n                 });\n             }\n         }\n     }\n }\n\n\n function displayMarkets(id, elements, selected) {\n     'use strict';\n     var target= document.getElementById(id),\n         fragment =  document.createDocumentFragment();\n\n     while (target && target.firstChild) {\n         target.removeChild(target.firstChild);\n     }\n\n     var keys1 = Object.keys(elements).sort(marketSort);\n     for (var i=0; i<keys1.length; i++) {\n         var key = keys1[i];\n         var option = document.createElement('option'), content = document.createTextNode(elements[key].name);\n         option.setAttribute('value', key);\n         if (selected && selected === key) {\n             option.setAttribute('selected', 'selected');\n         }\n         option.appendChild(content);\n         fragment.appendChild(option);\n\n         if(elements[key].submarkets && objectNotEmpty(elements[key].submarkets)){\n            var keys2 = Object.keys(elements[key].submarkets).sort(marketSort);\n            for (var j=0; j<keys2.length; j++) {\n                var key2 = keys2[j];\n                option = document.createElement('option');\n                option.setAttribute('value', key2);\n                if (selected && selected === key2) {\n                    option.setAttribute('selected', 'selected');\n                }\n                option.textContent = '\\xA0\\xA0\\xA0\\xA0'+elements[key].submarkets[key2].name;\n                fragment.appendChild(option);\n            }\n         }\n     }\n     if (target) {\n         target.appendChild(fragment);\n\n         if(target.selectedIndex < 0) {\n            target.selectedIndex = 0;\n         }\n         var current = target.options[target.selectedIndex];\n         if(selected !== current.value) {\n            Defaults.set('market', current.value);\n         }\n\n         if(current.disabled) { // there is no open market\n            document.getElementById('markets_closed_msg').classList.remove('hidden');\n            document.getElementById('trading_init_progress').style.display = 'none';\n         }\n     }\n }\n/*\n * function to create `option` and append to select box with id `id`\n */\nfunction displayOptions(id, elements, selected) {\n    'use strict';\n    var target= document.getElementById(id),\n        fragment =  document.createDocumentFragment();\n\n    while (target && target.firstChild) {\n        target.removeChild(target.firstChild);\n    }\n\n    for (var key in elements) {\n        if (elements.hasOwnProperty(key)){\n            var option = document.createElement('option'), content = document.createTextNode(elements[key]);\n            option.setAttribute('value', key);\n            if (selected && selected === key) {\n                option.setAttribute('selected', 'selected');\n            }\n            option.appendChild(content);\n            fragment.appendChild(option);\n        }\n    }\n    if (target) {\n        target.appendChild(fragment);\n    }\n}\n\n/*\n * function to display underlyings\n *\n * we need separate function for this as sorting is different and later\n * we may add submarket to it\n */\nfunction displayUnderlyings(id, elements, selected) {\n    'use strict';\n    var target= document.getElementById(id),\n        fragment =  document.createDocumentFragment();\n\n    while (target && target.firstChild) {\n        target.removeChild(target.firstChild);\n    }\n\n    if (elements) {\n        var keys = Object.keys(elements).sort(function(a, b) {\n            return elements[a]['display'].localeCompare(elements[b]['display']);\n        });\n        var submarkets = {};\n        for(var i=0; i<keys.length; i++){\n            if(!submarkets.hasOwnProperty(elements[keys[i]].submarket)){\n                submarkets[elements[keys[i]].submarket] = [];\n            }\n            submarkets[elements[keys[i]].submarket].push(keys[i]);\n        }\n        var keys2 = Object.keys(submarkets).sort(marketSort);\n        for(var j=0; j<keys2.length; j++){\n            for(var k=0; k<submarkets[keys2[j]].length; k++){\n                var key = submarkets[keys2[j]][k];\n                var option = document.createElement('option'), content = document.createTextNode(text.localize(elements[key]['display']));\n                option.setAttribute('value', key);\n                if (selected && selected === key) {\n                    option.setAttribute('selected', 'selected');\n                }\n                option.appendChild(content);\n                fragment.appendChild(option);\n            }\n        }\n    }\n    if (target) {\n        target.appendChild(fragment);\n    }\n}\n\n/*\n * This maps the form name and barrierCategory we display on\n * trading form to the actual we send it to backend\n * for e.g risefall is mapped to callput with barrierCategory euro_atm\n */\nfunction getFormNameBarrierCategory(displayFormName) {\n    'use strict';\n    var obj = {};\n    if (displayFormName) {\n        if(displayFormName === 'risefall') {\n            obj['formName'] = 'callput';\n            obj['barrierCategory'] = 'euro_atm';\n        } else if (displayFormName === 'higherlower') {\n            obj['formName'] = 'callput';\n            obj['barrierCategory'] = 'euro_non_atm';\n        } else if (displayFormName === 'callput'){\n            obj['formName'] = displayFormName;\n            obj['barrierCategory'] = 'euro_atm';\n        } else if (displayFormName === 'overunder' || displayFormName === 'evenodd' || displayFormName === 'matchdiff'){\n            obj['formName'] = 'digits';\n            obj['barrierCategory'] = '';\n        } else {\n            obj['formName'] = displayFormName;\n            obj['barrierCategory'] = '';\n        }\n    } else {\n        obj['formName'] = 'callput';\n        obj['barrierCategory'] = 'euro_atm';\n    }\n    return obj;\n}\n\n/*\n * This maps the contract type to where we display on trading form\n * and as there is no mapping on server side so need to create it\n * on front end\n *\n * for example we display CALL on top and PUT to bottom\n */\nfunction contractTypeDisplayMapping(type) {\n    'use strict';\n    var obj = {\n        CALL: \"top\",\n        PUT: \"bottom\",\n        CALLE: \"top\",\n        PUTE: \"bottom\",\n        ASIANU: \"top\",\n        ASIAND: \"bottom\",\n        DIGITMATCH: \"top\",\n        DIGITDIFF: \"bottom\",\n        DIGITEVEN: \"top\",\n        DIGITODD: \"bottom\",\n        DIGITOVER: \"top\",\n        DIGITUNDER: \"bottom\",\n        EXPIRYRANGEE: \"top\",\n        EXPIRYMISSE: \"bottom\",\n        EXPIRYRANGE: \"top\",\n        EXPIRYMISS: \"bottom\",\n        RANGE: \"top\",\n        UPORDOWN: \"bottom\",\n        ONETOUCH: \"top\",\n        NOTOUCH: \"bottom\",\n        SPREADU: \"top\",\n        SPREADD: \"bottom\"\n    };\n\n    return type ? obj[type] : 'top';\n}\n\n\n/*\n * function to check if element is visible or not\n *\n * alternative to jquery $('#id').is(':visible')\n */\nfunction isVisible(elem) {\n    'use strict';\n    if (!elem) return;\n    if (elem.offsetWidth === 0 && elem.offsetHeight === 0) {\n        return false;\n    } else {\n        return true;\n    }\n}\n\n/*\n * function to hide and display the loading icon for price container\n */\nfunction hideLoadingOverlay() {\n    'use strict';\n    var elm = document.getElementById('loading_container');\n    if (elm) {\n        elm.style.display = 'none';\n    }\n}\n\nfunction showLoadingOverlay() {\n    'use strict';\n    var elm = document.getElementById('loading_container');\n    if (elm) {\n        elm.style.display = 'block';\n    }\n}\n\nfunction showPriceOverlay() {\n    'use strict';\n    var elm = document.getElementById('loading_container2');\n    if (elm) {\n        elm.style.display = 'block';\n    }\n}\n\nfunction hidePriceOverlay() {\n    'use strict';\n    var elm = document.getElementById('loading_container2');\n    if (elm) {\n        elm.style.display = 'none';\n    }\n\n}\n\nfunction hideFormOverlay(){\n    'use strict';\n    var elm = document.getElementById('loading_container3');\n    if (elm) {\n        elm.style.display = 'none';\n    }\n}\n\nfunction showFormOverlay(){\n    'use strict';\n    var elm = document.getElementById('loading_container3');\n    if (elm) {\n        elm.style.display = 'block';\n    }\n}\n\n/*\n * function to hide contract confirmation overlay container\n */\nfunction hideOverlayContainer() {\n    'use strict';\n    var elm = document.getElementById('contract_confirmation_container');\n    if (elm) {\n        elm.style.display = 'none';\n    }\n    var elm2 = document.getElementById('contracts_list');\n    if (elm2) {\n        elm2.style.display = 'flex';\n    }\n}\n\n/*\n * function to assign sorting to market list\n */\nfunction compareMarkets(a, b) {\n    'use strict';\n    var sortedMarkets = {\n        'forex': 0,\n        'indices': 1,\n        'stocks': 2,\n        'commodities': 3,\n        'volidx': 4\n    };\n\n    if (sortedMarkets[a.toLowerCase()] < sortedMarkets[b.toLowerCase()]) {\n        return -1;\n    }\n    if (sortedMarkets[a.toLowerCase()] > sortedMarkets[b.toLowerCase()]) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction getContractCategoryTree(elements){\n    'use strict';\n\n    var tree = [\n        ['updown',\n            ['risefall',\n            'higherlower']\n        ],\n        'touchnotouch',\n        ['inout',\n            ['endsinout',\n            'staysinout']\n        ],\n        'asian',\n        ['digits',\n            ['matchdiff',\n            'evenodd',\n            'overunder']\n        ],\n        'spreads'\n    ];\n\n    if(elements){\n        tree = tree.map(function(e){\n            if(typeof e === 'object'){\n                e[1] = e[1].filter(function(e1){\n                    return elements[e1];\n                });\n                if(!e[1].length){\n                    e = '';\n                }\n            }\n            else if(!elements[e]){\n                e = '';\n            }\n            return e;\n        });\n        tree = tree.filter(function(v){ return v.length; });\n    }\n    return tree;\n}\n\n/*\n * Display price/spot movement variation to depict price moved up or down\n */\nfunction displayPriceMovement(element, oldValue, currentValue) {\n    'use strict';\n    element.classList.remove('price_moved_down');\n    element.classList.remove('price_moved_up');\n    if (parseFloat(currentValue) > parseFloat(oldValue)) {\n        element.classList.remove('price_moved_down');\n        element.classList.add('price_moved_up');\n    } else if (parseFloat(currentValue) < parseFloat(oldValue)) {\n        element.classList.remove('price_moved_up');\n        element.classList.add('price_moved_down');\n    }\n}\n\n/*\n * resets price movement color changing, to prevent coloring on some changes\n * coloring will continue on the next proposal responses\n */\nfunction resetPriceMovement() {\n    var btns = document.getElementsByClassName('purchase_button');\n    for(var i = 0; i < btns.length; i++) {\n        btns[i].setAttribute('data-display_value', '');\n        btns[i].setAttribute('data-payout', '');\n    }\n}\n\n/*\n * function to toggle active class of menu\n */\nfunction toggleActiveNavMenuElement(nav, eventElement) {\n    'use strict';\n    var liElements = nav.getElementsByTagName(\"li\");\n    var classes = eventElement.classList;\n\n    if (!classes.contains('active')) {\n        for (var i = 0, len = liElements.length; i < len; i++){\n            liElements[i].classList.remove('active');\n        }\n        classes.add('active');\n    }\n}\n\nfunction toggleActiveCatMenuElement(nav, eventElementId) {\n    'use strict';\n    var eventElement = document.getElementById(eventElementId);\n    var liElements = nav.querySelectorAll('.active, .a-active');\n    var classes = eventElement.classList;\n\n    if (!classes.contains('active')) {\n        for (var i = 0, len = liElements.length; i < len; i++){\n            liElements[i].classList.remove('active');\n            liElements[i].classList.remove('a-active');\n        }\n        classes.add('a-active');\n\n        i = 0;\n        var parent;\n        while((parent = eventElement.parentElement) && parent.id !== nav.id && i < 10){\n            if(parent.tagName === 'LI'){\n                parent.classList.add('active');\n            }\n            eventElement = parent;\n            i++;\n        }\n    }\n}\n\n/*\n * function to set placeholder text based on current form, used for mobile menu\n */\nfunction setFormPlaceholderContent(name) {\n    'use strict';\n    var formPlaceholder = document.getElementById('contract_form_nav_placeholder');\n    if (formPlaceholder) {\n        name = name || Defaults.get('formname');\n        formPlaceholder.textContent = Contract.contractForms()[name];\n    }\n}\n\n/*\n * function to display the profit and return of bet under each trade container except spreads\n */\nfunction displayCommentPrice(node, currency, type, payout) {\n    'use strict';\n\n    if (node && type && payout) {\n        var profit = payout - type,\n            return_percent = (profit/type)*100,\n            comment = Content.localize().textNetProfit + ': ' + format_money(currency, profit.toFixed(2)) + ' | ' + Content.localize().textReturn + ' ' + return_percent.toFixed(1) + '%';\n\n        if (isNaN(profit) || isNaN(return_percent)) {\n            node.hide();\n        } else {\n            node.show();\n            node.textContent = comment;\n        }\n    }\n}\n\n/*\n * function to display comment for spreads\n */\nfunction displayCommentSpreads(node, currency, point) {\n    'use strict';\n\n    if (node && point) {\n        var amountPerPoint = document.getElementById('amount_per_point').value,\n            stopType = document.querySelector('input[name=\"stop_type\"]:checked').value,\n            stopLoss = document.getElementById('stop_loss').value,\n            displayAmount = 0;\n\n        if (isNaN(stopLoss) || isNaN(amountPerPoint)) {\n            node.hide();\n        } else {\n            if (stopType === 'point') {\n                displayAmount = parseFloat(parseFloat(amountPerPoint) * parseFloat(stopLoss));\n            } else {\n                displayAmount = parseFloat(stopLoss);\n            }\n            node.textContent = Content.localize().textSpreadDepositComment + \" \" + format_money(currency, displayAmount.toFixed(2)) + \" \" + Content.localize().textSpreadRequiredComment + \": \" + point + \" \" + Content.localize().textSpreadPointsComment;\n        }\n    }\n}\n\n/*\n * This function is used in case where we have input and we don't want to fire\n * event on every change while user is typing for example in case of amount if\n * we want to change 10 to 1000 i.e. two zeros so two input events will be fired\n * normally, this function delay the event based on delay specified in milliseconds\n *\n * Reference\n * http://davidwalsh.name/javascript-debounce-function\n */\nfunction debounce(func, wait, immediate) {\n    'use strict';\n    var timeout;\n    var delay = wait || 500;\n    return function() {\n        var context = this, args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, delay);\n        if (callNow) func.apply(context, args);\n    };\n}\n\n/*\n * function to check if selected market is allowed for current user\n */\nfunction getDefaultMarket() {\n    'use strict';\n    var mkt = Defaults.get('market');\n    var markets = Symbols.markets(1);\n    if (!mkt || !markets[mkt]) {\n        var sorted_markets = Object.keys(Symbols.markets()).filter(function(v){return markets[v].is_active;}).sort(function(a, b) {\n            return getMarketsOrder(a) - getMarketsOrder(b);\n        });\n        mkt = sorted_markets[0];\n    }\n    return mkt;\n}\n\n// Order\nfunction getMarketsOrder(market) {\n    var order = {\n        'forex': 1,\n        'volidx': 2,\n        'indices': 3,\n        'stocks': 4,\n        'commodities': 5\n    };\n    return order[market] ? order[market] : 100;\n}\n\n/*\n * this is invoked when submit button is clicked and prevents reloading of page\n */\nfunction addEventListenerForm(){\n    'use strict';\n    document.getElementById('websocket_form').addEventListener(\"submit\", function(evt){\n        evt.currentTarget.classList.add('submitted');\n        evt.preventDefault();\n        return false;\n    }, false);\n}\n\n/*\n * this creates a button, clicks it, and destroys it to invoke the listener\n */\nfunction submitForm(form) {\n    'use strict';\n    var button = form.ownerDocument.createElement('input');\n    button.style.display = 'none';\n    button.type = 'submit';\n    form.appendChild(button).click();\n    form.removeChild(button);\n}\n\n/*\n * function to display indicative barrier\n */\nfunction displayIndicativeBarrier() {\n    'use strict';\n    var unit = document.getElementById('duration_units'),\n        currentTick = Tick.quote(),\n        indicativeBarrierTooltip = document.getElementById('indicative_barrier_tooltip'),\n        indicativeHighBarrierTooltip = document.getElementById('indicative_high_barrier_tooltip'),\n        indicativeLowBarrierTooltip = document.getElementById('indicative_low_barrier_tooltip'),\n        barrierElement = document.getElementById('barrier'),\n        highBarrierElement = document.getElementById('barrier_high'),\n        lowBarrierElement = document.getElementById('barrier_low');\n\n    if (unit && (!isVisible(unit) || unit.value !== 'd') && currentTick && !isNaN(currentTick)) {\n        var decimalPlaces = countDecimalPlaces(currentTick);\n        if (indicativeBarrierTooltip && isVisible(indicativeBarrierTooltip)) {\n            var barrierValue = isNaN(parseFloat(barrierElement.value))?0:parseFloat(barrierElement.value);\n            indicativeBarrierTooltip.textContent = (parseFloat(currentTick) + barrierValue).toFixed(decimalPlaces);\n        }\n\n        if (indicativeHighBarrierTooltip && isVisible(indicativeHighBarrierTooltip)) {\n            var highBarrierValue = isNaN(parseFloat(highBarrierElement.value))?0:parseFloat(highBarrierElement.value);\n            indicativeHighBarrierTooltip.textContent = (parseFloat(currentTick) + highBarrierValue).toFixed(decimalPlaces);\n        }\n\n        if (indicativeLowBarrierTooltip && isVisible(indicativeLowBarrierTooltip)) {\n            var lowBarrierValue = isNaN(parseFloat(lowBarrierElement.value))?0:parseFloat(lowBarrierElement.value);\n            indicativeLowBarrierTooltip.textContent = (parseFloat(currentTick) + lowBarrierValue).toFixed(decimalPlaces);\n        }\n    } else {\n        indicativeBarrierTooltip.textContent = '';\n        indicativeHighBarrierTooltip.textContent = '';\n        indicativeLowBarrierTooltip.textContent = '';\n    }\n}\n\n/*\n * function to sort the duration in ascending order\n */\nfunction durationOrder(duration){\n    'use strict';\n    var order = {\n        t:1,\n        s:2,\n        m:3,\n        h:4,\n        d:5\n    };\n    return order[duration];\n}\n\nfunction marketOrder(market){\n    'use strict';\n    var order = {\n        forex:               0,\n            major_pairs:     1,\n            minor_pairs:     2,\n            smart_fx:        3,\n        indices:             4,\n            asia_oceania:    5,\n            europe_africa:   6,\n            americas:        7,\n            otc_index:       8,\n        stocks:              9,\n            au_otc_stock:    10,\n            ge_otc_stock:    11,\n            india_otc_stock: 12,\n            uk_otc_stock:    13,\n            us_otc_stock:    14,\n        commodities:         15,\n            metals:          16,\n            energy:          17,\n        volidx:              18,\n            random_index:    19,\n            random_daily:    20,\n            random_nightly:  21\n    };\n    return order[market];\n}\n\nfunction marketSort(a,b){\n    if(marketOrder(a) > marketOrder(b)){\n        return 1;\n    }\n    else if(marketOrder(a) < marketOrder(b)){\n        return -1;\n    }\n    else{\n        return 0;\n    }\n}\n\nfunction displayTooltip(market, symbol){\n    'use strict';\n    var tip = document.getElementById('symbol_tip'),\n        guide = document.getElementById('guideBtn'),\n        app = document.getElementById('androidApp'),\n        appstore = document.getElementById('appstore');\n    if (!market || !symbol) return;\n    if (market.match(/^volidx/) || symbol.match(/^R/) || market.match(/^random_index/) || market.match(/^random_daily/)){\n        if (guide) guide.hide();\n        tip.show();\n        tip.setAttribute('target', page.url.url_for('/get-started/volidx-markets'));\n        app.show();\n        appstore.show();\n    } else {\n      app.hide();\n      appstore.hide();\n      tip.hide();\n      if (guide) guide.show();\n    }\n    if (market.match(/^otc_index/) || symbol.match(/^OTC_/) || market.match(/stock/) || (markets.by_symbol(symbol) && markets.by_symbol(symbol).market.name.match(/stocks/))){\n        tip.show();\n        tip.setAttribute('target', page.url.url_for('/get-started/otc-indices-stocks'));\n    }\n    if (market.match(/^random_index/) || symbol.match(/^R_/)){\n        tip.setAttribute('target', page.url.url_for('/get-started/volidx-markets', '#volidx-indices'));\n    }\n    if (market.match(/^random_daily/) || symbol.match(/^RDB/) || symbol.match(/^RDMO/) || symbol.match(/^RDS/)){\n        tip.setAttribute('target', page.url.url_for('/get-started/volidx-markets', '#volidx-quotidians'));\n    }\n    if (market.match(/^smart_fx/) || symbol.match(/^WLD/)){\n        tip.show();\n        tip.setAttribute('target', page.url.url_for('/get-started/smart-indices', '#world-fx-indices'));\n    }\n}\n\n/*\n * count number of decimal places in spot so that we can make barrier to same decimal places\n */\nfunction countDecimalPlaces(num) {\n    'use strict';\n    if (!isNaN(num)) {\n        var str = num.toString();\n        if (str.indexOf('.') !== -1) {\n            return str.split('.')[1].length;\n        } else {\n            return 0;\n        }\n    }\n}\n\nfunction selectOption(option, select){\n    var options = select.getElementsByTagName('option');\n    var contains = 0;\n    for(var i = 0; i < options.length; i++){\n        if(options[i].value==option && !options[i].hasAttribute('disabled')){\n            contains = 1;\n            break;\n        }\n    }\n    if(contains){\n        select.value = option;\n        return true;\n    }\n    else{\n        return false;\n    }\n}\n\nfunction updatePurchaseStatus(final_price, pnl, contract_status){\n    $('#contract_purchase_heading').text(text.localize(contract_status));\n    $payout = $('#contract_purchase_payout');\n    $cost = $('#contract_purchase_cost');\n    $profit = $('#contract_purchase_profit');\n\n    $payout.html(Content.localize().textBuyPrice + '<p>'+addComma(Math.abs(pnl))+'</p>');\n    $cost.html(Content.localize().textFinalPrice + '<p>'+addComma(final_price)+'</p>');\n    if(!final_price){\n        $profit.html(Content.localize().textLoss + '<p>'+addComma(pnl)+'</p>');\n    }\n    else{\n        $profit.html(Content.localize().textProfit + '<p>'+addComma(Math.round((final_price-pnl)*100)/100)+'</p>');\n    }\n}\n\nfunction updateWarmChart(){\n    var $chart = $('#trading_worm_chart');\n    var spots =  Object.keys(Tick.spots()).sort(function(a,b){return a-b;}).map(function(v){return Tick.spots()[v];});\n    var chart_config = {\n        type: 'line',\n        lineColor: '#606060',\n        fillColor: false,\n        spotColor: '#00f000',\n        minSpotColor: '#f00000',\n        maxSpotColor: '#0000f0',\n        highlightSpotColor: '#ffff00',\n        highlightLineColor: '#000000',\n        spotRadius: 1.25\n    };\n    if($chart){\n        $chart.sparkline(spots, chart_config);\n        if(spots.length){\n            $chart.show();\n        }\n        else{\n            $chart.hide();\n        }\n    }\n}\n\nfunction reloadPage(){\n    Defaults.remove('market', 'underlying', 'formname',\n        'date_start','expiry_type', 'expiry_date', 'expirt_time', 'duration_units', 'diration_value',\n        'amount', 'amount_type', 'currency', 'stop_loss', 'stop_type', 'stop_profit', 'amount_per_point', 'prediction');\n    location.reload();\n}\n\nfunction addComma(num){\n    num = (num || 0) * 1;\n    return num.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction showHighchart(){\n  Content.populate();\n\n  if (window.chartAllowed) {\n    chartFrameSource();\n  } else {\n    document.getElementById('chart_frame').src = '';\n    $('#trade_live_chart').hide();\n    $('#chart-error').text(text.localize('Chart is not available for this underlying.'))\n                     .show();\n    return;\n  }\n}\n\nfunction chartFrameSource() {\n  if ($('#tab_graph').hasClass('active') && (sessionStorage.getItem('old_underlying') !== sessionStorage.getItem('underlying') || $('#chart_frame').attr('src') === '')) {\n      setChartSource();\n      sessionStorage.setItem('old_underlying', document.getElementById('underlying').value);\n  }\n  $('#chart-error').hide();\n  $('#trade_live_chart').show();\n}\n\nfunction setChartSource() {\n  document.getElementById('chart_frame').src = 'https://webtrader.binary.com?affiliates=true&instrument=' + document.getElementById('underlying').value + '&timePeriod=1t&gtm=true&lang=' + (page.language() || 'en').toLowerCase();\n}\n\n//used temporarily for mocha test\nif (typeof module !== 'undefined') {\n    module.exports = {\n        addComma: addComma\n    };\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/common.js\n ** module id = 56\n ** module chunks = 0\n **/","var Content = (function() {\n    'use strict';\n\n    var localize = {};\n\n    var populate = function() {\n        localize = {\n            textStartTime: text.localize('Start time'),\n            textSpot: text.localize('Spot'),\n            textBarrier: text.localize('Barrier'),\n            textBarrierOffset: text.localize('Barrier offset'),\n            textHighBarrier: text.localize('High barrier'),\n            textHighBarrierOffset: text.localize('High barrier offset'),\n            textLowBarrier: text.localize('Low barrier'),\n            textLowBarrierOffset: text.localize('Low barrier offset'),\n            textPayout: text.localize('Payout'),\n            textStake: text.localize('Stake'),\n            textPurchase: text.localize('Purchase'),\n            textDuration: text.localize('Duration'),\n            textEndTime: text.localize('End Time'),\n            textMinDuration: text.localize('min'),\n            textMinDurationTooltip: text.localize('minimum available duration'),\n            textBarrierOffsetTooltip: text.localize(\"Enter the barrier in terms of the difference from the spot price. If you enter +0.005, then you will be purchasing a contract with a barrier 0.005 higher than the entry spot. The entry spot will be the next tick after your order has been received\"),\n            textDurationSeconds: text.localize('seconds'),\n            textDurationMinutes: text.localize('minutes'),\n            textDurationHours: text.localize('hours'),\n            textDurationDays: text.localize('days'),\n            textDurationTicks: text.localize('ticks'),\n            textNetProfit: text.localize('Net profit'),\n            textReturn: text.localize('Return'),\n            textNow: text.localize('Now'),\n            textContractConfirmationHeading: text.localize('Contract Confirmation'),\n            textContractConfirmationReference: text.localize('Your transaction reference is'),\n            textContractConfirmationBalance: text.localize('Account balance:'),\n            textFormRiseFall: text.localize('Rise/Fall'),\n            textFormHigherLower: text.localize('Higher/Lower'),\n            textFormUpDown: text.localize('Up/Down'),\n            textFormInOut: text.localize('In/Out'),\n            textContractPeriod: text.localize('Period'),\n            predictionLabel: text.localize('Last Digit Prediction'),\n            textContractConfirmationPayout: text.localize('Potential Payout'),\n            textContractConfirmationCost: text.localize('Total Cost'),\n            textContractConfirmationProfit: text.localize('Potential Profit'),\n            textAmountPerPoint: text.localize('Amount per point'),\n            textStopLoss: text.localize('Stop-loss'),\n            textStopProfit: text.localize('Stop-profit'),\n            textStopType: text.localize('Stop-type'),\n            textStopTypePoints: text.localize('Points'),\n            textContractConfirmationButton: text.localize('View'),\n            textIndicativeBarrierTooltip: text.localize('This is an indicative barrier. Actual barrier will be the entry spot plus the barrier offset.'),\n            textSpreadTypeLong: text.localize('Long'),\n            textSpreadTypeShort: text.localize('Short'),\n            textSpreadDepositComment: text.localize('Deposit of'),\n            textSpreadRequiredComment: text.localize('is required. Current spread'),\n            textSpreadPointsComment: text.localize('points'),\n            textContractStatusWon: text.localize('This contract won'),\n            textContractStatusLost: text.localize('This contract lost'),\n            textTickResultLabel: text.localize('Tick'),\n            textStatement: text.localize('Statement'),\n            textDate: text.localize('Date'),\n            textRef: text.localize('Ref.'),\n            textAction: text.localize('Action'),\n            textDescription: text.localize('Description'),\n            textCreditDebit: text.localize('Credit/Debit'),\n            textBalance: text.localize('Balance'),\n            textDetails: text.localize('Details'),\n            textProfitTable: text.localize('Profit Table'),\n            textPurchaseDate: text.localize('Date (GMT)'),\n            textContract: text.localize('Contract'),\n            textPurchasePrice: text.localize('Purchase Price'),\n            textSaleDate: text.localize('Sale Date'),\n            textSalePrice: text.localize('Sale Price'),\n            textProfitLoss: text.localize('Profit/Loss'),\n            textTotalProfitLoss: text.localize('Total Profit/Loss'),\n            textItem: text.localize('Item'),\n            textLimit: text.localize('Limit'),\n            textMaxOpenPosition: text.localize('Maximum number of open positions'),\n            textMaxOpenPositionTooltip: text.localize('Represents the maximum number of outstanding contracts in your portfolio. Each line in your portfolio counts for one open position. Once the maximum is reached, you will not be able to open new positions without closing an existing position first.'),\n            textMaxAccBalance: text.localize('Maximum account cash balance'),\n            textMaxAccBalanceTooltip: text.localize('Represents the maximum amount of cash that you may hold in your account.  If the maximum is reached, you will be asked to withdraw funds.'),\n            textMaxDailyTurnover: text.localize('Maximum daily turnover'),\n            textMaxDailyTurnoverTooltip: text.localize('Represents the maximum volume of contracts that you may purchase in any given trading day.'),\n            textMaxAggregate: text.localize('Maximum aggregate payouts on open positions'),\n            textMaxAggregateTooltip: text.localize('Presents the maximum aggregate payouts on outstanding contracts in your portfolio. If the maximum is attained, you may not purchase additional contracts without first closing out existing positions.'),\n            textAuthenticatedWithdrawal: text.localize('Your account is fully authenticated and your withdrawal limits have been lifted.'),\n            textWithdrawalLimits: text.localize('Your withdrawal limit is [_1] [_2].'),\n            textWithdrawalLimitsEquivalant: text.localize('Your withdrawal limit is [_1] [_2] (or equivalent in other currency).'),\n            textWithrawalAmount: text.localize('You have already withdrawn [_1] [_2].'),\n            textWithrawalAmountEquivalant: text.localize('You have already withdrawn the equivalent of [_1] [_2].'),\n            textCurrentMaxWithdrawal: text.localize('Therefore your current immediate maximum withdrawal (subject to your account having sufficient funds) is [_1] [_2].'),\n            textCurrentMaxWithdrawalEquivalant: text.localize('Therefore your current immediate maximum withdrawal (subject to your account having sufficient funds) is [_1] [_2] (or equivalent in other currency).'),\n            textWithdrawalLimitsEquivalantDay: text.localize('Your [_1] day withdrawal limit is currently [_2] [_3] (or equivalent in other currency).'),\n            textWithrawalAmountEquivalantDay: text.localize('You have already withdrawn the equivalent of [_1] [_2] in aggregate over the last [_3] days.'),\n            textBuyPrice: text.localize('Buy price'),\n            textFinalPrice: text.localize('Final price'),\n            textLoss: text.localize('Loss'),\n            textProfit: text.localize('Profit'),\n            textFormMatchesDiffers: text.localize('Matches/Differs'),\n            textFormEvenOdd: text.localize('Even/Odd'),\n            textFormOverUnder: text.localize('Over/Under'),\n            textMessageRequired: text.localize('This field is required.'),\n            textMessageCountLimit: text.localize('You should enter between [_1] characters.'), // [_1] should be replaced by a range. sample: (6-20)\n            textMessageJustAllowed: text.localize('Only [_1] are allowed.'), // [_1] should be replaced by values including: letters, numbers, space, period, ...\n            textMessageValid: text.localize('Please submit a valid [_1].'), // [_1] should be replaced by values such as email address\n            textLetters: text.localize('letters'),\n            textNumbers: text.localize('numbers'),\n            textSpace: text.localize('space'),\n            textPeriod: text.localize('period'),\n            textComma: text.localize('comma'),\n            textHyphen: text.localize('hyphen'),\n            textApost: text.localize('apostrophe'),\n            textPassword: text.localize('password'),\n            textPasswordsNotMatching: text.localize('The two passwords that you entered do not match.'),\n            textClickHereToRestart: text.localize('Your token has expired. Please click <a class=\"pjaxload\" href=\"[_1]\">here</a> to restart the verification process.'),\n            textDuplicatedEmail: text.localize('Your provided email address is already in use by another Login ID. According to our terms and conditions, you may only register once through our site. If you have forgotten the password of your existing account, please <a href=\"[_1]\">try our password recovery tool</a> or contact customer service.'),\n            textAsset: text.localize('Asset'),\n            textOpens: text.localize('Opens'),\n            textCloses: text.localize('Closes'),\n            textSettles: text.localize('Settles'),\n            textUpcomingEvents: text.localize('Upcoming Events'),\n            textMr: text.localize('Mr'),\n            textMrs: text.localize('Mrs'),\n            textMs: text.localize('Ms'),\n            textMiss: text.localize('Miss'),\n            textErrorBirthdate: text.localize('Please input a valid date'),\n            textSelect: text.localize('Please select'),\n            textUnavailableReal: text.localize('Sorry, account opening is unavailable.'),\n            textMessageMinRequired: text.localize('Minimum of [_1] characters required.'),\n            textFeatureUnavailable: text.localize('Sorry, this feature is not available.'),\n            textMessagePasswordScore: text.localize( 'Password score is: [_1]. Passing score is: 20.'),\n            textShouldNotLessThan: text.localize('Please enter a number greater or equal to [_1].'),\n            textNumberLimit: text.localize('Please enter a number between [_1].')       // [_1] should be a range\n        };\n\n        var starTime = document.getElementById('start_time_label');\n        if (starTime) {\n            starTime.textContent = localize.textStartTime;\n        }\n\n        var minDurationTooltip = document.getElementById('duration_tooltip');\n        if (minDurationTooltip) {\n            minDurationTooltip.textContent = localize.textMinDuration;\n            minDurationTooltip.setAttribute('data-balloon', localize.textMinDurationTooltip);\n        }\n\n        var spotLabel = document.getElementById('spot_label');\n        if (spotLabel) {\n            spotLabel.textContent = localize.textSpot;\n        }\n\n        var barrierTooltip = document.getElementById('barrier_tooltip');\n        if (barrierTooltip) {\n            barrierTooltip.textContent = localize.textBarrierOffset;\n            barrierTooltip.setAttribute('data-balloon', localize.textBarrierOffsetTooltip);\n        }\n\n        var barrierSpan = document.getElementById('barrier_span');\n        if (barrierSpan) {\n            barrierSpan.textContent = localize.textBarrier;\n        }\n\n        var barrierHighTooltip = document.getElementById('barrier_high_tooltip');\n        if (barrierHighTooltip) {\n            barrierHighTooltip.textContent = localize.textHighBarrierOffset;\n            barrierHighTooltip.setAttribute('data-balloon', localize.textBarrierOffsetTooltip);\n        }\n        var barrierHighSpan = document.getElementById('barrier_high_span');\n        if (barrierHighSpan) {\n            barrierHighSpan.textContent = localize.textHighBarrier;\n        }\n\n        var barrierLowTooltip = document.getElementById('barrier_low_tooltip');\n        if (barrierLowTooltip) {\n            barrierLowTooltip.textContent = localize.textLowBarrierOffset;\n            barrierLowTooltip.setAttribute('data-balloon', localize.textBarrierOffsetTooltip);\n        }\n        var barrierLowSpan = document.getElementById('barrier_low_span');\n        if (barrierLowSpan) {\n            barrierLowSpan.textContent = localize.textLowBarrier;\n        }\n\n        var predictionLabel = document.getElementById('prediction_label');\n        if (predictionLabel) {\n            predictionLabel.textContent = localize.predictionLabel;\n        }\n\n        var payoutOption = document.getElementById('payout_option');\n        if (payoutOption) {\n            payoutOption.textContent = localize.textPayout;\n        }\n\n        var stakeOption = document.getElementById('stake_option');\n        if (stakeOption) {\n            stakeOption.textContent = localize.textStake;\n        }\n\n        var purchaseButtonTop = document.getElementById('purchase_button_top');\n        if (purchaseButtonTop) {\n            purchaseButtonTop.textContent = localize.textPurchase;\n        }\n\n        var purchaseButtonBottom = document.getElementById('purchase_button_bottom');\n        if (purchaseButtonBottom) {\n            purchaseButtonBottom.textContent = localize.textPurchase;\n        }\n\n        var period_label = document.getElementById('period_label');\n        if (period_label) {\n            period_label.textContent = localize.textContractPeriod;\n        }\n\n        var amount_per_point_label = document.getElementById('amount_per_point_label');\n        if (amount_per_point_label) {\n            amount_per_point_label.textContent = localize.textAmountPerPoint;\n        }\n\n        var stop_loss_label = document.getElementById('stop_loss_label');\n        if (stop_loss_label) {\n            stop_loss_label.textContent = localize.textStopLoss;\n        }\n\n        var stop_profit_label = document.getElementById('stop_profit_label');\n        if (stop_profit_label) {\n            stop_profit_label.textContent = localize.textStopProfit;\n        }\n\n        var stop_type_label = document.getElementById('stop_type_label');\n        if (stop_type_label) {\n            stop_type_label.textContent = localize.textStopType;\n        }\n\n        var stop_type_points = document.getElementById('stop_type_points_label');\n        if (stop_type_points) {\n            stop_type_points.textContent = localize.textStopTypePoints;\n        }\n\n        var indicative_barrier_tooltip = document.getElementById('indicative_barrier_tooltip');\n        if (indicative_barrier_tooltip) {\n            indicative_barrier_tooltip.setAttribute('data-balloon', localize.textIndicativeBarrierTooltip);\n        }\n\n        var indicative_high_barrier_tooltip = document.getElementById('indicative_high_barrier_tooltip');\n        if (indicative_high_barrier_tooltip) {\n            indicative_high_barrier_tooltip.setAttribute('data-balloon', localize.textIndicativeBarrierTooltip);\n        }\n\n        var indicative_low_barrier_tooltip = document.getElementById('indicative_low_barrier_tooltip');\n        if (indicative_low_barrier_tooltip) {\n            indicative_low_barrier_tooltip.setAttribute('data-balloon', localize.textIndicativeBarrierTooltip);\n        }\n\n        var jpbarrier_label = document.getElementById('jbarrier_label');\n        if (jpbarrier_label) {\n            jpbarrier_label.textContent = localize.textExercisePrice;\n        }\n\n        var jpbarrier_high_label = document.getElementById('jbarrier_high_label');\n        if (jpbarrier_high_label) {\n            jpbarrier_high_label.textContent = localize.textHighBarrier;\n        }\n\n        var jpbarrier_low_label = document.getElementById('jbarrier_low_label');\n        if (jpbarrier_low_label) {\n            jpbarrier_low_label.textContent = localize.textLowBarrier;\n        }\n    };\n\n    var errorMessage = function(messageType, param) {\n        var msg = \"\",\n            separator = ', ';\n        switch (messageType) {\n            case 'req':\n                msg = localize.textMessageRequired;\n                break;\n            case 'reg':\n                if (param)\n                    msg = template(localize.textMessageJustAllowed, [param.join(separator)]);\n                break;\n            case 'range':\n                if (param)\n                    msg = template(localize.textMessageCountLimit, [param]);\n                break;\n            case 'valid':\n                if (param)\n                    msg = template(localize.textMessageValid, [param]);\n                break;\n            case 'min':\n                if (param)\n                    msg = template(localize.textMessageMinRequired, [param]);\n                break;\n            case 'pass':\n                if (param)\n                    msg = template(localize.textMessagePasswordScore, [param]);\n                break;\n            case 'number_not_less_than':\n                msg = template(localize.textShouldNotLessThan, [param]);\n                break;\n            case 'number_should_between':\n                msg = template(localize.textNumberLimit, [param]);\n                break;\n            default:\n                break;\n        }\n        return msg;\n    };\n\n    return {\n        localize: function() {\n            return localize;\n        },\n        populate: populate,\n        errorMessage: errorMessage\n    };\n\n})();\n\nmodule.exports = {\n    Content: Content,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/content.js\n ** module id = 57\n ** module chunks = 0\n **/","/*\n * Contract object mocks the trading form we have on our website\n * It parses the contracts json we get from socket.send({contracts_for: 'R_50'})\n * and gives back barriers, startDate, durations etc\n *\n *\n * Usage:\n *\n * use `Contract.details` to populate this object\n *\n * then use\n *\n * `Contract.durations()` to get durations like seconds, hours etc\n * `Contract.open()` `Contract.close()`\n * `Contract.barriers` if applicable for current underlying\n */\nvar Contract = (function() {\n    'use strict';\n\n    var contractDetails = {},\n        durations = {},\n        startDates = {},\n        barriers = {},\n        contractType = {},\n        open, close, form, barrier;\n\n    var populate_durations = function(currentContract) {\n        var currentCategory = currentContract['contract_category'];\n        if (!durations[currentContract['expiry_type']]) {\n            durations[currentContract['expiry_type']] = {};\n        }\n\n        if (!durations[currentContract['expiry_type']][currentCategory]) {\n            durations[currentContract['expiry_type']][currentCategory] = {};\n        }\n\n        if (!durations[currentContract['expiry_type']][currentCategory][currentContract['barrier_category']]) {\n            durations[currentContract['expiry_type']][currentCategory][currentContract['barrier_category']] = {};\n        }\n\n        if (!durations[currentContract['expiry_type']][currentCategory][currentContract['barrier_category']][currentContract['start_type']]) {\n            durations[currentContract['expiry_type']][currentCategory][currentContract['barrier_category']][currentContract['start_type']] = {};\n        }\n\n        durations[currentContract['expiry_type']][currentCategory][currentContract['barrier_category']][currentContract['start_type']]['max_contract_duration'] = currentContract['max_contract_duration'];\n\n        durations[currentContract['expiry_type']][currentCategory][currentContract['barrier_category']][currentContract['start_type']]['min_contract_duration'] = currentContract['min_contract_duration'];\n    };\n\n    var details = function(formName) {\n        var contracts = Contract.contracts()['contracts_for'],\n            contractCategories = {},\n            barrierCategory;\n\n        if (!contracts) return;\n\n        startDates = { has_spot: 0, list: [] };\n        durations = {};\n        open = contracts['open'];\n        close = contracts['close'];\n\n        var formBarrier = getFormNameBarrierCategory(formName);\n        form = formName = formBarrier['formName'];\n        barrier = barrierCategory = formBarrier['barrierCategory'];\n\n        contracts.available.forEach(function(currentObj) {\n            var contractCategory = currentObj['contract_category'];\n\n            if (formName && formName === contractCategory) {\n                if (barrierCategory) {\n                    if (barrierCategory === currentObj['barrier_category']) {\n                        populate_durations(currentObj);\n                    }\n                } else {\n                    populate_durations(currentObj);\n                }\n\n                if (currentObj.forward_starting_options && currentObj['start_type'] === 'forward' && sessionStorage.formname !== 'higherlower') {\n                    startDates.list = currentObj.forward_starting_options;\n                } else if (currentObj.start_type === 'spot') {\n                    startDates.has_spot = 1;\n                }\n\n                var symbol = currentObj['underlying_symbol'];\n                if (currentObj.barrier_category && currentObj.barrier_category !== \"non_financial\") {\n                    if (!barriers.hasOwnProperty(symbol)) {\n                        barriers[symbol] = {};\n                    }\n                    if (currentObj.barriers === 1) {\n                        barriers[symbol][contractCategory] = {\n                            count: 1,\n                            barrier: currentObj['barrier'],\n                            barrier_category: currentObj['barrier_category']\n                        };\n                    } else if (currentObj.barriers === 2) {\n                        barriers[symbol][contractCategory] = {\n                            count: 2,\n                            barrier: currentObj['high_barrier'],\n                            barrier1: currentObj['low_barrier'],\n                            barrier_category: currentObj['barrier_category']\n                        };\n                    }\n                }\n\n                if (!contractType[contractCategory]) {\n                    contractType[contractCategory] = {};\n                }\n\n                if (!contractType[contractCategory].hasOwnProperty(currentObj['contract_type'])) {\n                    contractType[contractCategory][currentObj['contract_type']] = text.localize(currentObj['contract_display']);\n                }\n            }\n        });\n\n        if (formName && barrierCategory) {\n            if (barriers && barriers[formName] && barriers[formName]['barrier_category'] !== barrierCategory) {\n                barriers = {};\n            }\n        }\n    };\n\n    var getContracts = function(underlying) {\n        BinarySocket.send({ contracts_for: underlying });\n    };\n\n    var getContractForms = function() {\n        var contracts = Contract.contracts()['contracts_for'],\n            tradeContractForms = {};\n\n        if (!contracts) return;\n\n        contracts.available.forEach(function(currentObj) {\n            var contractCategory = currentObj['contract_category'];\n            if (contractCategory && !tradeContractForms.hasOwnProperty(contractCategory)) {\n                if (contractCategory === 'callput') {\n                    if (currentObj['barrier_category'] === 'euro_atm') {\n                        tradeContractForms['risefall'] = Content.localize().textFormRiseFall;\n                    } else {\n                        tradeContractForms['higherlower'] = Content.localize().textFormHigherLower;\n                    }\n                } else {\n                    tradeContractForms[contractCategory] = text.localize(currentObj['contract_category_display']);\n                    if (contractCategory === 'digits') {\n                        tradeContractForms['matchdiff'] = Content.localize().textFormMatchesDiffers;\n                        if (page.language() !== 'ID') {\n                          tradeContractForms['evenodd'] = Content.localize().textFormEvenOdd;\n                          tradeContractForms['overunder'] = Content.localize().textFormOverUnder;\n                        }\n                    }\n                }\n            }\n        });\n\n        if (!objectNotEmpty(tradeContractForms)) return;\n\n        if (tradeContractForms.risefall || tradeContractForms.higherlower) {\n            tradeContractForms['updown'] = Content.localize().textFormUpDown;\n        }\n\n        if (tradeContractForms.endsinout || tradeContractForms.staysinout) {\n            tradeContractForms['inout'] = Content.localize().textFormInOut;\n        }\n\n        return tradeContractForms;\n    };\n\n    return {\n        details: details,\n        getContracts: getContracts,\n        contractForms: getContractForms,\n        open: function() {\n            return open; },\n        close: function() {\n            return close; },\n        contracts: function() {\n            return contractDetails; },\n        durations: function() {\n            return durations; },\n        startDates: function() {\n            return startDates; },\n        barriers: function() {\n            return barriers; },\n        contractType: function() {\n            return contractType; },\n        form: function() {\n            return form; },\n        barrier: function() {\n            return barrier; },\n        setContracts: function(data) {\n            contractDetails = data;\n        }\n    };\n\n})();\n\nmodule.exports = {\n    Contract: Contract,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/contract.js\n ** module id = 58\n ** module chunks = 0\n **/","/*\n * Handles currency display\n *\n * It process 'socket.send({payout_currencies:1})` response\n * and display them\n */\nfunction displayCurrencies(selected) {\n    'use strict';\n\n    var target = document.getElementById('currency'),\n        fragment =  document.createDocumentFragment(),\n        currencies = page.client.get_storage_value('currencies').split(',');\n\n    if (!target) {\n        return;\n    }\n\n    while (target && target.firstChild) {\n        target.removeChild(target.firstChild);\n    }\n\n    currencies.forEach(function (currency) {\n        var option = document.createElement('option'),\n            content = document.createTextNode(currency);\n\n        option.setAttribute('value', currency);\n        if (selected && selected == key) {\n            option.setAttribute('selected', 'selected');\n        }\n\n        option.appendChild(content);\n        fragment.appendChild(option);\n    });\n\n    target.appendChild(fragment);\n    Defaults.set('currency', target.value);\n}\n\nmodule.exports = {\n    displayCurrencies: displayCurrencies,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/currency.js\n ** module id = 59\n ** module chunks = 0\n **/","/*\n * Handles trading page default values\n * \n * Priorities:\n * 1. Client's input: on each change to form, it will reflect to both query string & session storage\n * 2. Query string parameters: will change session storage values\n * 3. Session storage values: if none of the above, it will be the source\n *\n */\n\nvar Defaults = (function(){\n    'use strict';\n\n    var params = {};\n    var getDefault = function(key) {\n        var pValue = params[key] || page.url.param(key),\n            sValue = sessionStorage.getItem(key);\n        if(pValue && (!sValue || pValue != sValue)) {\n            sessionStorage.setItem(key, pValue);\n        }\n        if(!pValue && sValue) {\n            setDefault(key, sValue);\n        }\n        return pValue || sValue;\n    };\n\n    var setDefault = function(key, value) {\n        if (!key) return;\n        value = value || '';\n        if(!objectNotEmpty(params)) params = page.url.params_hash();\n        if(params[key] != value) {\n            params[key] = value;\n            // to increase speed, do not set values when form is still loading\n            if(!isVisible(document.getElementById('trading_init_progress'))) {\n                sessionStorage.setItem(key, value);\n                updateURL();\n            }\n        }\n    };\n\n    var removeDefault = function() {\n        if(!objectNotEmpty(params)) params = page.url.params_hash();\n        var isUpdated = false;\n        for (var i = 0; i < arguments.length; i++) {\n            if(params.hasOwnProperty(arguments[i])) {\n                sessionStorage.removeItem(arguments[i]);\n                delete(params[arguments[i]]);\n                isUpdated = true;\n            }\n        }\n        if(isUpdated) {\n            updateURL();\n        }\n    };\n\n    var updateAll = function() {\n        for(var key in params)\n            if (params.hasOwnProperty(key)) {\n                sessionStorage.setItem(key, params[key]);\n            }\n        updateURL();\n    };\n\n    var updateURL = function() {\n        window.history.replaceState(null, null, window.location.pathname + '?' + page.url.params_hash_to_string(params));\n    };\n\n    return {\n        get   : getDefault,\n        set   : setDefault,\n        update: updateAll,\n        remove: removeDefault,\n        clear : function(){params = {};}\n    };\n})();\n\nmodule.exports = {\n    Defaults: Defaults,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/defaults.js\n ** module id = 60\n ** module chunks = 0\n **/","/*\n * Handles duration processing display\n *\n * It process `Contract.durations()` and display them according to\n * the current `Contract.form()` and `Contract.barriers()`\n *\n * It also populate expiry type select box i.e Durations and Endtime select\n *\n */\n\nvar Durations = (function(){\n    'use strict';\n\n    var trading_times = {};\n    var selected_duration = {};\n    var expiry_time = '';\n    var has_end_date = 0;\n\n    var displayDurations = function() {\n        var startType;\n        if(Defaults.get('date_start') !== 'now' && StartDates.displayed() && moment(Defaults.get('date_start')*1000).isAfter(moment())) {\n            startType = 'forward';\n        }\n        else {\n            startType = 'spot';\n        }\n\n        var durations = Contract.durations();\n        if (durations === false) {\n            document.getElementById('expiry_row').style.display = 'none';\n            Defaults.remove('expiry_type', 'duration_amount', 'duration_units', 'expiry_date', 'expiry_time');\n            return false;\n        }\n\n        var target = document.getElementById('duration_units'),\n            formName = Contract.form(),\n            barrierCategory = Contract.barrier(),\n            fragment = document.createDocumentFragment(), durationContainer = {};\n\n        while (target && target.firstChild) {\n            target.removeChild(target.firstChild);\n        }\n\n        for (var key in durations) {\n            if (durations.hasOwnProperty(key)) {\n                for (var form in durations[key][formName]) {\n                    if (durations[key][formName].hasOwnProperty(form)) {\n                        var obj = {};\n                        if (barrierCategory) {\n                            obj = durations[key][formName][barrierCategory];\n                        } else {\n                            obj = durations[key][formName][form];\n                        }\n                        for (var type in obj) {\n                            if (obj.hasOwnProperty(type)) {\n                                if (startType) {\n                                    if (startType === type) {\n                                        if(!durationContainer.hasOwnProperty(startType)) {\n                                            durationContainer[key] = obj[startType];\n                                        }\n                                    }\n                                } else {\n                                    if(!durationContainer.hasOwnProperty(type)) {\n                                        durationContainer[key] = obj[type];\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        var duration_list = {};\n        for (var duration in durationContainer) {\n            if(durationContainer.hasOwnProperty(duration)) {\n                var min = durationContainer[duration]['min_contract_duration'],\n                    textMapping = durationTextValueMappings(min);\n\n                var option, content;\n                if (duration === 'intraday') {\n                    switch (textMapping['value']) {\n                        case 's':\n                            option = document.createElement('option');\n                            content = document.createTextNode(textMapping['text']);\n                            option.setAttribute('value', textMapping['value']);\n                            option.setAttribute('data-minimum', textMapping['min']);\n                            option.appendChild(content);\n                            duration_list[textMapping['value']]=option;\n                            option = document.createElement('option');\n                            content = document.createTextNode(Content.localize().textDurationMinutes);\n                            option.setAttribute('value', 'm');\n                            option.setAttribute('data-minimum', 1);\n                            option.setAttribute('selected', 'selected');\n                            option.appendChild(content);\n                            duration_list['m']=option;\n                            option = document.createElement('option');\n                            content = document.createTextNode(Content.localize().textDurationHours);\n                            option.setAttribute('value', 'h');\n                            option.setAttribute('data-minimum', 1);\n                            option.appendChild(content);\n                            duration_list['h']=option;\n                            break;\n                        case 'm':\n                            option = document.createElement('option');\n                            content = document.createTextNode(textMapping['text']);\n                            option.setAttribute('value', textMapping['value']);\n                            option.setAttribute('data-minimum', textMapping['min']);\n                            option.setAttribute('selected', 'selected');\n                            option.appendChild(content);\n                            duration_list[textMapping['value']]=option;\n                            option = document.createElement('option');\n                            content = document.createTextNode(Content.localize().textDurationHours);\n                            option.setAttribute('value', 'h');\n                            option.setAttribute('data-minimum', 1);\n                            option.appendChild(content);\n                            duration_list['h']=option;\n                            break;\n                        case 'h':\n                            option = document.createElement('option');\n                            content = document.createTextNode(textMapping['text']);\n                            option.setAttribute('value', textMapping['value']);\n                            option.setAttribute('data-minimum', textMapping['min']);\n                            option.appendChild(content);\n                            duration_list[textMapping['value']]=option;\n                            break;\n                        default :\n                            option = document.createElement('option');\n                            content = document.createTextNode(textMapping['text']);\n                            option.setAttribute('value', textMapping['value']);\n                            option.setAttribute('data-minimum', textMapping['min']);\n                            option.appendChild(content);\n                            duration_list[textMapping['value']]=option;\n                            break;\n                    }\n                } else if (duration === 'daily') {\n                    option = document.createElement('option');\n                    content = document.createTextNode(textMapping['text']);\n                    option.setAttribute('value', textMapping['value']);\n                    option.setAttribute('data-minimum', textMapping['min']);\n                    option.appendChild(content);\n                    duration_list[textMapping['value']]=option;\n                } else if (duration === 'tick') {\n                    option = document.createElement('option');\n                    content = document.createTextNode(textMapping['text']);\n                    option.setAttribute('value', textMapping['value']);\n                    option.setAttribute('data-minimum', textMapping['min']);\n                    option.appendChild(content);\n                    duration_list[textMapping['value']]=option;\n                }\n            }\n        }\n        var list = Object.keys(duration_list).sort(function(a,b){\n            if(durationOrder(a)>durationOrder(b)){\n                return 1;\n            }\n            else{\n                return -1;\n            }\n        });\n        has_end_date = 0;\n        for(var k=0; k<list.length; k++){\n            var d = list[k];\n            if(d!=='t'){\n                has_end_date = 1;\n            }\n            if(duration_list.hasOwnProperty(d)){\n                target.appendChild(duration_list[d]);\n            }\n        }\n\n        if(selected_duration.unit){\n            if(!selectOption(selected_duration.unit,target)){\n                selected_duration = {};\n            }\n        }\n\n        durationPopulate();\n    };\n\n    var displayEndTime = function(){\n        var current_moment = moment(window.time).add(5, 'minutes').utc();\n        var expiry_date = Defaults.get('expiry_date') || current_moment.format('YYYY-MM-DD'),\n            expiry_time = Defaults.get('expiry_time') || current_moment.format('HH:mm');\n        document.getElementById('expiry_date').value = expiry_date;\n        document.getElementById('expiry_time').value = expiry_time;\n        Defaults.set('expiry_date', expiry_date);\n        Defaults.set('expiry_time', expiry_time);\n        Durations.setTime(expiry_time);\n\n        durationPopulate();\n    };\n\n    var durationTextValueMappings = function(str) {\n        var mapping = {\n            s : Content.localize().textDurationSeconds,\n            m : Content.localize().textDurationMinutes,\n            h : Content.localize().textDurationHours,\n            d : Content.localize().textDurationDays,\n            t : Content.localize().textDurationTicks\n        };\n\n        var arry = str ? str.toString().match(/[a-zA-Z]+|[0-9]+/g) : [],\n            obj = {};\n\n        if (arry.length > 1) {\n            obj['value'] = arry[1];\n            obj['text'] = mapping[arry[1]];\n            obj['min'] = arry[0];\n        } else {\n            obj['value'] = 't';\n            obj['text'] = mapping['t'];\n            obj['min'] = arry[0];\n        }\n\n        return obj;\n    };\n\n    var durationPopulate = function() {\n        var unit = document.getElementById('duration_units');\n        if (!unit.options[unit.selectedIndex]) return;\n        var unitMinValue = unit.options[unit.selectedIndex].getAttribute('data-minimum'),\n            unitValue = Defaults.get('duration_amount') || unitMinValue;\n        unit.value = Defaults.get('duration_units') &&\n            document.querySelectorAll('select[id=\"duration_units\"] [value=\"' + Defaults.get('duration_units') + '\"]').length ?\n                Defaults.get('duration_units') : unit.value;\n        document.getElementById('duration_minimum').textContent = unitMinValue;\n        if(selected_duration.amount && selected_duration.unit > unitValue){\n            unitValue = selected_duration.amount;\n        }\n        document.getElementById('duration_amount').value = unitValue;\n        Defaults.set('duration_amount', unitValue);\n        displayExpiryType(unit.value);\n        Defaults.set('duration_units', unit.value);\n\n        // jquery for datepicker\n        var amountElement = $('#duration_amount');\n        if (unit.value === 'd') {\n            var tomorrow = window.time ? window.time.toDate() : new Date();\n            tomorrow.setDate(tomorrow.getDate() + 1);\n\n            amountElement.datepicker({\n                minDate: tomorrow,\n                onSelect: function(value) {\n                    var dayDiff;\n                    if($('#duration_amount').val()){\n                        dayDiff = $('#duration_amount').val();\n                    }\n                    else{\n                        var date = new Date(value);\n                        var today = window.time ? window.time.toDate() : new Date();\n                        dayDiff = Math.ceil((date - today) / (1000 * 60 * 60 * 24));\n                    }\n                    amountElement.val(dayDiff);\n                    amountElement.trigger('change');\n                }\n            });\n        } else {\n            amountElement.datepicker(\"destroy\");\n        }\n\n        $('.pickadate').datepicker('destroy');\n        $('.pickadate').datepicker({\n            minDate: window.time ? window.time.toDate() : new Date(),\n            dateFormat: 'yy-mm-dd'\n        });\n\n        validateMinDurationAmount();\n        // we need to call it here as for days we need to show absolute barriers\n        Barriers.display();\n    };\n\n    var displayExpiryType = function(unit) {\n        var target = document.getElementById('expiry_type'),\n            fragment = document.createDocumentFragment();\n\n        // in case of having endtime as expiry_type and change the form to contract types\n        // which only have duration and do not support endtime, it should change the Default value\n        // to get corrected based on contract situations\n        if($('#expiry_type').find('option[value=' + Defaults.get('expiry_type') + ']').length === 0 && target.value) {\n                Defaults.set('expiry_type', target.value);\n        }\n        var current_selected = Defaults.get('expiry_type') || target.value || 'duration',\n            id = current_selected,\n            hideId = (current_selected === 'duration') ? 'endtime' : 'duration';\n\n        id = document.getElementById('expiry_type_' + id);\n        if (id) {\n            id.style.display = 'flex';\n        }\n        // need to hide the non selected one\n        hideId = document.getElementById('expiry_type_' + hideId);\n        if (hideId) {\n            hideId.style.display = 'none';\n        }\n\n        while (target && target.firstChild) {\n            target.removeChild(target.firstChild);\n        }\n\n        var option = document.createElement('option'),\n            content = document.createTextNode(Content.localize().textDuration);\n\n        option.setAttribute('value', 'duration');\n        if (current_selected === 'duration') {\n            option.setAttribute('selected', 'selected');\n        }\n        option.appendChild(content);\n        fragment.appendChild(option);\n\n        if (has_end_date) {\n            option = document.createElement('option');\n            content = document.createTextNode(Content.localize().textEndTime);\n            option.setAttribute('value', 'endtime');\n            if (current_selected === 'endtime') {\n                option.setAttribute('selected', 'selected');\n            }\n            option.appendChild(content);\n            fragment.appendChild(option);\n        }\n        target.appendChild(fragment);\n    };\n\n    var processTradingTimesAnswer = function(response){\n        if(!trading_times.hasOwnProperty(response.echo_req.trading_times) && response.hasOwnProperty('trading_times') && response.trading_times.hasOwnProperty('markets')){\n            for(var i=0; i<response.trading_times.markets.length; i++){\n                var submarkets = response.trading_times.markets[i].submarkets;\n                if(submarkets){\n                    for(var j=0; j<submarkets.length; j++){\n                        var symbols = submarkets[j].symbols;\n                        if(symbols){\n                            for(var k=0; k<symbols.length; k++){\n                                var symbol = symbols[k];\n                                if(!trading_times[response.echo_req.trading_times]){\n                                    trading_times[response.echo_req.trading_times] = {};\n                                }\n                                trading_times[response.echo_req.trading_times][symbol.symbol] = symbol.times.close;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    var selectEndDate = function(end_date){\n        var expiry_time = document.getElementById('expiry_time');\n        $('#expiry_date').val(end_date);\n        Defaults.set('expiry_date', end_date);\n        if (moment(end_date).isAfter(moment(window.time),'day')) {\n            Durations.setTime('');\n            Defaults.remove('expiry_time');\n            StartDates.setNow();\n            expiry_time.hide();\n            var date_start = StartDates.node();\n            processTradingTimesRequest(end_date);\n        }\n        else{\n            if(!expiry_time.value) {\n                expiry_time.value = moment(window.time).add(5, 'minutes').utc().format('HH:mm');\n            }\n            Durations.setTime(expiry_time.value);\n            Defaults.set('expiry_time', Defaults.get('expiry_time') || expiry_time.value);\n            expiry_time.show();\n            processPriceRequest();\n        }\n\n        Barriers.display();\n    };\n\n    var validateMinDurationAmount = function(){\n        var durationAmountElement = document.getElementById('duration_amount'),\n            durationMinElement    = document.getElementById('duration_minimum');\n        if(!isVisible(durationAmountElement) || !isVisible(durationMinElement)) return;\n        if(durationAmountElement.value * 1 < durationMinElement.textContent * 1) {\n            durationAmountElement.classList.add('error-field');\n        } else {\n            durationAmountElement.classList.remove('error-field');\n        }\n    };\n\n    return {\n        display: displayDurations,\n        displayEndTime: displayEndTime,\n        populate: durationPopulate,\n        setTime: function(time){ $('#expiry_time').val(time); Defaults.set('expiry_time', time); expiry_time = time; },\n        getTime: function(){ return expiry_time; },\n        processTradingTimesAnswer: processTradingTimesAnswer,\n        trading_times: function(){ return trading_times; },\n        select_amount: function(a){ selected_duration.amount = a; },\n        select_unit: function(u){ selected_duration.unit = u; } ,\n        selectEndDate: selectEndDate,\n        validateMinDurationAmount: validateMinDurationAmount\n    };\n})();\n\nmodule.exports = {\n    Durations: Durations,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/duration.js\n ** module id = 61\n ** module chunks = 0\n **/","/*\n * TradingEvents object contains all the event handler function required for\n * websocket trading page\n *\n * We need it as object so that we can call TradingEvent.init() only on trading\n * page for pjax to work else it will fire on all pages\n *\n */\nvar TradingEvents = (function () {\n    'use strict';\n\n    var onStartDateChange = function(value){\n        var $dateStartSelect = $('#date_start');\n        if(!value || !$dateStartSelect.find('option[value='+value+']').length){\n            return 0;\n        }\n\n        var yellowBorder = 'light-yellow-background';\n        if (value !== 'now') {\n            $dateStartSelect.addClass(yellowBorder);\n        } else {\n            $dateStartSelect.removeClass(yellowBorder);\n        }\n\n        $dateStartSelect.val(value);\n\n        var make_price_request = 1;\n        if (value !== 'now' && $('expiry_type').val() === 'endtime') {\n            make_price_request = -1;\n            var end_time = moment(value*1000).utc().add(15,'minutes');\n            Durations.setTime(Defaults.get('expiry_time') || end_time.format(\"hh:mm\"));\n            Durations.selectEndDate(Defaults.get('expiry_date') || end_time.format(\"YYYY-MM-DD\"));\n        }\n        Durations.display();\n        return make_price_request;\n    };\n\n    var onExpiryTypeChange = function(value){\n        if(!value || !$('#expiry_type').find('option[value='+value+']').length){\n            value = 'duration';\n        }\n        $('#expiry_type').val(value);\n\n        var make_price_request = 0;\n        if(value === 'endtime'){\n            Durations.displayEndTime();\n            if(Defaults.get('expiry_date')){\n                Durations.selectEndDate(Defaults.get('expiry_date'));\n                make_price_request = -1;\n            }\n            Defaults.remove('duration_units', 'duration_amount');\n        }\n        else{\n            Durations.display();\n            if(Defaults.get('duration_units')){\n                TradingEvents.onDurationUnitChange(Defaults.get('duration_units'));\n            }\n            var duration_amount = Defaults.get('duration_amount');\n            if(duration_amount && duration_amount > $('#duration_minimum').text()){\n                $('#duration_amount').val(duration_amount);\n            }\n            make_price_request = 1;\n            Defaults.remove('expiry_date', 'expiry_time', 'end_date');\n            Durations.validateMinDurationAmount();\n        }\n\n        return make_price_request;\n    };\n\n    var onDurationUnitChange = function(value){\n        if(!value || !$('#duration_units').find('option[value='+value+']').length){\n            return 0;\n        }\n\n        $('#duration_units').val(value);\n        Defaults.set('duration_units', value);\n\n        Durations.select_unit(value);\n        Durations.populate();\n\n        return 1;\n    };\n\n    var initiate = function () {\n        /*\n         * attach event to market list, so when client change market we need to update undelryings\n         * and request for new Contract details to populate the form and request price accordingly\n         */\n        var marketNavElement = document.getElementById('contract_markets');\n        var onMarketChange = function(market){\n            showPriceOverlay();\n            Defaults.set('market', market);\n\n            // as different markets have different forms so remove from sessionStorage\n            // it will default to proper one\n            Defaults.remove('formname');\n            Defaults.remove('underlying');\n            processMarket(1);\n            chartFrameSource();\n        };\n\n        if (marketNavElement) {\n            marketNavElement.addEventListener('change', function(e) {\n                var clickedMarket = e.target;\n                onMarketChange(clickedMarket.value);\n            });\n        }\n\n        /*\n         * attach event to form list, so when client click on different form we need to update form\n         * and request for new Contract details to populate the form and request price accordingly\n         */\n        var contractFormEventChange = function () {\n            processContractForm();\n            TradingAnalysis.request();\n        };\n\n        var formNavElement = document.getElementById('contract_form_name_nav');\n        if (formNavElement) {\n            formNavElement.addEventListener('click', function(e) {\n                if (e.target && e.target.getAttribute('menuitem')) {\n                    var clickedForm = e.target;\n                    var isFormActive = clickedForm.classList.contains('active') || clickedForm.parentElement.classList.contains('active');\n                    Defaults.set('formname', clickedForm.getAttribute('menuitem'));\n\n                    setFormPlaceholderContent();\n                    // if form is already active then no need to send same request again\n                    toggleActiveCatMenuElement(formNavElement, e.target.getAttribute('menuitem'));\n\n                    if (!isFormActive) {\n                        contractFormEventChange();\n                    }\n                    var contractFormCheckbox = document.getElementById('contract_form_show_menu');\n                    if (contractFormCheckbox) {\n                        contractFormCheckbox.checked = false;\n                    }\n                }\n            });\n        }\n\n        /*\n         * attach event to underlying change, event need to request new contract details and price\n         */\n        var underlyingElement = document.getElementById('underlying');\n        if (underlyingElement) {\n            underlyingElement.addEventListener('change', function(e) {\n                if (e.target) {\n                    chartFrameSource();\n                    showFormOverlay();\n                    showPriceOverlay();\n                    if(e.target.selectedIndex < 0) {\n                        e.target.selectedIndex = 0;\n                    }\n                    var underlying = e.target.value;\n                    Defaults.remove('barrier', 'barrier_high', 'barrier_low');\n                    Defaults.set('underlying', underlying);\n                    TradingAnalysis.request();\n\n                    Tick.clean();\n\n                    updateWarmChart();\n\n                    Contract.getContracts(underlying);\n\n                    // forget the old tick id i.e. close the old tick stream\n                    processForgetTicks();\n                    // get ticks for current underlying\n                    Tick.request(underlying);\n                    displayTooltip(Defaults.get('market'), underlying);\n                }\n            });\n        }\n\n        /*\n         * bind event to change in duration amount, request new price\n         */\n        function triggerOnDurationChange(e){\n            if (e.target.value % 1 !== 0 ) {\n                e.target.value = Math.floor(e.target.value);\n            }\n            Defaults.set('duration_amount', e.target.value);\n            Durations.select_amount(e.target.value);\n            processPriceRequest();\n            submitForm(document.getElementById('websocket_form'));\n        }\n        var durationAmountElement = document.getElementById('duration_amount'),\n            inputEventTriggered = false;          // For triggering one of the two events.\n        if (durationAmountElement) {\n            durationAmountElement.addEventListener('keypress', onlyNumericOnKeypress);\n            // jquery needed for datepicker\n            $('#duration_amount').on('input', debounce(function (e) {\n                triggerOnDurationChange(e);\n                Durations.validateMinDurationAmount();\n                inputEventTriggered = true;\n            }));\n            $('#duration_amount').on('change', debounce(function (e) {\n                // using Defaults, to update the value by datepicker if it was emptied by keyboard (delete)\n                Durations.validateMinDurationAmount();\n                if(inputEventTriggered === false || !Defaults.get('duration_amount'))\n                    triggerOnDurationChange(e);\n                else\n                    inputEventTriggered = false;\n            }));\n        }\n\n        /*\n         * attach event to expiry time change, event need to populate duration\n         * and request new price\n         */\n        var expiryTypeElement = document.getElementById('expiry_type');\n        if (expiryTypeElement) {\n            expiryTypeElement.addEventListener('change', function(e) {\n                Defaults.set('expiry_type', e.target.value);\n                onExpiryTypeChange(e.target.value);\n                if (expiryTypeElement.value !== 'endtime') processPriceRequest();\n            });\n        }\n\n        /*\n         * bind event to change in duration units, populate duration and request price\n         */\n        var durationUnitElement = document.getElementById('duration_units');\n        if (durationUnitElement) {\n            durationUnitElement.addEventListener('change', function (e) {\n                Defaults.remove('barrier', 'barrier_high', 'barrier_low');\n                onDurationUnitChange(e.target.value);\n                processPriceRequest();\n            });\n        }\n\n        /*\n         * bind event to change in endtime date and time\n         */\n        var endDateElement = document.getElementById('expiry_date');\n        if (endDateElement) {\n            // need to use jquery as datepicker is used, if we switch to some other\n            // datepicker we can move back to javascript\n            $('#expiry_date').on('change input', function () {\n                Durations.selectEndDate(this.value);\n            });\n        }\n\n        var endTimeElement = document.getElementById('expiry_time');\n        if (endTimeElement) {\n            $('#expiry_time').on('change input', function () {\n                Durations.setTime(endTimeElement.value);\n                processPriceRequest();\n            });\n        }\n\n        /*\n         * attach event to change in amount, request new price only\n         */\n        var amountElement = document.getElementById('amount');\n        if (amountElement) {\n            amountElement.addEventListener('keypress', onlyNumericOnKeypress);\n\n            amountElement.addEventListener('input', debounce( function(e) {\n                e.target.value = e.target.value.replace(/[^0-9.]/g, '');\n                if (isStandardFloat(e.target.value)) {\n                    e.target.value = parseFloat(e.target.value).toFixed(2);\n                }\n                Defaults.set('amount', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }));\n        }\n\n        /*\n         * attach event to start time, display duration based on\n         * whether start time is forward starting or not and request\n         * new price\n         */\n        var dateStartElement = StartDates.node();\n        if (dateStartElement) {\n            dateStartElement.addEventListener('change', function (e) {\n                Defaults.set('date_start', e.target.value);\n                var r = onStartDateChange(e.target.value);\n                if(r>=0){\n                    processPriceRequest();\n                }\n            });\n        }\n\n        /*\n         * attach event to change in amount type that is whether its\n         * payout or stake and request new price\n         */\n        var amountTypeElement = document.getElementById('amount_type');\n        if (amountTypeElement) {\n            amountTypeElement.addEventListener('change', function (e) {\n                Defaults.set('amount_type', e.target.value);\n                processPriceRequest();\n            });\n        }\n\n        /*\n         * attach event to change in submarkets. We need to disable\n         * underlyings that are not in selected seubmarkets\n         */\n        var submarketElement = document.getElementById('submarket');\n        if (submarketElement) {\n            submarketElement.addEventListener('change', function (e) {\n                if (e.target) {\n                    var elem = document.getElementById('underlying');\n                    var underlyings = elem.children;\n\n                    for (var i = 0, len = underlyings.length; i < len; i++ ) {\n                        if (e.target.value !== 'all' && e.target.value !== underlyings[i].className) {\n                            underlyings[i].disabled = true;\n                        } else {\n                            underlyings[i].disabled = false;\n                        }\n                    }\n\n                    // as submarket change has modified the underlying list so we need to manually\n                    // fire change event for underlying\n                    document.querySelectorAll('#underlying option:enabled')[0].selected = 'selected';\n                    var event = new Event('change');\n                    elem.dispatchEvent(event);\n                }\n            });\n        }\n\n        /*\n         * attach an event to change in currency\n         */\n        var currencyElement = document.getElementById('currency');\n        if (currencyElement) {\n            currencyElement.addEventListener('change', function (e) {\n                Defaults.set('currency', e.target.value);\n                var stopTypeDollarLabel = document.getElementById('stop_type_dollar_label');\n                if (stopTypeDollarLabel && isVisible(stopTypeDollarLabel)) {\n                    stopTypeDollarLabel.textContent = e.target.value;\n                }\n                processPriceRequest();\n            });\n        }\n\n        /*\n         * attach event to purchase buttons to buy the current contract\n         */\n        $('.purchase_button').on('click dblclick', function () {\n            if (isVisible(document.getElementById('confirmation_message_container'))) return;\n            var id = this.getAttribute('data-purchase-id'),\n                askPrice = this.getAttribute('data-ask-price');\n\n            var params = {buy: id, price: askPrice, passthrough:{}};\n            for(var attr in this.attributes){\n                if(attr && this.attributes[attr] && this.attributes[attr].name &&\n                    !/data\\-balloon/.test(this.attributes[attr].name)){ // do not send tooltip data\n                    var m = this.attributes[attr].name.match(/data\\-(.+)/);\n\n                    if(m && m[1] && m[1]!==\"purchase-id\" && m[1]!==\"passthrough\"){\n                        params.passthrough[m[1]] = this.attributes[attr].value;\n                    }\n                }\n            }\n            if (id && askPrice) {\n                BinarySocket.send(params);\n                Price.incrFormId();\n                processForgetProposals();\n            }\n        });\n\n        /*\n         * attach event to close icon for purchase container\n         */\n        $('#close_confirmation_container').on('click', function (e) {\n            if (e.target) {\n                e.preventDefault();\n                document.getElementById('contract_confirmation_container').style.display = 'none';\n                document.getElementById('contracts_list').style.display = 'flex';\n                processPriceRequest();\n            }\n        });\n\n        /*\n         * attach an event to change in barrier\n         */\n        var barrierElement = document.getElementById('barrier');\n        if (barrierElement) {\n            barrierElement.addEventListener('input', debounce( function (e) {\n                Barriers.validateBarrier();\n                Defaults.set('barrier', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }, 1000));\n        }\n\n        /*\n         * attach an event to change in low barrier\n         */\n        var lowBarrierElement = document.getElementById('barrier_low');\n        if (lowBarrierElement) {\n            lowBarrierElement.addEventListener('input', debounce( function (e) {\n                Defaults.set('barrier_low', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }));\n        }\n\n        /*\n         * attach an event to change in high barrier\n         */\n        var highBarrierElement = document.getElementById('barrier_high');\n        if (highBarrierElement) {\n            highBarrierElement.addEventListener('input', debounce( function (e) {\n                Defaults.set('barrier_high', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }));\n        }\n\n        /*\n         * attach an event to change in digit prediction input\n         */\n        var predictionElement = document.getElementById('prediction');\n        if (predictionElement) {\n\n            predictionElement.addEventListener('change', debounce( function (e) {\n                Defaults.set('prediction', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }));\n        }\n\n        /*\n         * attach an event to change in amount per point for spreads\n         */\n        var amountPerPointElement = document.getElementById('amount_per_point');\n        if (amountPerPointElement) {\n            amountPerPointElement.addEventListener('input', debounce( function (e) {\n                if (isStandardFloat(e.target.value)) {\n                    e.target.value = parseFloat(e.target.value).toFixed(2);\n                }\n                Defaults.set('amount_per_point', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }));\n        }\n\n        /*\n         * attach an event to change in stop type for spreads\n         */\n        var stopTypeEvent = function (e) {\n            Defaults.set('stop_type', e.target.value);\n            processPriceRequest();\n        };\n\n        var stopTypeElement = document.querySelectorAll('input[name=\"stop_type\"]');\n        if (stopTypeElement) {\n            for (var i = 0, len = stopTypeElement.length; i < len; i++) {\n                stopTypeElement[i].addEventListener('click', stopTypeEvent);\n            }\n        }\n\n        /*\n         * attach an event to change in stop loss input value\n         */\n        var stopLossElement = document.getElementById('stop_loss');\n        if (stopLossElement) {\n            stopLossElement.addEventListener('input', debounce( function (e) {\n                if (isStandardFloat(e.target.value)) {\n                    e.target.value = parseFloat(e.target.value).toFixed(2);\n                }\n                Defaults.set('stop_loss', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }));\n        }\n\n        /*\n         * attach an event to change in stop profit input value\n         */\n        var stopProfitElement = document.getElementById('stop_profit');\n        if (stopProfitElement) {\n            stopProfitElement.addEventListener('input', debounce( function (e) {\n                if (isStandardFloat(e.target.value)) {\n                    e.target.value = parseFloat(e.target.value).toFixed(2);\n                }\n                Defaults.set('stop_profit', e.target.value);\n                processPriceRequest();\n                submitForm(document.getElementById('websocket_form'));\n            }));\n        }\n\n        // For verifying there are 2 digits after decimal\n        var isStandardFloat = (function(value){\n            return (value % 1 !== 0 && ((+parseFloat(value)).toFixed(10)).replace(/^-?\\d*\\.?|0+$/g, '').length>2);\n        });\n\n        var init_logo = document.getElementById('trading_init_progress');\n        if(init_logo){\n            init_logo.addEventListener('click', debounce( function (e) {\n                reloadPage();\n            }));\n        }\n\n        var tip = document.getElementById('symbol_tip');\n        if(init_logo){\n            tip.addEventListener('click', debounce( function (e) {\n                var url = e.target.getAttribute('target');\n                load_with_pjax(url);\n            }));\n        }\n\n        /*\n         * attach datepicker and timepicker to end time durations\n         * have to use jquery\n         */\n        $(\".pickadate\").datepicker({\n            minDate: new Date(),\n            dateFormat: \"yy-mm-dd\"\n        });\n        var date = new Date();\n        $(\".pickatime\" ).timepicker({minTime:{hour: date.getUTCHours(), minute: date.getUTCMinutes()}});\n    };\n\n    return {\n        init: initiate,\n        onStartDateChange: onStartDateChange,\n        onExpiryTypeChange: onExpiryTypeChange,\n        onDurationUnitChange: onDurationUnitChange\n    };\n})();\n\nmodule.exports = {\n    TradingEvents: TradingEvents,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/event.js\n ** module id = 62\n ** module chunks = 0\n **/","/*\n * This Message object process the response from server and fire\n * events based on type of response\n */\nvar Message = (function () {\n    'use strict';\n\n    var process = function (msg) {\n        var response = JSON.parse(msg.data);\n        if(!TradePage.is_trading_page()){\n            forgetTradingStreams();\n            return;\n        }\n        if (response) {\n            var type = response.msg_type;\n            if (type === 'active_symbols') {\n                processActiveSymbols(response);\n            } else if (type === 'contracts_for') {\n                processContract(response);\n                window.contracts_for = response;\n            } else if (type === 'payout_currencies' && response.hasOwnProperty('echo_req') && (!response.echo_req.hasOwnProperty('passthrough') || !response.echo_req.passthrough.hasOwnProperty('handler'))) {\n                page.client.set_storage_value('currencies', response.payout_currencies);\n                displayCurrencies();\n                Symbols.getSymbols(1);\n            } else if (type === 'proposal') {\n                processProposal(response);\n            } else if (type === 'buy') {\n                Purchase.display(response);\n                GTM.push_purchase_data(response);\n            } else if (type === 'tick') {\n                processTick(response);\n            } else if (type === 'history') {\n                var digit_info = TradingAnalysis.digit_info();\n                if(response.req_id === 1 || response.req_id === 2){\n                    digit_info.show_chart(response.echo_req.ticks_history, response.history.prices);\n                } else\n                    Tick.processHistory(response);\n            } else if (type === 'trading_times'){\n                processTradingTimes(response);\n            } else if (type === 'statement'){\n                StatementWS.statementHandler(response);\n            } else if (type === 'profit_table'){\n                ProfitTableWS.profitTableHandler(response);\n            } else if (type === 'pricing_table'){\n                PricingTable.handleResponse(response);\n            } else if (type === 'error') {\n                $(\".error-msg\").text(response.error.message);\n            } else if(type === 'portfolio'){\n                PortfolioWS.updatePortfolio(response);\n            } else if(type === 'proposal_open_contract'){\n                PortfolioWS.updateIndicative(response);\n            } else if(type === 'transaction'){\n                PortfolioWS.transactionResponseHandler(response);\n            }\n        } else {\n\n            console.log('some error occured');\n        }\n    };\n\n    return {\n        process: process\n    };\n\n})();\n\nmodule.exports = {\n    Message: Message,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/message.js\n ** module id = 63\n ** module chunks = 0\n **/","/*\n * Price object handles all the functions we need to display prices\n *\n * We create Price proposal that we need to send to server to get price,\n * longcode and all other information that we need to get the price for\n * current contract\n *\n *\n * Usage:\n *\n * `socket.send(Price.proposal())` to send price proposal to sever\n * `Price.display()` to display the price details returned from server\n */\nvar Price = (function() {\n    'use strict';\n\n    var typeDisplayIdMapping = {},\n        form_id = 0;\n\n    var createProposal = function(typeOfContract) {\n        var proposal = {\n            proposal: 1,\n            subscribe: 1\n        };\n        var underlying = document.getElementById('underlying'),\n            submarket = document.getElementById('submarket'),\n            contractType = typeOfContract,\n            amountType = document.getElementById('amount_type'),\n            currency = document.getElementById('currency'),\n            payout = document.getElementById('amount'),\n            startTime = StartDates.node(),\n            expiryType = document.getElementById('expiry_type'),\n            duration = document.getElementById('duration_amount'),\n            durationUnit = document.getElementById('duration_units'),\n            endDate = document.getElementById('expiry_date'),\n            endTime = document.getElementById('expiry_time'),\n            barrier = document.getElementById('barrier'),\n            highBarrier = document.getElementById('barrier_high'),\n            lowBarrier = document.getElementById('barrier_low'),\n            prediction = document.getElementById('prediction'),\n            amountPerPoint = document.getElementById('amount_per_point'),\n            stopType = document.querySelector('input[name=\"stop_type\"]:checked'),\n            stopLoss = document.getElementById('stop_loss'),\n            stopProfit = document.getElementById('stop_profit');\n\n        if (payout && isVisible(payout) && payout.value) {\n            proposal['amount'] = parseFloat(payout.value);\n        }\n\n        if (amountType && isVisible(amountType) && amountType.value) {\n            proposal['basis'] = amountType.value;\n        }\n\n        if (contractType) {\n            proposal['contract_type'] = typeOfContract;\n        }\n\n        if (currency && currency.value) {\n            proposal['currency'] = currency.value;\n        }\n\n        if (underlying && underlying.value) {\n            proposal['symbol'] = underlying.value;\n        }\n\n        if (startTime && isVisible(startTime) && startTime.value !== 'now') {\n            proposal['date_start'] = startTime.value;\n        }\n\n        if (expiryType && isVisible(expiryType) && expiryType.value === 'duration') {\n            proposal['duration'] = parseInt(duration.value);\n            proposal['duration_unit'] = durationUnit.value;\n        } else if (expiryType && isVisible(expiryType) && expiryType.value === 'endtime') {\n            var endDate2 = endDate.value;\n            var endTime2 = Durations.getTime();\n            if (!endTime2) {\n                var trading_times = Durations.trading_times();\n                if (trading_times.hasOwnProperty(endDate2) && typeof trading_times[endDate2][underlying.value] === 'object' && trading_times[endDate2][underlying.value].length && trading_times[endDate2][underlying.value][0] !== '--') {\n                    if( trading_times[endDate2][underlying.value].length>1)\n                        endTime2 = trading_times[endDate2][underlying.value][1];\n                    else\n                         endTime2=trading_times[endDate2][underlying.value];\n                }\n            }\n\n            proposal['date_expiry'] = moment.utc(endDate2 + \" \" + endTime2).unix();\n            // For stopping tick trade behaviour\n            proposal['duration_unit'] = \"m\";\n        }\n\n        if (barrier && isVisible(barrier) && barrier.value) {\n            proposal['barrier'] = barrier.value;\n        }\n\n        if (highBarrier && isVisible(highBarrier) && highBarrier.value) {\n            proposal['barrier'] = highBarrier.value;\n        }\n\n        if (lowBarrier && isVisible(lowBarrier) && lowBarrier.value) {\n            proposal['barrier2'] = lowBarrier.value;\n        }\n\n        if (prediction && isVisible(prediction)) {\n            proposal['barrier'] = parseInt(prediction.value);\n        }\n\n        if (amountPerPoint && isVisible(amountPerPoint)) {\n            proposal['amount_per_point'] = parseFloat(amountPerPoint.value);\n        }\n\n        if (stopType && isVisible(stopType)) {\n            proposal['stop_type'] = stopType.value;\n        }\n\n        if (stopLoss && isVisible(stopLoss)) {\n            proposal['stop_loss'] = parseFloat(stopLoss.value);\n        }\n\n        if (stopProfit && isVisible(stopProfit)) {\n            proposal['stop_profit'] = parseFloat(stopProfit.value);\n        }\n\n        if (contractType) {\n            proposal['contract_type'] = typeOfContract;\n        }\n\n        proposal['passthrough'] = {\n            form_id: form_id\n        };\n\n        resetPriceMovement();\n\n        return proposal;\n    };\n\n    var display = function(details, contractType) {\n        var proposal = details['proposal'];\n        var id = proposal ? proposal['id'] : '';\n        var params = details['echo_req'];\n\n        var type = params['contract_type'];\n        if (id && !type) {\n            type = typeDisplayIdMapping[id];\n        }\n\n        var is_spread = false;\n        if (params.contract_type && (params.contract_type === 'SPREADU' || params.contract_type === 'SPREADD')) {\n            is_spread = true;\n        }\n\n        if (params && id && Object.getOwnPropertyNames(params).length > 0) {\n            typeDisplayIdMapping[id] = type;\n        }\n\n        var position = contractTypeDisplayMapping(type);\n\n        if (!position) {\n            return;\n        }\n\n        var container = document.getElementById('price_container_' + position);\n        if (!container) return;\n        if (!$(container).is(\":visible\")) {\n            $(container).fadeIn(200);\n        }\n\n        var h4 = container.getElementsByClassName('contract_heading')[0],\n            amount = container.getElementsByClassName('contract_amount')[0],\n            payoutAmount = container.getElementsByClassName('contract_payout')[0],\n            stake = container.getElementsByClassName('stake')[0],\n            payout = container.getElementsByClassName('payout')[0],\n            purchase = container.getElementsByClassName('purchase_button')[0],\n            description = container.getElementsByClassName('contract_description')[0],\n            comment = container.getElementsByClassName('price_comment')[0],\n            error = container.getElementsByClassName('contract_error')[0],\n            price_wrapper = container.getElementsByClassName('price_wrapper')[0],\n            currency = document.getElementById('currency');\n\n        var display = type ? (contractType ? contractType[type] : '') : '';\n        if (display) {\n            h4.setAttribute('class', 'contract_heading ' + type);\n            if (is_spread) {\n                if (position === \"top\") {\n                    h4.textContent = Content.localize().textSpreadTypeLong;\n                } else {\n                    h4.textContent = Content.localize().textSpreadTypeShort;\n                }\n            } else {\n                h4.textContent = display;\n            }\n        }\n\n        var setData = function(data) {\n            if (!data) return;\n            if (data['display_value']) {\n                if (is_spread) {\n                    $('.stake:visible').hide();\n                    amount.textContent = data['display_value'];\n                } else {\n                    $('.stake:hidden').show();\n                    stake.textContent = text.localize('Stake') + ': ';\n                    amount.textContent = format_money(currency.value, (data['display_value']*1).toFixed(2));\n                }\n                $('.stake_wrapper:hidden').show();\n            } else {\n                $('.stake_wrapper:visible').hide();\n            }\n\n            if (data['payout']) {\n              payout.textContent = (is_spread ? text.localize('Payout/point') : text.localize('Payout')) + ': ';\n              payoutAmount.textContent = format_money(currency.value, (data['payout']*1).toFixed(2));\n              $('.payout_wrapper:hidden').show();\n            } else {\n              $('.payout_wrapper:visible').hide();\n            }\n\n            if (data['longcode'] && window.innerWidth > 500) {\n                description.setAttribute('data-balloon', data['longcode']);\n            } else {\n                description.removeAttribute('data-balloon');\n            }\n        };\n\n        if (details['error']) {\n            purchase.hide();\n            comment.hide();\n            setData(details['error']['details']);\n            error.show();\n            error.textContent = details['error']['message'];\n        } else {\n            setData(proposal);\n            purchase.show();\n            comment.show();\n            error.hide();\n            if (is_spread) {\n                displayCommentSpreads(comment, currency.value, proposal['spread']);\n            } else {\n                displayCommentPrice(comment, currency.value, proposal['ask_price'], proposal['payout']);\n            }\n            var oldprice = purchase.getAttribute('data-display_value'),\n                oldpayout = purchase.getAttribute('data-payout');\n            displayPriceMovement(amount, oldprice, proposal['display_value']);\n            displayPriceMovement(payoutAmount, oldpayout, proposal['payout']);\n            purchase.setAttribute('data-purchase-id', id);\n            purchase.setAttribute('data-ask-price', proposal['ask_price']);\n            purchase.setAttribute('data-display_value', proposal['display_value']);\n            purchase.setAttribute('data-payout', proposal['payout']);\n            purchase.setAttribute('data-symbol', id);\n            for (var key in params) {\n                if (key && key !== 'proposal') {\n                    purchase.setAttribute('data-' + key, params[key]);\n                }\n            }\n        }\n    };\n\n    var clearMapping = function() {\n        typeDisplayIdMapping = {};\n    };\n\n    var clearFormId = function() {\n        form_id = 0;\n    };\n\n    return {\n        proposal: createProposal,\n        display: display,\n        clearMapping: clearMapping,\n        idDisplayMapping: function() {\n            return typeDisplayIdMapping;\n        },\n        getFormId: function() {\n            return form_id;\n        },\n        incrFormId: function() {\n            form_id++;\n        },\n        clearFormId: clearFormId\n    };\n\n})();\n\nmodule.exports = {\n    Price: Price,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/price.js\n ** module id = 64\n ** module chunks = 0\n **/","/*\n * This function process the active symbols to get markets\n * and underlying list\n */\nfunction processActiveSymbols(data) {\n    'use strict';\n\n    // populate the Symbols object\n    Symbols.details(data);\n\n    var market = getDefaultMarket();\n\n    // store the market\n    Defaults.set('market', market);\n\n    displayMarkets('contract_markets', Symbols.markets(), market);\n    processMarket();\n    // setTimeout(function(){\n    // if(document.getElementById('underlying')){\n    //     Symbols.getSymbols(0);\n    // }\n    // }, 60*1000);\n}\n\n\n/*\n * Function to call when market has changed\n */\nfunction processMarket(flag) {\n    'use strict';\n\n    // we can get market from sessionStorage as allowed market\n    // is already set when this function is called\n    var market = Defaults.get('market');\n    var symbol = Defaults.get('underlying');\n    var update_page = Symbols.need_page_update() || flag;\n\n    // change to default market if query string contains an invalid market\n    if(!market || !Symbols.underlyings()[market]) {\n        market = getDefaultMarket();\n        Defaults.set('market', market);\n    }\n    if (update_page && (!symbol || !Symbols.underlyings()[market][symbol])) {\n        symbol = undefined;\n    }\n    displayUnderlyings('underlying', Symbols.underlyings()[market], symbol);\n\n    if (update_page) {\n        processMarketUnderlying();\n    }\n}\n\n/*\n * Function to call when underlying has changed\n */\nfunction processMarketUnderlying() {\n    'use strict';\n\n    var underlyingElement = document.getElementById('underlying');\n    if (!underlyingElement) {\n        return;\n    }\n\n    if(underlyingElement.selectedIndex < 0) {\n        underlyingElement.selectedIndex = 0;\n    }\n    var underlying = underlyingElement.value;\n    Defaults.set('underlying', underlying);\n\n    showFormOverlay();\n\n    // forget the old tick id i.e. close the old tick stream\n    processForgetTicks();\n    // get ticks for current underlying\n    Tick.request(underlying);\n\n    Tick.clean();\n\n    updateWarmChart();\n\n    BinarySocket.clearTimeouts();\n\n    Contract.getContracts(underlying);\n\n    displayTooltip(Defaults.get('market'), underlying);\n}\n\n/*\n * Function to display contract form for current underlying\n */\nfunction processContract(contracts) {\n    'use strict';\n    if(contracts.hasOwnProperty('error') && contracts.error.code === 'InvalidSymbol') {\n        processForgetProposals();\n        var container = document.getElementById('contract_confirmation_container'),\n            message_container = document.getElementById('confirmation_message'),\n            confirmation_error = document.getElementById('confirmation_error'),\n            contracts_list = document.getElementById('contracts_list');\n        container.style.display = 'block';\n        contracts_list.style.display = 'none';\n        message_container.hide();\n        confirmation_error.show();\n        confirmation_error.innerHTML = contracts.error.message + ' <a href=\"javascript:;\" onclick=\"TradePage.reload();\">' + text.localize('Please reload the page') + '</a>';\n        return;\n    }\n\n    window.chartAllowed = true;\n    if (contracts.contracts_for && contracts.contracts_for.feed_license && contracts.contracts_for.feed_license === 'chartonly') {\n      window.chartAllowed = false;\n    }\n\n    document.getElementById('trading_socket_container').classList.add('show');\n    var init_logo = document.getElementById('trading_init_progress');\n    if(init_logo.style.display !== 'none') {\n        init_logo.style.display = 'none';\n        Defaults.update();\n    }\n\n    Contract.setContracts(contracts);\n\n    var contract_categories = Contract.contractForms();\n    var formname;\n    if (Defaults.get('formname') && contract_categories && contract_categories[Defaults.get('formname')]) {\n        formname = Defaults.get('formname');\n    } else {\n        var tree = getContractCategoryTree(contract_categories);\n        if (tree[0]) {\n            if (typeof tree[0] === 'object') {\n                formname = tree[0][1][0];\n            } else {\n                formname = tree[0];\n            }\n        }\n    }\n\n    // set form to session storage\n    Defaults.set('formname', formname);\n\n    // change the form placeholder content as per current form (used for mobile menu)\n    setFormPlaceholderContent(formname);\n\n    displayContractForms('contract_form_name_nav', contract_categories, formname);\n\n    processContractForm();\n\n    TradingAnalysis.request();\n\n    hideFormOverlay();\n}\n\nfunction processContractForm() {\n    Contract.details(sessionStorage.getItem('formname'));\n\n    StartDates.display();\n\n    displayPrediction();\n\n    displaySpreads();\n\n    var r1;\n    if (StartDates.displayed() && Defaults.get('date_start') && Defaults.get('date_start') !== 'now') {\n        r1 = TradingEvents.onStartDateChange(Defaults.get('date_start'));\n        if (!r1 || Defaults.get('expiry_type') === 'endtime') Durations.display();\n    } else {\n        Durations.display();\n    }\n\n    if (Defaults.get('amount')) $('#amount').val(Defaults.get('amount'));\n        else Defaults.set('amount', document.getElementById('amount').value);\n    if (Defaults.get('amount_type')) selectOption(Defaults.get('amount_type'), document.getElementById('amount_type'));\n        else Defaults.set('amount_type', document.getElementById('amount_type').value);\n    if (Defaults.get('currency')) selectOption(Defaults.get('currency'), document.getElementById('currency'));\n\n    var expiry_type = Defaults.get('expiry_type') || 'duration';\n    var make_price_request = TradingEvents.onExpiryTypeChange(expiry_type);\n\n    if (make_price_request >= 0) {\n        processPriceRequest();\n    }\n\n    if(Defaults.get('formname') === 'spreads') {\n        Defaults.remove('expiry_type', 'duration_amount', 'duration_units', 'expiry_date', 'expiry_time', 'amount', 'amount_type');\n    } else {\n        Defaults.remove('amount_per_point', 'stop_type', 'stop_loss', 'stop_profit');\n    }\n}\n\nfunction displayPrediction() {\n    var predictionElement = document.getElementById('prediction_row');\n    if (Contract.form() === 'digits' && sessionStorage.getItem('formname') !== 'evenodd') {\n        predictionElement.show();\n        if (Defaults.get('prediction')) {\n            selectOption(Defaults.get('prediction'), document.getElementById('prediction'));\n        }\n        else {\n            Defaults.set('prediction', document.getElementById('prediction').value);\n        }\n    } else {\n        predictionElement.hide();\n        Defaults.remove('prediction');\n    }\n}\n\nfunction displaySpreads() {\n    var amountType = document.getElementById('amount_type'),\n        amountPerPointLabel = document.getElementById('amount_per_point_label'),\n        amount = document.getElementById('amount'),\n        amountPerPoint = document.getElementById('amount_per_point'),\n        spreadContainer = document.getElementById('spread_element_container'),\n        stopTypeDollarLabel = document.getElementById('stop_type_dollar_label'),\n        expiryTypeRow = document.getElementById('expiry_row');\n\n    if (sessionStorage.getItem('formname') === 'spreads') {\n        amountType.hide();\n        amount.hide();\n        expiryTypeRow.hide();\n        amountPerPointLabel.show();\n        amountPerPoint.show();\n        spreadContainer.show();\n        stopTypeDollarLabel.textContent = document.getElementById('currency').value;\n        if (Defaults.get('stop_type')) {\n            var el = document.querySelectorAll('input[name=\"stop_type\"][value=\"' + Defaults.get('stop_type') + '\"]');\n            if (el) {\n                el[0].setAttribute('checked', 'checked');\n            }\n        } else {\n            Defaults.set('stop_type', document.getElementById('stop_type_points').checked ? 'point' : 'dollar');\n        }\n        if (Defaults.get('amount_per_point')) amountPerPoint.value = Defaults.get('amount_per_point');\n            else Defaults.set('amount_per_point', amountPerPoint.value);\n        if (Defaults.get('stop_loss')) document.getElementById('stop_loss').value = Defaults.get('stop_loss');\n            else Defaults.set('stop_loss', document.getElementById('stop_loss').value);\n        if (Defaults.get('stop_profit')) document.getElementById('stop_profit').value = Defaults.get('stop_profit');\n            else Defaults.set('stop_profit', document.getElementById('stop_profit').value);\n    } else {\n        amountPerPointLabel.hide();\n        amountPerPoint.hide();\n        spreadContainer.hide();\n        expiryTypeRow.show();\n        amountType.show();\n        amount.show();\n    }\n}\n\nfunction forgetTradingStreams() {\n    processForgetProposals();\n    processForgetTicks();\n}\n/*\n * Function to request for cancelling the current price proposal\n */\nfunction processForgetProposals() {\n    'use strict';\n    showPriceOverlay();\n    BinarySocket.send({\n        forget_all: \"proposal\"\n    });\n    Price.clearMapping();\n}\n\n/*\n * Function to process and calculate price based on current form\n * parameters or change in form parameters\n */\nfunction processPriceRequest() {\n    'use strict';\n\n    Price.incrFormId();\n    processForgetProposals();\n    showPriceOverlay();\n    var types = Contract.contractType()[Contract.form()];\n    if (Contract.form() === 'digits') {\n        switch (sessionStorage.getItem('formname')) {\n            case 'matchdiff':\n                types = {\n                    'DIGITMATCH': 1,\n                    'DIGITDIFF': 1\n                };\n                break;\n            case 'evenodd':\n                types = {\n                    'DIGITEVEN': 1,\n                    'DIGITODD': 1\n                };\n                break;\n            case 'overunder':\n                types = {\n                    'DIGITOVER': 1,\n                    'DIGITUNDER': 1\n                };\n        }\n    }\n    for (var typeOfContract in types) {\n        if (types.hasOwnProperty(typeOfContract)) {\n            BinarySocket.send(Price.proposal(typeOfContract));\n        }\n    }\n}\n\n/*\n * Function to cancel the current tick stream\n * this need to be invoked before makin\n */\nfunction processForgetTicks() {\n    'use strict';\n    BinarySocket.send({\n        forget_all: 'ticks'\n    });\n}\n\n/*\n * Function to process ticks stream\n */\nfunction processTick(tick) {\n    'use strict';\n    var symbol = sessionStorage.getItem('underlying');\n    var digit_info = TradingAnalysis.digit_info();\n    if(tick.echo_req.ticks === symbol || (tick.tick && tick.tick.symbol === symbol)){\n        Tick.details(tick);\n        Tick.display();\n        if (digit_info && tick.tick) {\n            digit_info.update_chart(tick);\n        }\n        WSTickDisplay.updateChart(tick);\n        Purchase.update_spot_list(tick);\n        if (!Barriers.isBarrierUpdated()) {\n            Barriers.display();\n            Barriers.setBarrierUpdate(true);\n        }\n        updateWarmChart();\n    } else {\n        if(digit_info)\n            digit_info.update_chart(tick);\n    }\n}\n\nfunction processProposal(response) {\n    'use strict';\n    var form_id = Price.getFormId();\n    if(response.echo_req && response.echo_req !== null && response.echo_req.passthrough && response.echo_req.passthrough.form_id === form_id){\n        hideOverlayContainer();\n        Price.display(response, Contract.contractType()[Contract.form()]);\n        hidePriceOverlay();\n    }\n}\n\nfunction processTradingTimesRequest(date) {\n    var trading_times = Durations.trading_times();\n    if (trading_times.hasOwnProperty(date)) {\n        processPriceRequest();\n    } else {\n        showPriceOverlay();\n        BinarySocket.send({\n            trading_times: date\n        });\n    }\n}\n\nfunction processTradingTimes(response) {\n    Durations.processTradingTimesAnswer(response);\n\n    processPriceRequest();\n}\n\nmodule.exports = {\n    processActiveSymbols: processActiveSymbols,\n    processMarket: processMarket,\n    processMarketUnderlying: processMarketUnderlying,\n    processContract: processContract,\n    processContractForm: processContractForm,\n    displayPrediction: displayPrediction,\n    displaySpreads: displaySpreads,\n    forgetTradingStreams: forgetTradingStreams,\n    processForgetProposals: processForgetProposals,\n    processPriceRequest: processPriceRequest,\n    processForgetTicks: processForgetTicks,\n    processTick: processTick,\n    processProposal: processProposal,\n    processTradingTimesRequest: processTradingTimesRequest,\n    processTradingTimes: processTradingTimes,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/process.js\n ** module id = 65\n ** module chunks = 0\n **/","/*\n * Purchase object that handles all the functions related to\n * contract purchase response\n */\n\nvar Purchase = (function () {\n    'use strict';\n\n    var purchase_data = {};\n\n    var display = function (details) {\n        purchase_data = details;\n\n        var receipt = details['buy'],\n            passthrough = details['echo_req']['passthrough'],\n            container = document.getElementById('contract_confirmation_container'),\n            message_container = document.getElementById('confirmation_message'),\n            heading = document.getElementById('contract_purchase_heading'),\n            descr = document.getElementById('contract_purchase_descr'),\n            barrier_element = document.getElementById('contract_purchase_barrier'),\n            reference = document.getElementById('contract_purchase_reference'),\n            chart = document.getElementById('tick_chart'),\n            balance = document.getElementById('contract_purchase_balance'),\n            payout = document.getElementById('contract_purchase_payout'),\n            cost = document.getElementById('contract_purchase_cost'),\n            profit = document.getElementById('contract_purchase_profit'),\n            spots = document.getElementById('contract_purchase_spots'),\n            confirmation_error = document.getElementById('confirmation_error'),\n            contracts_list = document.getElementById('contracts_list'),\n            button = document.getElementById('contract_purchase_button');\n\n        var error = details['error'];\n        var show_chart = !error && passthrough['duration']<=10 && passthrough['duration_unit']==='t' && (sessionStorage.formname === 'risefall' || sessionStorage.formname === 'higherlower' || sessionStorage.formname === 'asian');\n\n        contracts_list.style.display = 'none';\n\n        if (error) {\n            container.style.display = 'block';\n            message_container.hide();\n            confirmation_error.show();\n            confirmation_error.innerHTML = (/ClientUnwelcome/.test(error.code) ? error['message'] + '<a class=\"pjaxload\" href=\"' + page.url.url_for('user/authenticatews') + '\"> ' + text.localize('Authorise your account.' + '</a>') : error['message']);\n        } else {\n            var guideBtn = document.getElementById('guideBtn');\n            if(guideBtn) {\n                guideBtn.style.display = 'none';\n            }\n            container.style.display = 'table-row';\n            message_container.show();\n            confirmation_error.hide();\n\n            heading.textContent = Content.localize().textContractConfirmationHeading;\n            descr.textContent = receipt['longcode'];\n            if (barrier_element) barrier_element.textContent = '';\n            reference.textContent = Content.localize().textContractConfirmationReference + ' ' + receipt['transaction_id'];\n\n            var payout_value, cost_value, profit_value;\n\n            if(passthrough['basis'] === \"payout\"){\n                payout_value = passthrough['amount'];\n                cost_value = passthrough['ask-price'];\n            }\n            else{\n                cost_value = passthrough['amount'];\n                payout_value = receipt['payout'];\n            }\n            profit_value = Math.round((payout_value - cost_value)*100)/100;\n\n            if(sessionStorage.getItem('formname')==='spreads'){\n                payout.innerHTML = Content.localize().textStopLoss + ' <p>' + receipt.stop_loss_level + '</p>';\n                cost.innerHTML = Content.localize().textAmountPerPoint + ' <p>' + receipt.amount_per_point + '</p>';\n                profit.innerHTML = Content.localize().textStopProfit + ' <p>' + receipt.stop_profit_level + '</p>';\n            }\n            else {\n                payout.innerHTML = Content.localize().textContractConfirmationPayout + ' <p>' + payout_value + '</p>';\n                cost.innerHTML = Content.localize().textContractConfirmationCost + ' <p>' + cost_value + '</p>';\n                profit.innerHTML = Content.localize().textContractConfirmationProfit + ' <p>' + profit_value + '</p>';\n            }\n\n            balance.textContent = Content.localize().textContractConfirmationBalance + ' ' + format_money(TUser.get().currency, Math.round(receipt['balance_after']*100)/100);\n\n            if(show_chart){\n                chart.show();\n            }\n            else{\n                chart.hide();\n            }\n\n            if(Contract.form() === 'digits'){\n                spots.textContent = '';\n                spots.className = '';\n                spots.show();\n            }\n            else{\n                spots.hide();\n            }\n\n            if(Contract.form() !== 'digits' && !show_chart){\n                button.textContent = Content.localize().textContractConfirmationButton;\n                button.setAttribute('contract_id', receipt['contract_id']);\n                button.show();\n                $('.open_contract_detailsws').attr('contract_id', receipt['contract_id']).removeClass('invisible');\n            }\n            else{\n                button.hide();\n                $('.open_contract_detailsws').addClass('invisible');\n            }\n        }\n\n        if(show_chart){\n            var contract_sentiment;\n            if(passthrough['contract_type']==='CALL' || passthrough['contract_type']==='ASIANU'){\n                contract_sentiment = 'up';\n            }\n            else{\n                contract_sentiment = 'down';\n            }\n\n            //calculate number of decimals needed to display tick-chart according to the spot\n            //value of the underlying\n            var decimal_points = 2;\n            var tick_spots = Tick.spots();\n            var tick_spot_epochs = Object.keys(tick_spots);\n            if ( tick_spot_epochs.length > 0 ) {\n                var last_quote = tick_spots[tick_spot_epochs[0]].toString();\n\n                if ( last_quote.indexOf(\".\") != -1 ) {\n                    decimal_points = last_quote.split('.')[1].length;\n                }\n            }\n\n            var barrier;\n            if ( sessionStorage.getItem('formname') === 'higherlower' ) {\n              barrier = passthrough.barrier;\n            }\n\n            WSTickDisplay.initialize({\n                symbol:passthrough.symbol,\n                barrier: barrier,\n                number_of_ticks:passthrough.duration,\n                previous_tick_epoch:receipt['start_time'],\n                contract_category:sessionStorage.getItem('formname')==='asian' ? 'asian' : 'callput',\n                display_symbol:Symbols.getName(passthrough.symbol),\n                contract_start:receipt['start_time'],\n                display_decimals: decimal_points,\n                contract_sentiment:contract_sentiment,\n                price:passthrough['ask-price'],\n                payout:receipt['payout'],\n                show_contract_result:1,\n                width: $('#confirmation_message').width(),\n            });\n            WSTickDisplay.spots_list = {};\n        }\n    };\n\n    var update_spot_list = function(data){\n\n        if($('#contract_purchase_spots:hidden').length){\n            return;\n        }\n\n        var duration = purchase_data.echo_req && purchase_data.echo_req.passthrough ? purchase_data.echo_req.passthrough['duration'] : null;\n\n        if(!duration){\n            return;\n        }\n\n        var spots = document.getElementById('contract_purchase_spots');\n        var spots2 = Tick.spots();\n        var epoches = Object.keys(spots2).sort(function(a,b){return a-b;});\n        if(spots) spots.textContent = '';\n\n        var replace = function(d){d1 = d; return '<b>'+d+'</b>';};\n        for(var s=0; s<epoches.length; s++){\n            var tick_d = {\n                epoch: epoches[s],\n                quote: spots2[epoches[s]]\n            };\n\n            if(isVisible(spots) && tick_d.epoch && tick_d.epoch > purchase_data.buy.start_time){\n                var fragment = document.createElement('div');\n                fragment.classList.add('row');\n\n                var el1 = document.createElement('div');\n                el1.classList.add('col');\n                el1.textContent = Content.localize().textTickResultLabel + \" \" + (spots.getElementsByClassName('row').length+1);\n                fragment.appendChild(el1);\n\n                var el2 = document.createElement('div');\n                el2.classList.add('col');\n                var date = new Date(tick_d.epoch*1000);\n                var hours = date.getUTCHours() < 10 ? '0'+date.getUTCHours() : date.getUTCHours();\n                var minutes = date.getUTCMinutes() < 10 ? '0'+date.getUTCMinutes() : date.getUTCMinutes();\n                var seconds = date.getUTCSeconds() < 10 ? '0'+date.getUTCSeconds() : date.getUTCSeconds();\n                el2.textContent = hours+':'+minutes+':'+seconds;\n                fragment.appendChild(el2);\n\n                var d1;\n                var tick = tick_d.quote.replace(/\\d$/,replace);\n                var el3 = document.createElement('div');\n                el3.classList.add('col');\n                el3.innerHTML = tick;\n                fragment.appendChild(el3);\n\n                spots.appendChild(fragment);\n                spots.scrollTop = spots.scrollHeight;\n\n                if(d1 && duration===1){\n                    var contract_status,\n                        final_price,\n                        pnl;\n\n                    if  (  purchase_data.echo_req.passthrough.contract_type===\"DIGITMATCH\" && d1==purchase_data.echo_req.passthrough.barrier || purchase_data.echo_req.passthrough.contract_type===\"DIGITDIFF\" && d1!=purchase_data.echo_req.passthrough.barrier || purchase_data.echo_req.passthrough.contract_type===\"DIGITEVEN\" && d1%2===0 || purchase_data.echo_req.passthrough.contract_type===\"DIGITODD\" && d1%2 || purchase_data.echo_req.passthrough.contract_type===\"DIGITOVER\" && d1>purchase_data.echo_req.passthrough.barrier || purchase_data.echo_req.passthrough.contract_type===\"DIGITUNDER\" && d1<purchase_data.echo_req.passthrough.barrier){\n                        spots.className = 'won';\n                        final_price = $('#contract_purchase_payout p').text();\n                        pnl = $('#contract_purchase_cost p').text();\n                        contract_status = Content.localize().textContractStatusWon;\n                    }\n                    else{\n                        spots.className = 'lost';\n                        final_price = 0;\n                        pnl = -$('#contract_purchase_cost p').text();\n                        contract_status = Content.localize().textContractStatusLost;\n                    }\n\n                    updatePurchaseStatus(final_price, pnl, contract_status);\n                }\n\n                duration--;\n                if(!duration){\n                    purchase_data.echo_req.passthrough['duration'] = 0;\n                }\n            }\n\n        }\n\n    };\n\n    return {\n        display: display,\n        update_spot_list: update_spot_list\n    };\n\n})();\n\nmodule.exports = {\n    Purchase: Purchase,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/purchase.js\n ** module id = 66\n ** module chunks = 0\n **/","/*\n * Handles start time display\n *\n * It process `Contract.startDates` in case of forward\n * starting contracts and populate the start time select\n * box\n */\n\nvar StartDates = (function(){\n    'use strict';\n\n    var hasNow = 0;\n    var displayed = 0;\n\n    var compareStartDate = function(a,b) {\n        if (a.date < b.date)\n            return -1;\n        if (a.date > b.date)\n            return 1;\n        return 0;\n    };\n\n    var getElement = function(){\n        return document.getElementById('date_start');\n    };\n\n    var displayStartDates = function() {\n\n        var startDates = Contract.startDates();\n\n        if (startDates && startDates.list && startDates.list.length) {\n\n            var target= getElement(),\n                fragment =  document.createDocumentFragment(),\n                row = document.getElementById('date_start_row');\n\n            row.style.display = 'flex';\n\n            while (target && target.firstChild) {\n                target.removeChild(target.firstChild);\n            }\n\n            if(startDates.has_spot){\n                var option = document.createElement('option');\n                var content = document.createTextNode(Content.localize().textNow);\n                option.setAttribute('value', 'now');\n                $('#date_start').removeClass('light-yellow-background');\n                option.appendChild(content);\n                fragment.appendChild(option);\n                hasNow = 1;\n            }\n            else{\n                hasNow = 0;\n            }\n\n            startDates.list.sort(compareStartDate);\n\n            var first;\n            startDates.list.forEach(function (start_date) {\n                var a = moment.unix(start_date.open).utc();\n                var b = moment.unix(start_date.close).utc();\n\n                var ROUNDING = 5 * 60 * 1000;\n                var start = moment.utc();\n\n                if(moment(start).isAfter(moment(a))){\n                    a = start;\n                }\n\n                a = moment(Math.ceil((+a) / ROUNDING) * ROUNDING).utc();\n\n                while(a.isBefore(b)) {\n                    if(a.unix()-start.unix()>5*60){\n                        option = document.createElement('option');\n                        option.setAttribute('value', a.utc().unix());\n                        if(typeof first === 'undefined' && !hasNow){\n                            first = a.utc().unix();\n                        }\n                        content = document.createTextNode(a.format('HH:mm ddd').replace(' ', ' GMT, '));\n                        if(option.value === Defaults.get('date_start')) {\n                            option.setAttribute('selected', 'selected');\n                        }\n                        option.appendChild(content);\n                        fragment.appendChild(option);\n                    } \n                    a.add(5, 'minutes');\n                }\n            });\n            target.appendChild(fragment);\n            Defaults.set('date_start', target.value);\n            displayed = 1;\n            if(first){\n                TradingEvents.onStartDateChange(first);            \n            }\n        } else {\n            displayed = 0;\n            document.getElementById('date_start_row').style.display = 'none';\n            Defaults.remove('date_start');\n        }\n    };\n\n    var setNow = function(){\n        if(hasNow){\n            var element = getElement();\n            element.value = 'now';\n            $('#date_start').removeClass('light-yellow-background');\n            Defaults.set('date_start', 'now');\n        }\n    } ;\n\n    return {\n        display: displayStartDates,\n        node: getElement,\n        setNow: setNow,\n        displayed: function(){ return displayed; }\n    };\n\n})();\n\nmodule.exports = {\n    StartDates: StartDates,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/starttime.js\n ** module id = 67\n ** module chunks = 0\n **/","/*\n * Symbols object parses the active_symbols json that we get from socket.send({active_symbols: 'brief'}\n * and outputs in usable form, it gives markets, underlyings\n *\n *\n * Usage:\n *\n * use `Symbols.details` to populate this object first\n *\n * then use\n *\n * `Symbols.markets` to get markets like Forex, Random etc\n * `Symbols.underlyings` to get underlyings\n *\n */\n\nvar Symbols = (function () {\n    'use strict';\n\n    var tradeMarkets = {}, tradeMarketsList = {}, tradeUnderlyings = {}, need_page_update = 1, names = {};\n\n    var details = function (data) {\n        var allSymbols = data['active_symbols'];\n        tradeMarkets = ActiveSymbols.getMarkets(allSymbols);\n        tradeMarketsList = ActiveSymbols.getMarketsList(allSymbols);\n        tradeUnderlyings = ActiveSymbols.getTradeUnderlyings(allSymbols);\n        names = ActiveSymbols.getSymbolNames(allSymbols);\n    };\n\n    var getSymbols = function (update) {\n        var $args = {\n            active_symbols: \"brief\"\n        };\n        BinarySocket.send($args);\n        need_page_update = update;\n    };\n\n    return {\n        details: details,\n        getSymbols: getSymbols,\n        markets: function (list) { return list ? tradeMarketsList : tradeMarkets; },\n        underlyings: function () { return tradeUnderlyings; },\n        getName: function(symbol){ return names[symbol]; },\n        need_page_update: function () { return need_page_update; },\n        getAllSymbols: function(){return names;}\n    };\n\n})();\n\nmodule.exports = {\n    Symbols: Symbols,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/symbols.js\n ** module id = 68\n ** module chunks = 0\n **/","/*\n * Tick object handles all the process/display related to tick streaming\n *\n * We request tick stream for particular underlying to update current spot\n *\n *\n * Usage:\n * use `Tick.detail` to populate this object\n *\n * then use\n *\n * `Tick.quote()` to get current spot quote\n * `Tick.id()` to get the unique for current stream\n * `Tick.epoch()` to get the tick epoch time\n * 'Tick.display()` to display current spot\n */\nvar Tick = (function() {\n    'use strict';\n\n    var quote = '',\n        id = '',\n        epoch = '',\n        errorMessage = '',\n        spots = {},\n        keep_number = 20;\n\n    var details = function(data) {\n        errorMessage = '';\n\n        if (data) {\n            if (data['error']) {\n                errorMessage = data['error']['message'];\n            } else {\n                var tick = data['tick'];\n                quote = tick['quote'];\n                id = tick['id'];\n                epoch = tick['epoch'];\n\n                spots[epoch] = quote;\n                var epoches = Object.keys(spots).sort(function(a, b) {\n                    return a - b;\n                });\n                if (epoches.length > keep_number) {\n                    delete spots[epoches[0]];\n                }\n            }\n        }\n    };\n\n    var display = function() {\n        $('#spot').fadeIn(200);\n        var spotElement = document.getElementById('spot');\n        if (!spotElement) return;\n        var message = '';\n        if (errorMessage) {\n            message = errorMessage;\n        } else {\n            message = quote;\n        }\n\n        if (parseFloat(message) != message) {\n            spotElement.className = 'error';\n        } else {\n            spotElement.classList.remove('error');\n            displayPriceMovement(spotElement, spotElement.textContent, message);\n            displayIndicativeBarrier();\n        }\n\n        spotElement.textContent = message;\n    };\n\n    var request = function(symbol) {\n        BinarySocket.send({\n            \"ticks_history\": symbol,\n            \"style\": \"ticks\",\n            \"end\": \"latest\",\n            \"count\": keep_number,\n            \"subscribe\": 1\n        });\n    };\n\n    var processHistory = function(res) {\n        if (res.history && res.history.times && res.history.prices) {\n            for (var i = 0; i < res.history.times.length; i++) {\n                details({\n                    tick: {\n                        epoch: res.history.times[i],\n                        quote: res.history.prices[i]\n                    }\n                });\n            }\n        }\n    };\n\n    return {\n        details: details,\n        display: display,\n        quote: function() {\n            return quote;\n        },\n        id: function() {\n            return id;\n        },\n        epoch: function() {\n            return epoch;\n        },\n        errorMessage: function() {\n            return errorMessage;\n        },\n        clean: function() {\n            spots = {};\n            quote = '';\n            $('#spot').fadeOut(200, function(){\n                // resets spot movement coloring, will continue on the next tick responses\n                $(this).removeClass('price_moved_down price_moved_up').text('');\n            });\n        },\n        spots: function() {\n            return spots;\n        },\n        setQuote: function(q) {\n            quote = q;\n        },\n        request: request,\n        processHistory: processHistory\n    };\n})();\n\nmodule.exports = {\n    Tick: Tick,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/tick.js\n ** module id = 69\n ** module chunks = 0\n **/","var TickDisplay = function() {\n    return {\n        initialize: function(data) {\n            var $self = this;\n\n            // setting up globals\n            $self.number_of_ticks = parseInt(data.number_of_ticks);\n            $self.symbol = data.symbol;\n            $self.display_symbol = data.display_symbol;\n            $self.contract_start_ms = parseInt(data.contract_start * 1000);\n            $self.contract_category = data.contract_category;\n            $self.set_barrier = ($self.contract_category.match('digits')) ? false : true;\n            $self.barrier = data.barrier;\n            $self.abs_barrier = data.abs_barrier;\n            $self.display_decimals = data.display_decimals || 2;\n            $self.show_contract_result = data.show_contract_result;\n            var tick_frequency = 5;\n\n            if (data.show_contract_result) {\n                $self.contract_sentiment = data.contract_sentiment;\n                $self.price = parseFloat(data.price);\n                $self.payout = parseFloat(data.payout);\n            }\n\n            var minimize = data.show_contract_result;\n\n            $self.set_x_indicators();\n            $self.initialize_chart({\n                plot_from: data.previous_tick_epoch * 1000,\n                plot_to: new Date((parseInt(data.contract_start) + parseInt(($self.number_of_ticks+2)*tick_frequency)) * 1000).getTime(),\n                minimize: minimize,\n                width: data.width ? data.width : undefined\n            });\n        },\n        set_x_indicators: function() {\n            var $self = this;\n\n            var exit_tick_index = $self.number_of_ticks - 1;\n            if ($self.contract_category.match('asian')) {\n                $self.ticks_needed = $self.number_of_ticks;\n                $self.x_indicators = {\n                    '_0': { label: 'Entry Spot', id: 'start_tick'},\n                };\n                $self.x_indicators['_' + exit_tick_index] = {\n                    label: 'Exit Spot',\n                    id: 'exit_tick',\n                };\n            } else if ($self.contract_category.match('callput')) {\n                $self.ticks_needed = $self.number_of_ticks + 1;\n                $self.x_indicators = {\n                    '_0': { label: 'Entry Spot', id: 'entry_tick'},\n                };\n                $self.x_indicators['_' + $self.number_of_ticks] = {\n                    label: 'Exit Spot',\n                    id: 'exit_tick',\n                };\n            } else if ($self.contract_category.match('digits')) {\n                $self.ticks_needed = $self.number_of_ticks;\n                $self.x_indicators = {\n                    '_0': { label: 'Tick 1', id: 'start_tick'},\n                };\n                $self.x_indicators['_' + exit_tick_index] = {\n                    label:  'Tick ' + $self.number_of_ticks,\n                    id: 'last_tick',\n                };\n            } else {\n                $self.x_indicators = {};\n            }\n        },\n        initialize_chart: function(config) {\n            var $self = this;\n\n            $self.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'line',\n                    renderTo: 'tick_chart',\n                    width: config.width ? config.width : (config.minimize ? 394 : null),\n                    height: config.minimize ? 143 : null,\n                    backgroundColor: null,\n                    events: { load: $self.plot(config.plot_from, config.plot_to) },\n                    marginLeft: 50\n                },\n                credits: {enabled: false},\n                tooltip: {\n                    formatter: function () {\n                        var that = this;\n                        var new_y = that.y.toFixed($self.display_decimals);\n                        var mom = moment.utc($self.applicable_ticks[that.x].epoch*1000).format(\"dddd, MMM D, HH:mm:ss\");\n                        return mom + \"<br/>\" + $self.display_symbol + \" \" + new_y;\n                    },\n                },\n                xAxis: {\n                    type: 'linear',\n                    min: 0,\n                    max: $self.number_of_ticks + 1,\n                    labels: { enabled: false, }\n                },\n                yAxis: {\n                    opposite: false,\n                    labels: {\n                        align: 'left',\n                        x: 0,\n                    },\n                    title: ''\n                },\n                series: [{\n                    data: [],\n                }],\n                title: '',\n                exporting: {enabled: false, enableImages: false},\n                legend: {enabled: false},\n            });\n            Highcharts.setOptions({\n              lang: {thousandsSep: ','}\n            });\n        },\n        apply_chart_background_color: function(tick) {\n            var $self = this;\n            if(!$self.show_contract_result) {\n                return;\n            }\n            var chart_container = $('#tick_chart');\n            if ($self.contract_sentiment === 'up') {\n                if (tick.quote > $self.contract_barrier) {\n                    chart_container.css('background-color', 'rgba(46,136,54,0.198039)');\n                } else {\n                    chart_container.css('background-color', 'rgba(204,0,0,0.098039)');\n                }\n            } else if ($self.contract_sentiment === 'down') {\n                if (tick.quote < $self.contract_barrier) {\n                    chart_container.css('background-color', 'rgba(46,136,54,0.198039)');\n                } else {\n                    chart_container.css('background-color', 'rgba(204,0,0,0.098039)');\n                }\n            }\n        },\n        add_barrier: function() {\n            var $self = this;\n\n            if (!$self.set_barrier) {\n                return;\n            }\n\n            var barrier_type = $self.contract_category.match('asian') ? 'asian' : 'static';\n\n            if (barrier_type === 'static') {\n                var barrier_tick = $self.applicable_ticks[0];\n\n                if ( $self.barrier ) {\n                  var final_barrier = barrier_tick.quote + parseFloat($self.barrier);\n                  //sometimes due to rounding issues, result is 1.009999 while it should\n                  //be 1.01\n                  final_barrier = Number(Math.round(final_barrier+'e'+$self.display_decimals)+'e-'+$self.display_decimals);\n\n                  barrier_tick.quote = final_barrier;\n                }\n                else if ( $self.abs_barrier ) {\n                  barrier_tick.quote = parseFloat($self.abs_barrier);\n                }\n\n                $self.chart.yAxis[0].addPlotLine({\n                    id: 'tick-barrier',\n                    value: barrier_tick.quote,\n                    label: {text: 'Barrier ('+barrier_tick.quote+')', align: 'center'},\n                    color: 'green',\n                    width: 2,\n                    zIndex: 2,\n                });\n                $self.contract_barrier = barrier_tick.quote;\n                $self.set_barrier = false;\n            }\n\n            if (barrier_type === 'asian') {\n                var total = 0;\n                for (var i=0; i < $self.applicable_ticks.length; i++) {\n                    total += parseFloat($self.applicable_ticks[i].quote);\n                }\n                var calc_barrier =  total/$self.applicable_ticks.length;\n                calc_barrier = calc_barrier.toFixed(parseInt($self.display_decimals) + 1); // round calculated barrier\n\n                $self.chart.yAxis[0].removePlotLine('tick-barrier');\n                $self.chart.yAxis[0].addPlotLine({\n                    id: 'tick-barrier',\n                    value: calc_barrier,\n                    color: 'green',\n                    label: {\n                        text: 'Average ('+calc_barrier+')',\n                        align: 'center'\n                    },\n                    width: 2,\n                    zIndex: 2,\n                });\n                $self.contract_barrier = calc_barrier;\n            }\n            var barrier = document.getElementById('contract_purchase_barrier');\n            if ($self.contract_barrier && barrier) {\n                barrier.innerHTML = Content.localize().textBarrier + ': ' + $self.contract_barrier;\n            }\n        },\n        add: function(indicator) {\n            var $self = this;\n\n            $self.chart.xAxis[0].addPlotLine({\n               value: indicator.index,\n               id: indicator.id,\n               label: {text: indicator.label, x: /start_tick|entry_tick/.test(indicator.id) ? -15 : 5},\n               color: '#e98024',\n               width: 2,\n               zIndex: 2,\n            });\n        },\n        evaluate_contract_outcome: function() {\n            var $self = this;\n\n            if (!$self.contract_barrier) {\n                return; // can't do anything without barrier\n            }\n\n            var exit_tick_index = $self.applicable_ticks.length - 1;\n            var exit_spot = $self.applicable_ticks[exit_tick_index].quote;\n\n            if ($self.contract_sentiment === 'up') {\n                if (exit_spot > $self.contract_barrier) {\n                    $self.win();\n                } else {\n                    $self.lose();\n                }\n            } else if ($self.contract_sentiment === 'down') {\n                if (exit_spot < $self.contract_barrier) {\n                    $self.win();\n                } else {\n                    $self.lose();\n                }\n            }\n        },\n        win: function() {\n            var $self = this;\n\n            var profit = $self.payout - $self.price;\n            $self.update_ui($self.payout, profit, text.localize('This contract won'));\n        },\n        lose: function() {\n            var $self = this;\n            $self.update_ui(0, -$self.price, text.localize('This contract lost'));\n        },\n        to_monetary_format: function(number) {\n            return number.toFixed(2);\n        }\n    };\n}();\n\nvar WSTickDisplay = Object.create(TickDisplay);\nWSTickDisplay.plot = function(plot_from, plot_to) {\n    var $self = this;\n    $self.contract_start_moment = moment($self.contract_start_ms).utc();\n    $self.counter = 0;\n    $self.applicable_ticks = [];\n};\nWSTickDisplay.update_ui = function(final_price, pnl, contract_status) {\n    var $self = this;\n    updatePurchaseStatus(final_price, final_price - pnl, contract_status);\n};\nWSTickDisplay.socketSend = function(req) {\n    if(!req.hasOwnProperty('passthrough')) {\n        req.passthrough = {};\n    }\n    req.passthrough['dispatch_to'] = 'ViewTickDisplayWS';\n    BinarySocket.send(req);\n};\nWSTickDisplay.dispatch = function(data) {\n  var $self = this;\n  var chart = document.getElementById('tick_chart');\n\n  if (!chart || !isVisible(chart) || !data || (!data.tick && !data.history)) {\n      return;\n  }\n\n  if (window.subscribe && data.tick && document.getElementById('sell_content_wrapper')) {\n      if (data.echo_req.hasOwnProperty('passthrough') && data.echo_req.passthrough.dispatch_to === 'ViewChartWS') return;\n      window.responseID = data.tick.id;\n      ViewPopupWS.storeSubscriptionID(window.responseID);\n  }\n\n  var epoches, spots2, display_decimals;\n  if (document.getElementById('sell_content_wrapper')) {\n    if (data.tick && document.getElementById('sell_content_wrapper')) {\n      Tick.details(data);\n      if (!display_decimals) {\n        display_decimals = data.tick.quote.split('.')[1].length || 2;\n      }\n    } else if (data.history && document.getElementById('sell_content_wrapper')) {\n      if (!display_decimals) {\n        display_decimals = data.history.prices[0].split('.')[1].length || 2;\n      }\n    }\n    if (!window.tick_init || window.tick_init === '') {\n      WSTickDisplay.initialize({\n          \"symbol\"              : window.tick_underlying,\n          \"number_of_ticks\"     : window.tick_count,\n          \"contract_category\"   : ((/asian/i).test(window.tick_shortcode) ? 'asian' : (/digit/i).test(window.tick_shortcode) ? 'digits' : 'callput'),\n          \"longcode\"            : window.tick_longcode,\n          \"display_symbol\"      : window.tick_display_name,\n          \"contract_start\"      : window.tick_date_start,\n          \"abs_barrier\"         : window.abs_barrier,\n          \"display_decimals\"    : display_decimals,\n          \"show_contract_result\": 0\n      });\n      WSTickDisplay.spots_list = {};\n      window.tick_init = 'initialized';\n    }\n  }\n  if (data.tick) {\n    spots2 = Tick.spots();\n    epoches = Object.keys(spots2).sort(function(a, b) {\n        return a - b;\n    });\n  } else if (data.history) {\n    epoches = data.history.times;\n  }\n\n  if ($self.applicable_ticks && $self.ticks_needed && $self.applicable_ticks.length >= $self.ticks_needed) {\n      $self.evaluate_contract_outcome();\n      if (window.responseID) {\n        BinarySocket.send({'forget':window.responseID});\n      }\n      return;\n  } else {\n      for (var d = 0; d < epoches.length; d++) {\n          var tick;\n          if (data.tick) {\n            tick = {\n                epoch: parseInt(epoches[d]),\n                quote: parseFloat(spots2[epoches[d]])\n            };\n          } else if (data.history) {\n            tick = {\n                epoch: parseInt(data.history.times[d]),\n                quote: parseFloat(data.history.prices[d])\n            };\n          }\n\n          if (tick.epoch > $self.contract_start_moment.unix() && !$self.spots_list[tick.epoch]) {\n              if (!$self.chart) return;\n              if (!$self.chart.series) return;\n              $self.chart.series[0].addPoint([$self.counter, tick.quote], true, false);\n              $self.applicable_ticks.push(tick);\n              $self.spots_list[tick.epoch] = tick.quote;\n              var indicator_key = '_' + $self.counter;\n              if (typeof $self.x_indicators[indicator_key] !== 'undefined') {\n                  $self.x_indicators[indicator_key]['index'] = $self.counter;\n                  $self.add($self.x_indicators[indicator_key]);\n              }\n\n              $self.add_barrier();\n              $self.apply_chart_background_color(tick);\n              $self.counter++;\n          }\n      }\n  }\n};\nWSTickDisplay.updateChart = function(data, contract) {\n    window.subscribe = 'false';\n    if (contract) {\n      window.tick_underlying = contract.underlying;\n      window.tick_count = contract.tick_count;\n      window.tick_longcode = contract.longcode;\n      window.tick_display_name = contract.display_name;\n      window.tick_date_start = contract.date_start;\n      window.abs_barrier = contract.barrier;\n      window.tick_shortcode = contract.shortcode;\n      window.tick_init = '';\n      var request = {\n        ticks_history: contract.underlying,\n        start: contract.date_start,\n        end: 'latest'\n      };\n      if (contract.current_spot_time < contract.date_expiry) {\n        request.subscribe = 1;\n        window.subscribe = 'true';\n      } else {\n        request.end = contract.date_expiry;\n      }\n      WSTickDisplay.socketSend(request);\n      return;\n    } else {\n      WSTickDisplay.dispatch(data);\n    }\n};\n\nmodule.exports = {\n    TickDisplay: TickDisplay,\n    WSTickDisplay: WSTickDisplay,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/tick_trade.js\n ** module id = 70\n ** module chunks = 0\n **/","var TradePage = (function(){\n\n  var trading_page = 0, events_initialized = 0;\n\n  var onLoad = function(){\n    if(japanese_client() && /\\/trading\\.html/i.test(window.location.pathname)) {\n        window.location.href = page.url.url_for('jptrading');\n        return;\n    } else if (!japanese_client() && /jp/.test(window.location.pathname)) {\n        window.location.href = page.url.url_for('trading');\n        return;\n    }\n    trading_page = 1;\n    if(sessionStorage.getItem('currencies')){\n      displayCurrencies();\n    }\n    BinarySocket.init({\n      onmessage: function(msg){\n        Message.process(msg);\n      }\n    });\n    Price.clearFormId();\n    if (events_initialized === 0) {\n        events_initialized = 1;\n        TradingEvents.init();\n    }\n    Content.populate();\n\n    if(sessionStorage.getItem('currencies')){\n      displayCurrencies();\n      Symbols.getSymbols(1);\n    }\n    else {\n      BinarySocket.send({ payout_currencies: 1 });\n    }\n\n    if (document.getElementById('websocket_form')) {\n        addEventListenerForm();\n    }\n\n    // Walktrough Guide\n    Guide.init({\n      script : 'trading'\n    });\n    TradingAnalysis.bindAnalysisTabEvent();\n    $('#tab_portfolio a').text(text.localize('Portfolio'));\n    $('#tab_graph a').text(text.localize('Chart'));\n    $('#tab_explanation a').text(text.localize('Explanation'));\n    $('#tab_last_digit a').text(text.localize('Last Digit Stats'));\n  };\n\n  var reload = function() {\n    sessionStorage.removeItem('underlying');\n    window.location.reload();\n  };\n\n  var onUnload = function(){\n    trading_page = 0;\n    events_initialized = 0;\n    forgetTradingStreams();\n    BinarySocket.clear();\n    Defaults.clear();\n  };\n\n  return {\n    onLoad: onLoad,\n    reload: reload,\n    onUnload : onUnload,\n    is_trading_page: function(){return trading_page;}\n  };\n})();\n\nmodule.exports = {\n    TradePage: TradePage,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/trade/tradepage.js\n ** module id = 71\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"user/authenticatews\", function(){\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('user/my_accountws');\n            }\n            Content.populate();\n            function show_error(error) {\n                $('#error_message').removeClass('invisible').text(error);\n            }\n            function check_virtual() {\n                if (page.client.is_virtual()) {\n                    show_error(text.localize('This feature is not relevant to virtual-money accounts.'));\n                }\n                return page.client.is_virtual();\n            }\n            var message = document.getElementById('authentication-message');\n            if (!check_virtual()) {\n                BinarySocket.init({\n                    onmessage: function(msg){\n                        var response = JSON.parse(msg.data);\n                        if (response) {\n                            var error = response.error;\n                            if (response.msg_type === 'get_account_status' && !check_virtual() && !error){\n                                if ($.inArray('authenticated', response.get_account_status.status) > -1) {\n                                    $('#fully-authenticated').removeClass('invisible');\n                                } else {\n                                    $('#not-authenticated').removeClass('invisible');\n                                }\n                            } else if (error) {\n                                show_error(error.message);\n                            }\n                        }\n                    }\n                });\n                BinarySocket.send({'get_account_status': 1});\n            }\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/authenticate.js\n ** module id = 72\n ** module chunks = 0\n **/","var PasswordWS = (function(){\n    var $form, $result;\n\n    function init() {\n        $('#change-password').removeClass('invisible');\n        $form   = $('#change-password > form');\n        $result = $('#change-password > div[data-id=\"success-result\"]');\n        bind_validation.simple($form[0], {\n            stop:     displayErrors,\n            schema:   getSchema(),\n            submit:   function(ev, info) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                if (info.errors.length > 0) return;\n                sendRequest(info.values);\n            },\n        });\n    }\n\n    var IS_EMPTY    = {q: 'old-blank'};\n    var MATCHES_OLD = {q: 'same-as-old'};\n\n    function displayErrors(info) {\n        ValidationUI.clear();\n        $form.find('p[data-error]').addClass('hidden');\n        info.errors.forEach(function(err) {\n            switch (err.err) {\n                case MATCHES_OLD:\n                case IS_EMPTY:\n                    $form.find('p[data-error=\"'+err.err.q+'\"]').removeClass('hidden');\n                    break;\n                default:\n                    ValidationUI.draw('input[name=' + err.ctx + ']', err.err);\n            }\n        });\n    }\n\n    function getSchema() {\n        var V2 = ValidateV2;\n        var err = Content.localize().textPasswordsNotMatching;\n        function notMatchingOld(value, data) {\n            return value !== data.old_password;\n        }\n        function match(value, data) {\n            return value === data.new_password;\n        }\n        return {\n            old_password: [customError(V2.required, IS_EMPTY)],\n            new_password: [V2.required, dv.check(notMatchingOld, MATCHES_OLD), V2.password],\n            repeat_password: [V2.required, dv.check(match, err)],\n        };\n    }\n\n    function sendRequest(data) {\n        BinarySocket.send({\n            'change_password': '1',\n            'old_password': data.old_password,\n            'new_password': data.new_password,\n        });\n    }\n\n    function handler(response) {\n        if ('error' in response) {\n            var errorMsg = text.localize('Old password is wrong.');\n            if ('message' in response.error) {\n                if (response.error.message.indexOf('old_password') === -1) {\n                    errorMsg = response.error.message;\n                }\n            }\n            $form.find('p[data-error=\"server-sent-error\"]').text(errorMsg).removeClass('hidden');\n            return;\n        }\n\n        $form.addClass('hidden');\n        $result.removeClass('hidden');\n        setTimeout(function() {\n            page.client.send_logout_request(true);\n        }, 5000);\n    }\n\n    return {\n        init: init,\n        handler: handler\n    };\n})();\n\npjax_config_page_require_auth('user/change_password', function() {\n    return {\n        onLoad: function() {\n            Content.populate();\n            if (isIE() === false) {\n                $('#new_password').on('input', function() {\n                    $('#password-meter').attr('value', testPassword(this.value)[0]);\n                });\n            } else {\n                $('#password-meter').remove();\n            }\n\n            BinarySocket.init({\n                onmessage: function(msg){\n                    var response = JSON.parse(msg.data);\n                    if (!response) return;\n                    var type = response.msg_type;\n                    if (type === 'change_password' || (type === 'error' && 'change_password' in response.echo_req)) {\n                        PasswordWS.handler(response);\n                    }\n                }\n            });\n            PasswordWS.init();\n        }\n    };\n});\n\nmodule.exports = {\n    PasswordWS: PasswordWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/change_password.js\n ** module id = 73\n ** module chunks = 0\n **/","var PaymentAgentTransferData = (function () {\n    \"use strict\";\n    function transfer(transferTo, currency, amount, toDryRun) {\n        var dryRun = toDryRun ? 1 : 0;\n        BinarySocket.send({\n            paymentagent_transfer: 1,\n            transfer_to: transferTo,\n            currency: currency,\n            amount: amount,\n            dry_run: dryRun\n        });\n    }\n\n    return {\n        transfer: transfer\n    };\n}());\n\nmodule.exports = {\n    PaymentAgentTransferData: PaymentAgentTransferData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.data.js\n ** module id = 74\n ** module chunks = 0\n **/","var PaymentAgentTransfer = (function () {\n    var hiddenClass = 'invisible',\n        paymentagent;\n\n    function init_variable() {\n      paymentagent = false;\n    }\n\n    function handleResponse(response) {\n      var type = response.msg_type;\n      if (type === 'get_settings') {\n        error_if_not_pa(response);\n      }\n\n      if (type === 'authorize' && paymentagent) {\n          PaymentAgentTransfer.init(true);\n      }\n\n      if (type === 'paymentagent_transfer'){\n          PaymentAgentTransfer.paymentAgentTransferHandler(response);\n      }\n    }\n\n    function paymentAgentTransferHandler(response) {\n        var req = response.echo_req;\n\n        if (response.error) {\n            if (req.dry_run === 1) {\n                $('#transfer_error_client_id').removeClass(hiddenClass);\n                $('#transfer_error_client_id').text(response.error.message);\n                return;\n            } else {\n                PaymentAgentTransferUI.showTransferError(response.error.message);\n            }\n        }\n\n        if (response.paymentagent_transfer === 2) {\n            PaymentAgentTransferUI.hideForm();\n            PaymentAgentTransferUI.hideDone();\n            PaymentAgentTransferUI.hideNotes();\n\n            PaymentAgentTransferUI.showConfirmation();\n\n            PaymentAgentTransferUI\n                .updateConfirmView(response.client_to_full_name, req.transfer_to, req.amount, req.currency);\n        }\n\n        if (response.paymentagent_transfer === 1) {\n            PaymentAgentTransferUI.hideForm();\n            PaymentAgentTransferUI.hideConfirmation();\n            PaymentAgentTransferUI.hideNotes();\n\n            PaymentAgentTransferUI.showDone();\n\n            PaymentAgentTransferUI.updateDoneView(TUser.get().loginid, req.transfer_to, req.amount, req.currency);\n        }\n    }\n\n    function init(auth) {\n        var $pa_form = $('#paymentagent_transfer');\n\n        var currency = TUser.get().currency;\n\n        if (auth && !currency) {\n            $('#no_balance_error').removeClass(hiddenClass);\n            $pa_form.addClass(hiddenClass);\n\n            return;\n        } else {\n            $('#no_balance_error').addClass(hiddenClass);\n            $pa_form.removeClass(hiddenClass);\n            $('#paymentagent_transfer_notes').removeClass('invisible');\n        }\n\n        PaymentAgentTransferUI.updateFormView(currency);\n\n        var $submitFormButton = $pa_form.find('button#submit');\n        var $clientIDInput = $pa_form.find('input#client_id');\n        var $amountInput = $pa_form.find('input[name=\"amount\"]');\n\n        var $clientIDError = $('#transfer_error_client_id');\n        var $amountError = $('#transfer_error_amount');\n        var $insufficientBalError = $('#insufficient-balance-error');\n\n        var $paConfirmTransferButton = $('#pa_confirm_transfer #confirm_transfer');\n        var $paConfirmBackButton = $('#back_transfer');\n\n        $submitFormButton.click(function() {\n            var clientID = $clientIDInput.val();\n            var amount = $amountInput.val();\n\n            if (!clientID) {\n                $clientIDError.removeClass(hiddenClass);\n                $clientIDError.text('Please enter the Login ID to transfer funds.');\n                return;\n            }\n\n            if (!(/^\\w+\\d+$/.test(clientID))) {\n                $clientIDError.removeClass(hiddenClass);\n                $clientIDError.text('Please enter a valid Login ID.');\n                return;\n            }\n\n            if (!amount) {\n                $amountError.removeClass(hiddenClass);\n                return;\n            }\n\n            if (amount > 2000 || amount < 10) {\n                $amountError.removeClass(hiddenClass);\n                return;\n            }\n\n            var bal = +(TUser.get().balance);\n            if (amount > bal) {\n                $insufficientBalError.removeClass(hiddenClass);\n                return;\n            }\n\n            PaymentAgentTransferData.transfer(clientID, currency, amount, true);\n        });\n\n        $paConfirmTransferButton.click(function() {\n            $paConfirmTransferButton.attr('disabled','disabled');\n            var clientID = $clientIDInput.val();\n            var amount = $amountInput.val();\n            PaymentAgentTransferData.transfer(clientID, currency, amount, false);\n        });\n\n        $paConfirmBackButton.click(function() {\n            PaymentAgentTransferUI.showForm();\n            PaymentAgentTransferUI.showNotes();\n            PaymentAgentTransferUI.hideConfirmation();\n            PaymentAgentTransferUI.hideDone();\n        });\n\n        $clientIDInput.keyup(function(ev) {\n            $clientIDError.addClass(hiddenClass);\n\n            if (ev.which === 13) {\n                $submitFormButton.click();\n            }\n        });\n\n        $amountInput.keypress(onlyNumericOnKeypress);\n\n        $amountInput.keyup(function(ev){\n            $amountError.addClass(hiddenClass);\n            $insufficientBalError.addClass(hiddenClass);\n\n            if (ev.which === 13) {\n                $submitFormButton.click();\n            }\n        });\n    }\n\n    function error_if_virtual() {\n      if (page.client.is_virtual()) {\n        $('#virtual_error').removeClass('invisible');\n        return true;\n      }\n      return false;\n    }\n\n    function error_if_not_pa(response) {\n      if (response.get_settings.hasOwnProperty('is_authenticated_payment_agent') && response.get_settings.is_authenticated_payment_agent === 0) {\n        $('#not_pa_error').removeClass('invisible');\n        return;\n      } else if (error_if_virtual()) {\n        return;\n      } else if (response.get_settings.is_authenticated_payment_agent) {\n        $('#paymentagent_transfer').removeClass('invisible');\n        $('#paymentagent_transfer_notes').removeClass('invisible');\n        paymentagent = true;\n        PaymentAgentTransfer.init(true);\n        return;\n      }\n    }\n\n    return {\n        init: init,\n        init_variable: init_variable,\n        handleResponse: handleResponse,\n        paymentAgentTransferHandler: paymentAgentTransferHandler\n    };\n}());\n\nmodule.exports = {\n    PaymentAgentTransfer: PaymentAgentTransfer,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.init.js\n ** module id = 75\n ** module chunks = 0\n **/","var PaymentAgentTransferUI = (function () {\n    \"use strict\";\n    var hiddenClass = 'invisible';\n    \n    function hideForm() {\n        $('#paymentagent_transfer').addClass(hiddenClass);\n    }\n    function showForm() {\n        $('#paymentagent_transfer').removeClass(hiddenClass);\n    }\n\n    function hideConfirmation() {\n        $('#pa_confirm_transfer').addClass(hiddenClass);\n    }\n    function showConfirmation() {\n        $('#pa_confirm_transfer').removeClass(hiddenClass);\n        $('#pa_confirm_transfer .errorfield').addClass(hiddenClass);\n    }\n\n    function hideDone() {\n        $('#pa_transfer_done').addClass(hiddenClass);\n    }\n    function showDone() {\n        $('#pa_transfer_done').removeClass(hiddenClass);\n    }\n\n    function hideNotes() {\n        $('#paymentagent_transfer_notes').addClass(hiddenClass);\n    }\n    function showNotes() {\n        $('#paymentagent_transfer_notes').removeClass(hiddenClass);\n    }\n    function updateFormView(currency) {\n        $('#paymentagent_transfer label[for=\"amount\"]').text(text.localize('Amount') + ' ' + currency);\n    }\n\n    function updateConfirmView(username, loginid, amount, currency) {\n        $('#pa_confirm_transfer td#user-name').html(username);\n        $('#pa_confirm_transfer td#login-id').html(loginid);\n        $('#pa_confirm_transfer td#amount').html(currency + ' ' + amount);\n    }\n\n    function showTransferError(err) {\n        $('#pa_confirm_transfer .errorfield')\n            .removeClass(hiddenClass)\n            .text(text.localize(err));\n    }\n\n    function updateDoneView(fromID, toID, amount, currency) {\n        var templateString = \"Your request to transfer [_1] [_2] from [_3] to [_4] has been successfully processed.\";\n        var confirmMsg = text.localize(templateString, [\n            amount,\n            currency,\n            fromID,\n            toID,\n        ]);\n\n        $('#pa_transfer_done > #confirm-msg').text(confirmMsg);\n        $('#pa_transfer_done > #confirm-msg').removeClass(hiddenClass);\n    }\n\n    return {\n        hideForm: hideForm,\n        showForm: showForm,\n        hideConfirmation: hideConfirmation,\n        showConfirmation: showConfirmation,\n        hideDone: hideDone,\n        showDone: showDone,\n        hideNotes: hideNotes,\n        showNotes: showNotes,\n        showTransferError: showTransferError,\n        updateFormView: updateFormView,\n        updateConfirmView: updateConfirmView,\n        updateDoneView: updateDoneView\n    };\n}());\n\nmodule.exports = {\n    PaymentAgentTransferUI: PaymentAgentTransferUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer/payment_agent_transfer.ui.js\n ** module id = 76\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"paymentagent/transferws\", function(){\n    return {\n        onLoad: function() {\n            BinarySocket.init({\n                onmessage: function(msg){\n                    var response = JSON.parse(msg.data);\n\n                    if (response) {\n                        PaymentAgentTransfer.handleResponse(response);\n                    }\n                }\n            });\n            Content.populate();\n            PaymentAgentTransfer.init_variable();\n            if (TUser.get().email) {\n                PaymentAgentTransfer.init();\n            }\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/payment_agent_transfer.js\n ** module id = 77\n ** module chunks = 0\n **/","var PortfolioWS =  (function() {\n    'use strict';\n\n    var values,\n        currency,\n        oauth_apps;\n\n    var init = function() {\n        values = {};\n        currency = '';\n        oauth_apps = {};\n        showLoadingImage($(\"#portfolio-loading\"));\n        if (TUser.get().balance) {\n            updateBalance();\n        }\n        BinarySocket.send({\"portfolio\":1});\n        // Subscribe to transactions to auto update new purchases\n        BinarySocket.send({'transaction': 1, 'subscribe': 1});\n        BinarySocket.send({'oauth_apps': 1});\n    };\n\n    var createPortfolioRow = function(data) {\n        console.log(data);\n        var longCode = typeof module !== 'undefined' ? \n            data.longcode : \n            (japanese_client() ? toJapanTimeIfNeeded(void 0, void 0, data.longcode) : data.longcode);\n\n        $('#portfolio-body').append(\n            $('<tr class=\"flex-tr\" id=\"' + data.contract_id + '\">' +\n                '<td class=\"ref flex-tr-child\">' + '<span' + showTooltip(data.app_id, oauth_apps[data.app_id]) + '>' + data.transaction_id + '</span>' +\n                '</td>' +\n                '<td class=\"payout flex-tr-child\"><strong>' + format_money(data.currency, data.payout) + '</strong></td>' +\n                '<td class=\"details flex-tr-child\">' + longCode + '</td>' +\n                '<td class=\"purchase flex-tr-child\"><strong>' + format_money(data.currency, data.buy_price) + '</strong></td>' +\n                '<td class=\"indicative flex-tr-child\"><strong class=\"indicative_price\">' + format_money(data.currency, '--.--') + '</strong></td>' +\n                '<td class=\"button flex-tr-child\"><button class=\"button open_contract_detailsws\" contract_id=\"' + data.contract_id + '\">' + text.localize('View') + '</button></td>' +\n            '</tr>')\n        );\n    };\n\n    var updateBalance = function() {\n        if ($(\"#portfolio-balance\").length === 0) return;\n        $(\"#portfolio-balance\").text(Portfolio.getBalance(TUser.get().balance, TUser.get().currency));\n        if(Portfolio.getBalance(TUser.get().balance) > 0 || page.client.is_virtual()) {\n            $('#if-balance-zero:visible').addClass('invisible');\n        } else {\n            $('#if-balance-zero:hidden').removeClass('invisible');\n        }\n    };\n\n    var updatePortfolio = function(data) {\n        if(data.hasOwnProperty('error')) {\n            errorMessage(data.error.message);\n            return;\n        }\n\n        // no open contracts\n        if(data.portfolio.contracts.length === 0) {\n            $(\"#portfolio-no-contract\").show();\n            $(\"#portfolio-table\").addClass(\"invisible\");\n        } else {\n            /**\n             * User has at least one contract\n            **/\n            $(\"#portfolio-no-contract\").hide();\n            var portfolio_data,\n                contracts = '';\n            values = {};\n            $.each(data.portfolio.contracts, function(ci, c) {\n                if(!values.hasOwnProperty(c.contract_id)) values[c.contract_id] = {};\n                values[c.contract_id].buy_price = c.buy_price;\n                portfolio_data = Portfolio.getPortfolioData(c);\n                currency = portfolio_data.currency;\n                createPortfolioRow(portfolio_data);\n            });\n            $(\"#portfolio-table\").removeClass(\"invisible\");\n\n            // update footer area data\n            updateFooter();\n\n            // request \"proposal_open_contract\"\n            BinarySocket.send({\"proposal_open_contract\":1, \"subscribe\":1});\n        }\n        // ready to show portfolio table\n        $(\"#portfolio-loading\").hide();\n        $(\"#portfolio-content\").removeClass(\"invisible\");\n    };\n\n    var transactionResponseHandler = function(response) {\n        if(response.hasOwnProperty('error')) {\n            errorMessage(response.error.message);\n            return;\n        } else if(response.transaction.action === 'buy') {\n            $('#portfolio-body').empty();\n            BinarySocket.send({'portfolio': 1});\n        } else if(response.transaction.action === 'sell') {\n            removeContract(response.transaction.contract_id);\n        }\n        if ($('#portfolio-body tr').length === 0) {\n            $('#portfolio-table').addClass('invisible');\n            $('#cost-of-open-positions').text('');\n            $('#value-of-open-positions').text('');\n            $(\"#portfolio-no-contract\").show();\n        }\n    };\n\n    var updateIndicative = function(data) {\n        if(data.hasOwnProperty('error') || !values) {\n            return;\n        }\n\n        var proposal = Portfolio.getProposalOpenContract(data.proposal_open_contract);\n        // force to sell the expired contract, in order to remove from portfolio\n        if(proposal.is_expired == 1 && !proposal.is_sold) {\n            BinarySocket.send({\"sell_expired\": 1});\n        }\n        var $td = $(\"#\" + proposal.contract_id + \" td.indicative\");\n\n        if(!values.hasOwnProperty(proposal.contract_id)) values[proposal.contract_id] = {};\n        var old_indicative = values[proposal.contract_id].indicative || 0.00;\n        values[proposal.contract_id].indicative = proposal.bid_price;\n\n        var status_class = '',\n            no_resale_html = '';\n        if(proposal.is_sold == 1) {\n            removeContract(proposal.contract_id);\n        } else {\n            if(proposal.is_valid_to_sell != 1) {\n                no_resale_html = '<span>' + text.localize('Resale not offered') + '</span>';\n                $td.addClass(\"no_resale\");\n            }\n            else {\n                status_class = values[proposal.contract_id].indicative < old_indicative ? ' price_moved_down' : (values[proposal.contract_id].indicative > old_indicative ? ' price_moved_up' : '');\n                $td.removeClass(\"no_resale\");\n            }\n            $td.html('<strong class=\"indicative_price' + status_class + '\"\">' + format_money(proposal.currency, values[proposal.contract_id].indicative) + '</strong>' + no_resale_html);\n        }\n\n        updateFooter();\n    };\n\n    var removeContract = function(contract_id) {\n        $(\"#\" + contract_id).remove();\n        delete(values[contract_id]);\n        updateFooter();\n    };\n\n    var updateFooter = function() {\n        $(\"#cost-of-open-positions\").text(format_money(currency, addComma(Portfolio.getSumPurchase(values))));\n        $(\"#value-of-open-positions\").text(format_money(currency, addComma(Portfolio.getIndicativeSum(values))));\n    };\n\n    var errorMessage = function(msg) {\n        var $err = $('#portfolio #err-msg');\n        if(msg) {\n            $err.removeClass('invisible').text(msg);\n        } else {\n            $err.addClass('invisible').text('');\n        }\n    };\n\n    var onLoad = function() {\n        BinarySocket.init({\n            onmessage: function(msg){\n                var response = JSON.parse(msg.data),\n                    msg_type = response.msg_type;\n\n                switch(msg_type) {\n                    case \"portfolio\":\n                        PortfolioWS.updatePortfolio(response);\n                        break;\n                    case \"transaction\":\n                        PortfolioWS.transactionResponseHandler(response);\n                        break;\n                    case \"proposal_open_contract\":\n                        PortfolioWS.updateIndicative(response);\n                        break;\n                    case \"oauth_apps\":\n                        oauth_apps = buildOauthApps(response.oauth_apps);\n                        addTooltip(oauth_apps);\n                        break;\n                    default:\n                        // msg_type is not what PortfolioWS handles, so ignore it.\n                }\n            }\n        });\n        PortfolioWS.init();\n    };\n\n    var onUnload = function() {\n        BinarySocket.send({\"forget_all\": \"proposal_open_contract\"});\n        BinarySocket.send({\"forget_all\": \"transaction\"});\n        $('#portfolio-body').empty();\n    };\n\n    return {\n        init: init,\n        updateBalance: updateBalance,\n        updatePortfolio: updatePortfolio,\n        updateIndicative: updateIndicative,\n        transactionResponseHandler: transactionResponseHandler,\n        onLoad: onLoad,\n        onUnload: onUnload\n    };\n\n})();\n\nmodule.exports = {\n    PortfolioWS: PortfolioWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/portfolio/portfolio.init.js\n ** module id = 78\n ** module chunks = 0\n **/","var Portfolio = (function(){\n    'use strict';\n\n    var addComma = Compatibility.requireIfNotExist('addComma', '../websocket_pages/trade/common', 'addComma'),\n        toJapanTimeIfNeeded = Compatibility.requireIfNotExist('toJapanTimeIfNeeded', '../base/utility', 'toJapanTimeIfNeeded'),\n        format_money = Compatibility.requireIfNotExist('format_money', '../common_functions/currency_to_symbol', 'format_money');\n\n    function getBalance(balance, currency) {\n        balance = parseFloat(balance);\n        return currency ? format_money(currency, addComma(balance)) : balance;\n    }\n\n    function getPortfolioData(c) {\n        var portfolio_data = {\n            'transaction_id' : c.transaction_id,\n            'contract_id'    : c.contract_id,\n            'payout'         : parseFloat(c.payout).toFixed(2),\n            'longcode'       : typeof module !== 'undefined' ? \n                c.longcode : (japanese_client() ? \n                toJapanTimeIfNeeded(void 0, void 0, c.longcode) : c.longcode),\n            'currency'       : c.currency,\n            'buy_price'      : addComma(parseFloat(c.buy_price)),\n            'app_id'         : c.app_id\n        };\n\n        return portfolio_data;\n    }\n\n    function getProposalOpenContract(proposal) {\n        var proposal_data = {\n            'contract_id'      : proposal.contract_id,\n            'bid_price'        : parseFloat(proposal.bid_price || 0).toFixed(2),\n            'is_sold'          : proposal.is_sold,\n            'is_valid_to_sell' : proposal.is_valid_to_sell,\n            'currency'         : proposal.currency\n        };\n\n        return proposal_data;\n    }\n\n    function getSum(values, value_type) { // value_type is: indicative or buy_price\n        var sum = 0;\n        var keys = Object.keys(values);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            if (values[key] && !isNaN(values[key][value_type])) {\n                sum += parseFloat(values[key][value_type]);\n            }\n        }\n\n        return sum.toFixed(2);\n    }\n\n    var external = {\n        getBalance: getBalance,\n        getPortfolioData: getPortfolioData,\n        getProposalOpenContract: getProposalOpenContract,\n        getIndicativeSum: function(values) { return getSum(values, 'indicative'); },\n        getSumPurchase: function(values) { return getSum(values, 'buy_price'); },\n    };\n\n    if (typeof module !== 'undefined') {\n        module.exports = external;\n    }\n\n    return external;\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/portfolio.js\n ** module id = 79\n ** module chunks = 0\n **/","var ProfitTableData = (function(){\n\n    function initSocket(){\n        BinarySocket.init({\n            onmessage: function(msg){\n                var response = JSON.parse(msg.data);\n\n                if (response) {\n                    var type = response.msg_type;\n                    if (type === 'profit_table'){\n                        ProfitTableWS.profitTableHandler(response);\n                        showLocalTimeOnHover('td.buy-date,td.sell-date');\n                    } else if (type === 'oauth_apps') {\n                        addTooltip(ProfitTableUI.setOauthApps(buildOauthApps(response.oauth_apps)));\n                    }\n                }\n            }\n        });\n        BinarySocket.send({'oauth_apps': 1});\n    }\n\n    function getProfitTable(opts){\n        var req = {profit_table: 1, description: 1};\n        if(opts){\n            $.extend(true, req, opts);\n        }\n\n        BinarySocket.send(req);\n    }\n\n    return {\n        getProfitTable: getProfitTable,\n        initSocket: initSocket\n    };\n}());\n\nmodule.exports = {\n    ProfitTableData: ProfitTableData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/profit_table/profit_table.data.js\n ** module id = 80\n ** module chunks = 0\n **/","var ProfitTableWS = (function () {\n    var batchSize,\n        chunkSize,\n        transactionsReceived,\n        transactionsConsumed,\n        noMoreData,\n        pending,\n        currentBatch;\n\n    var tableExist = function(){\n        return document.getElementById(\"profit-table\");\n    };\n\n    var finishedConsumed = function(){\n        return transactionsConsumed === transactionsReceived;\n    };\n\n    function initTable(){\n        currentBatch = [];\n        transactionsConsumed = 0;\n        transactionsReceived = 0;\n        pending = false;\n\n        ProfitTableUI.errorMessage(null);\n\n        if (tableExist()) {\n            ProfitTableUI.cleanTableContent();\n        }\n    }\n\n    function profitTableHandler(response){\n        if(response.hasOwnProperty('error')) {\n            ProfitTableUI.errorMessage(response.error.message);\n            return;\n        }\n\n        pending = false;\n        var profitTable = response.profit_table;\n        currentBatch = profitTable.transactions;\n        transactionsReceived += currentBatch.length;\n\n        if (currentBatch.length < batchSize) {\n            noMoreData = true;\n        }\n\n        if (!tableExist()) {\n            ProfitTableUI.createEmptyTable().appendTo(\"#profit-table-ws-container\");\n            ProfitTableUI.updateProfitTable(getNextChunk());\n\n            // Show a message when the table is empty\n            if((transactionsReceived === 0) && (currentBatch.length === 0)) {\n                $('#profit-table tbody')\n                    .append($('<tr/>', {class: \"flex-tr\"})\n                        .append($('<td/>', {colspan: 8})\n                            .append($('<p/>', {class: \"notice-msg center-text\", text: text.localize(\"Your account has no trading activity.\")})\n                            )\n                        )\n                    );\n            }\n        }\n    }\n\n    function getNextBatchTransactions(){\n        ProfitTableData.getProfitTable({offset: transactionsReceived, limit: batchSize});\n        pending = true;\n    }\n\n    function getNextChunk(){\n        var chunk = currentBatch.splice(0, chunkSize);\n        transactionsConsumed += chunk.length;\n        return chunk;\n    }\n\n    function onScrollLoad(){\n        $(document).scroll(function(){\n            function hidableHeight(percentage){\n                var totalHidable = $(document).height() - $(window).height();\n                return Math.floor(totalHidable * percentage / 100);\n            }\n\n            var pFromTop = $(document).scrollTop();\n\n            if (!tableExist()){\n                return;\n            }\n\n            if (pFromTop < hidableHeight(50)) {\n                return;\n            }\n\n            if (finishedConsumed() && !noMoreData && !pending) {\n                getNextBatchTransactions();\n                return;\n            }\n\n            if (!finishedConsumed()) {\n                ProfitTableUI.updateProfitTable(getNextChunk());\n            }\n        });\n    }\n\n    function init(){\n        batchSize = 100;\n        chunkSize = batchSize/2;\n        transactionsReceived = 0;\n        transactionsConsumed = 0;\n        noMoreData = false;\n        pending = false;\n        currentBatch = [];\n        ProfitTableData.initSocket();\n        Content.populate();\n        getNextBatchTransactions();\n        onScrollLoad();\n    }\n\n    return {\n        profitTableHandler: profitTableHandler,\n        init: init,\n        clean: initTable\n    };\n}());\n\nmodule.exports = {\n    ProfitTableWS: ProfitTableWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/profit_table/profit_table.init.js\n ** module id = 81\n ** module chunks = 0\n **/","var ProfitTableUI = (function(){\n    \"use strict\";\n\n    var profitTableID = \"profit-table\";\n    var cols = [\"buy-date\", \"ref\", \"payout\", \"contract\", \"buy-price\", \"sell-date\", \"sell-price\", \"pl\", \"details\"];\n    var oauth_apps = {};\n\n    function createEmptyTable(){\n        var header = [\n            Content.localize().textDate,\n            Content.localize().textRef,\n            text.localize('Potential Payout'),\n            Content.localize().textContract,\n            Content.localize().textPurchasePrice,\n            Content.localize().textSaleDate,\n            Content.localize().textSalePrice,\n            Content.localize().textProfitLoss,\n            Content.localize().textDetails\n        ];\n\n        header[7] = header[7] + (TUser.get().currency ? \" (\" + TUser.get().currency + \")\" : \"\");\n\n        var footer = [Content.localize().textTotalProfitLoss, \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n\n        var data = [];\n        var metadata = {\n            cols: cols,\n            id: profitTableID\n        };\n        var $tableContainer = Table.createFlexTable(data, metadata, header, footer);\n\n        var $pltotal = $tableContainer.\n            children(\"table\").\n            children(\"tfoot\").\n            children(\"tr\").\n            attr(\"id\", \"pl-day-total\");\n\n        return $tableContainer;\n    }\n\n    function updateProfitTable(transactions){\n        Table.appendTableBody(profitTableID, transactions, createProfitTableRow);\n        updateFooter(transactions);\n    }\n\n    function updateFooter(transactions){\n        var accTotal = document.querySelector(\"#pl-day-total > .pl\").textContent;\n        accTotal = parseFloat(accTotal.replace(/,/g, ''));\n        if (isNaN(accTotal)) {\n            accTotal = 0;\n        }\n\n        var currentTotal = transactions.reduce(function(previous, current){\n            var buyPrice = Number(parseFloat(current[\"buy_price\"]));\n            var sellPrice = Number(parseFloat(current[\"sell_price\"]));\n            var pl = sellPrice - buyPrice;\n            return previous + pl;\n        }, 0);\n\n        var total = accTotal + currentTotal;\n\n        $(\"#pl-day-total > .pl\").text(addComma(Number(total).toFixed(2)));\n\n        var subTotalType = (total >= 0 ) ? \"profit\" : \"loss\";\n        $(\"#pl-day-total > .pl\").removeClass(\"profit\").removeClass(\"loss\");\n        $(\"#pl-day-total > .pl\").addClass(subTotalType);\n    }\n\n    function createProfitTableRow(transaction){\n        var profit_table_data = ProfitTable.getProfitTabletData(transaction);\n        var plType = (profit_table_data.pl >= 0) ? \"profit\" : \"loss\";\n\n        var data = [profit_table_data.buyDate, '<span' + showTooltip(profit_table_data.app_id, oauth_apps[profit_table_data.app_id]) + '>' + profit_table_data.ref + '</span>', profit_table_data.payout, '', profit_table_data.buyPrice, profit_table_data.sellDate, profit_table_data.sellPrice, profit_table_data.pl, ''];\n        var $row = Table.createFlexTableRow(data, cols, \"data\");\n\n        $row.children(\".buy-date\").addClass(\"pre\");\n        $row.children(\".pl\").addClass(plType);\n        $row.children(\".sell-date\").addClass(\"pre\");\n        $row.children(\".contract\").html(profit_table_data.desc + \"<br>\");\n\n        //create view button and append\n        var $viewButtonSpan = Button.createBinaryStyledButton();\n        var $viewButton = $viewButtonSpan.children(\".button\").first();\n        $viewButton.text(text.localize(\"View\"));\n        $viewButton.addClass(\"open_contract_detailsws\");\n        $viewButton.attr(\"contract_id\", profit_table_data.id);\n\n        $row.children(\".contract,.details\").append($viewButtonSpan);\n\n        return $row[0];\n    }\n\n    function initDatepicker(){\n        DatepickerUtil.initDatepicker(\"profit-table-date\", moment.utc(), null, 0);\n    }\n\n    function clearTableContent(){\n        Table.clearTableBody(profitTableID);\n        $(\"#\" + profitTableID + \">tfoot\").hide();\n    }\n\n    function errorMessage(msg) {\n        var $err = $('#profit-table-ws-container #err-msg');\n        if(msg) {\n            $err.removeClass('invisible').text(msg);\n        } else {\n            $err.addClass('invisible').text('');\n        }\n    }\n\n    return {\n        createEmptyTable: createEmptyTable,\n        updateProfitTable: updateProfitTable,\n        initDatepicker: initDatepicker,\n        cleanTableContent: clearTableContent,\n        errorMessage: errorMessage,\n        setOauthApps: function(values) {\n            return (oauth_apps = values);\n        }\n    };\n}());\n\nmodule.exports = {\n    ProfitTableUI: ProfitTableUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/profit_table/profit_table.ui.js\n ** module id = 82\n ** module chunks = 0\n **/","var ProfitTable = (function(){\n    'use strict';\n    var moment = Compatibility.requireIfNotExist('moment', '../../lib/moment/moment');\n    var getProfitTabletData = function(transaction) {\n        var buyMoment = moment.utc(transaction[\"purchase_time\"] * 1000),\n            sellMoment = moment.utc(transaction[\"sell_time\"] * 1000),\n            buyPrice = parseFloat(transaction[\"buy_price\"]).toFixed(2),\n            sellPrice = parseFloat(transaction[\"sell_price\"]).toFixed(2);\n\n        var profit_table_data = {\n            'buyDate'   : buyMoment.format(\"YYYY-MM-DD\") + \"\\n\" + buyMoment.format(\"HH:mm:ss\") + ' GMT',\n            'ref'       : transaction[\"transaction_id\"],\n            'payout'    : parseFloat(transaction[\"payout\"]).toFixed(2),\n            'buyPrice'  : buyPrice,\n            'sellDate'  : sellMoment.format(\"YYYY-MM-DD\") + \"\\n\" + sellMoment.format(\"HH:mm:ss\") + ' GMT',\n            'sellPrice' : sellPrice,\n            'pl'        : Number(sellPrice - buyPrice).toFixed(2),\n            'desc'      : transaction[\"longcode\"],\n            'id'        : transaction[\"contract_id\"],\n            'app_id'    : transaction[\"app_id\"]\n        };\n\n        return profit_table_data;\n    };\n\n    var external = {\n        getProfitTabletData: getProfitTabletData\n    };\n\n    if (typeof module !== 'undefined') {\n        module.exports = external;\n    }\n\n    return external;\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/profit_table.js\n ** module id = 83\n ** module chunks = 0\n **/","var APITokenWS = (function() {\n    \"use strict\";\n\n    var errorClass = 'errorfield';\n    var hideClass  = 'invisible';\n    var tableContainer = '#tokens_list';\n    var maxTokens = 30;\n\n    function hide(s) { return function() { $(s).addClass(hideClass); }; }\n    function show(s) { return function() { $(s).removeClass(hideClass); }; }\n\n    var hideForm  = hide('#token_form');\n    var showForm  = show('#token_form');\n    var hideTable = hide(tableContainer);\n    var showTable = show(tableContainer);\n\n    function init() {\n        if (japanese_client()) {\n            window.location.href = page.url.url_for('user/settingsws');\n            return;\n        }\n\n        Content.populate();\n        BinarySocket.init({\n            onmessage: function(msg) {\n                var response = JSON.parse(msg.data);\n                if (response.msg_type === \"api_token\") {\n                    responseHandler(response);\n                }\n            }\n        });\n\n        showLoadingImage($(tableContainer));\n        BinarySocket.send({api_token: 1});\n        bind_validation.simple($('#token_form')[0], {\n            schema: getSchema(),\n            stop: function(info) {\n                ValidationUI.clear();\n                displayErrors(info.errors);\n            },\n            submit: function(e, info) {\n                e.preventDefault();\n                e.stopPropagation();\n                if (info.errors.length > 0) {\n                    return;\n                }\n                createToken(info.values);\n            }\n        });\n    }\n\n    function getSchema() {\n        var V2 = ValidateV2;\n        var letters = Content.localize().textLetters;\n        var numbers = Content.localize().textNumbers;\n        return {\n            scopes: [\n                function(v) {return dv.ok(v || []); },\n                customError(V2.required, 'Please select at least one scope'),\n            ],\n            name:   [\n                function(v) { return dv.ok(v.trim()); },\n                V2.required,\n                V2.lengthRange(2, 32),\n                V2.regex(/^\\w+$/, [letters, numbers, '_']),\n            ],\n        };\n    }\n\n    function responseHandler(response) {\n        if ('error' in response) {\n            showErrorMessage(response.error.message);\n            return;\n        }\n\n        clearMessages();\n\n        var api_token = response.api_token;\n        var tokens    = api_token.tokens;\n        var newToken;\n\n        if (tokens.length >= maxTokens) {\n            hideForm();\n            showErrorMessage(text.localize('The maximum number of tokens ([_1]) has been reached.', [maxTokens]));\n        } else {\n            showForm();\n        }\n\n        if ('new_token' in api_token) {\n            showSubmitSuccess('New token created.');\n            $('#txtName').val('');\n            newToken = response.echo_req.new_token;\n        } else if ('delete_token' in api_token) {\n            var deleted = response.echo_req.delete_token;\n            $('#' + deleted)\n                .removeClass('new')\n                .addClass('deleting')\n                .fadeOut(700, function() {\n                    $(this).remove();\n                    populateTokensList(tokens);\n                });\n            return;\n        }\n\n        populateTokensList(tokens, newToken);\n    }\n\n    // -----------------------\n    // ----- Tokens List -----\n    // -----------------------\n    function populateTokensList(tokens, newToken) {\n        var $tableContainer = $(tableContainer);\n        if (tokens.length === 0) {\n            hideTable();\n            return;\n        }\n        showTable();\n        $tableContainer.empty();\n\n        var headers = ['Name', 'Token', 'Scopes', 'Last Used', 'Action'];\n        var columns = ['name', 'token', 'scopes', 'last-used', 'action'];\n        new FlexTableUI({\n            id:        'tokens_table',\n            container: tableContainer,\n            header:    headers.map(function(s) { return text.localize(s); }),\n            cols:      columns,\n            data:      tokens,\n            formatter: formatToken,\n            style: function($row, token) {\n                if (token.display_name === newToken) {\n                    $row.addClass('new');\n                }\n                $row.attr('id', token.token);\n                createDeleteButton($row, token);\n            }\n        });\n        showLocalTimeOnHover('td.last-used');\n    }\n\n    function createDeleteButton($row, token) {\n        var message = text.localize('Are you sure that you want to permanently delete token');\n        var $button = $('<button/>', {class: 'button btnDelete', text: text.localize('Delete')});\n        $button.click(function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (!window.confirm(message + ': \"' + token.display_name + '\"?')) {\n                return;\n            }\n            deleteToken(token.token);\n        });\n        $row.children('.action').html(\n            $('<span/>', {class: 'button'})\n                .append($button)\n        );\n    }\n\n    function capitalise(v) {\n        return v.charAt(0).toUpperCase() + v.slice(1);\n    }\n\n    function formatToken(token) {\n        var lastUsed = (token.last_used ? token.last_used + ' GMT': text.localize('Never Used'));\n        var scopes = token.scopes.map(capitalise);\n        return [\n            token.display_name,\n            token.token,\n            scopes.join(', '),\n            lastUsed,\n            ''  // btnDelete\n        ];\n    }\n\n    function displayErrors(errors) {\n        errors.forEach(function(err) {\n            var sel = err.ctx === 'name' ?\n                '#txtName' :\n                '#scopes';\n            ValidationUI.draw(sel, err.err);\n        });\n    }\n\n    // ---------------------------\n    // ----- Actions Process -----\n    // ---------------------------\n    function createToken(params) {\n        BinarySocket.send({\n            api_token: 1,\n            new_token: params.name,\n            new_token_scopes: params.scopes,\n        });\n    }\n\n    function deleteToken(token) {\n        BinarySocket.send({\n            api_token:    1,\n            delete_token: token,\n        });\n    }\n\n    // -----------------------------\n    // ----- Message Functions -----\n    // -----------------------------\n    function showErrorMessage(msg) {\n        $('#token_message').removeClass(hideClass)\n            .find('p')\n            .attr('class', errorClass)\n            .html(text.localize(msg));\n    }\n\n    function showSubmitSuccess(msg) {\n        $('#formMessage')\n            .attr('class', 'success-msg')\n            .html('<ul class=\"checked\"><li>' + text.localize(msg) + '</li></ul>')\n            .css('display', 'block')\n            .delay(3000)\n            .fadeOut(1000);\n    }\n\n    function clearMessages() {\n        $('#token_message').addClass(hideClass);\n        $('#formMessage').html('');\n    }\n\n    return {\n        init: init,\n    };\n}());\n\nmodule.exports = {\n    APITokenWS: APITokenWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/api_token.js\n ** module id = 84\n ** module chunks = 0\n **/","var ApplicationsData = (function(){\n    \"use strict\";\n\n    function calls(callback) {\n        return function(msg) {\n            var response = JSON.parse(msg.data);\n            if (!response || response.msg_type !== 'oauth_apps') {\n                return;\n            }\n            callback(response);\n        };\n    }\n\n    function list() {\n        BinarySocket.send({oauth_apps: 1});\n    }\n\n    function revoke(id) {\n        if (!id) return;\n        BinarySocket.send({oauth_apps: 1, revoke_app: id});\n    }\n\n    function parse(app) {\n        var last = app.last_used ? moment.utc(app.last_used) : null;\n        return {\n            name: app.name,\n            scopes: app.scopes,\n            last_used: last,\n            id: app.app_id,\n        };\n    }\n\n    return {\n        parse: parse,\n        calls: calls,\n        revoke: revoke,\n        list: list,\n    };\n}());\n\nmodule.exports = {\n    ApplicationsData: ApplicationsData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.data.js\n ** module id = 85\n ** module chunks = 0\n **/","var Applications = (function() {\n    \"use strict\";\n\n    function responseHandler(response) {\n        if (response.error && response.error.message) {\n            return ApplicationsUI.displayError(response.error.message);\n        }\n        var apps = response.oauth_apps.map(ApplicationsData.parse);\n        ApplicationsUI.update(apps);\n    }\n\n    function init() {\n        ApplicationsUI.init();\n        BinarySocket.init({\n            onmessage: ApplicationsData.calls(responseHandler)\n        });\n        ApplicationsData.list();\n    }\n\n    function clean() {\n        ApplicationsUI.clean();\n    }\n\n    return {\n        init: init,\n        clean: clean,\n    };\n})();\n\nmodule.exports = {\n    Applications: Applications,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.init.js\n ** module id = 86\n ** module chunks = 0\n **/","var ApplicationsUI = (function(){\n    'use strict';\n    var containerSelector = '#applications-ws-container';\n    var messages = {\n        no_apps: 'You have not granted access to any applications.',\n        revoke_confirm: 'Are you sure that you want to permanently revoke access to application',\n        revoke_access: 'Revoke access',\n    };\n    var flexTable;\n\n    function createTable(data) {\n        if (flexTable) {\n            return flexTable.replace(data);\n        }\n        var headers = ['Name', 'Permissions', 'Last Used', 'Action'];\n        var columns = ['name', 'permissions', 'last_used', 'action'];\n        flexTable = new FlexTableUI({\n            container: containerSelector,\n            header: headers.map(function(s) { return text.localize(s); }),\n            id:     'applications-table',\n            cols:   columns,\n            data:   data,\n            style:  function($row, app) {\n                $row.children('.action').first()\n                    .append(createRevokeButton($row, app));\n            },\n            formatter: formatApp,\n        });\n        showLocalTimeOnHover('td.last_used');\n    }\n\n    function formatApp(app) {\n        var last_used = app.last_used ? app.last_used.format('YYYY-MM-DD HH:mm:ss') : text.localize('Never');\n        return [\n            app.name,\n            app.scopes.join(', '),\n            last_used,\n            '', // for the \"Revoke App\" button\n        ];\n    }\n\n    function update(apps) {\n        $('#loading').remove();\n        createTable(apps);\n        if (!apps.length) {\n            flexTable.displayError(text.localize(messages.no_apps), 7);\n            return;\n        }\n    }\n\n    function createRevokeButton(container, app) {\n        var $buttonSpan = Button.createBinaryStyledButton();\n        var $button = $buttonSpan.children('.button').first();\n        $button.text(text.localize(messages.revoke_access));\n        $button.on('click', function() {\n            if (window.confirm(text.localize(messages.revoke_confirm) + \": '\" + app.name + \"'?\")) {\n                ApplicationsData.revoke(app.id);\n                container.css({ opacity: 0.5 });\n            }\n        });\n        return $buttonSpan;\n    }\n\n    function displayError(message) {\n        $(containerSelector + ' .error-msg').text(message);\n    }\n\n    function init() {\n        showLoadingImage($('<div/>', {id: 'loading'}).insertAfter('#applications-title'));\n        var $title = $('#applications-title').children().first();\n        var $desc  = $('#description');\n        $title.text(text.localize($title.text()));\n        $desc.text(text.localize($desc.text()));\n    }\n\n    function clean() {\n        $(containerSelector + ' .error-msg').text('');\n        flexTable.clear();\n        flexTable = null;\n    }\n\n    return {\n        init: init,\n        clean: clean,\n        update: update,\n        displayError: displayError,\n    };\n}());\n\nmodule.exports = {\n    ApplicationsUI: ApplicationsUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps/authorised_apps.ui.js\n ** module id = 87\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"user/settings/authorised_appsws\", function(){\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('user/settingsws');\n            }\n            Content.populate();\n            Applications.init();\n        },\n        onUnload: function(){\n            Applications.clean();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/authorised_apps.js\n ** module id = 88\n ** module chunks = 0\n **/","var FinancialAssessmentws = (function(){\n   \"use strict\";\n\n    var init = function(){\n        if (checkIsVirtual()) return;\n        LocalizeText();\n        $(\"#assessment_form\").on(\"submit\",function(event) {\n            event.preventDefault();\n            submitForm();\n            return false;\n        });\n        BinarySocket.send({get_financial_assessment : 1});\n    };\n\n    // For translating strings\n    var LocalizeText = function(){\n        $(\"#heading\").text(text.localize($(\"#heading\").text()));\n        $('#heading_risk').text(text.localize($(\"#heading_risk\").text()));\n        $('#high_risk_classification').text(text.localize($('#high_risk_classification').text()));\n        document.getElementsByTagName('legend')[0].innerHTML = text.localize(document.getElementsByTagName('legend')[0].innerHTML);\n        if (document.getElementsByTagName('legend')[1]) document.getElementsByTagName('legend')[1].innerHTML = text.localize(document.getElementsByTagName('legend')[1].innerHTML);\n        $(\"#assessment_form label\").each(function(){\n            var ele = $(this);\n            ele.text(text.localize(ele.text()));\n        });\n        $(\"#assessment_form option\").each(function(){\n            var ele = $(this);\n            ele.text(text.localize(ele.text()));\n        });\n        $(\"#warning\").text(text.localize($(\"#warning\").text()));\n        $(\"#submit\").text(text.localize($(\"#submit\").text()));\n    };\n\n    var submitForm = function(){\n        if(!validateForm()){\n            return;\n        }\n        $('#submit').attr('disabled', 'disabled');\n        var data = {'set_financial_assessment' : 1};\n        showLoadingImg();\n        $('#assessment_form select').each(function(){\n            data[$(this).attr(\"id\")] = $(this).val();\n        });\n        $('html, body').animate({ scrollTop: 0 }, 'fast');\n        BinarySocket.send(data);\n        RiskClassification.cleanup();\n    };\n\n    var validateForm = function(){\n        var isValid = true,\n            errors = {};\n        $('#assessment_form select').each(function(){\n            if(!$(this).val()){\n                isValid = false;\n                errors[$(this).attr(\"id\")] = text.localize('Please select a value.');\n            }\n        });\n        if(!isValid){\n            displayErrors(errors);\n        }\n\n        return isValid;\n    };\n\n    var showLoadingImg = function(){\n        showLoadingImage($('<div/>', {id: 'loading'}).insertAfter('#heading'));\n        $(\"#assessment_form\").addClass('invisible');\n    };\n\n    var hideLoadingImg = function(show_form){\n        $(\"#loading\").remove();\n        if(typeof show_form === 'undefined'){\n            show_form = true;\n        }\n        if(show_form)\n            $(\"#assessment_form\").removeClass('invisible');\n    };\n\n    var responseGetAssessment = function(response){\n        hideLoadingImg();\n        for(var key in response.get_financial_assessment){\n            if(key){\n                var val = response.get_financial_assessment[key];\n                $(\"#\"+key).val(val);\n            }\n        }\n    };\n\n    var displayErrors = function(errors){\n        var id;\n        $(\".errorfield\").each(function(){$(this).text('');});\n        for(var key in errors){\n            if(key){\n                var error = errors[key];\n                $(\"#error\"+key).text(text.localize(error));\n                id = key;\n            }\n        }\n        hideLoadingImg();\n        $('html, body').animate({\n            scrollTop: $(\"#\"+id).offset().top\n        }, 'fast');\n    };\n\n    var responseOnSuccess = function(){\n        $(\"#heading\").hide();\n        hideLoadingImg(false);\n        $(\"#response_on_success\").text(text.localize(\"Your details have been updated.\"))\n            .removeClass(\"invisible\");\n    };\n\n    var apiResponse = function(response){\n        if (checkIsVirtual()) return;\n        if(response.msg_type === 'get_financial_assessment'){\n            responseGetAssessment(response);\n        }\n        else if(response.msg_type === 'set_financial_assessment' && 'error' in response){\n            displayErrors(response.error.details);\n        }\n        else if(response.msg_type === 'set_financial_assessment'){\n            responseOnSuccess();\n        }\n    };\n\n    var checkIsVirtual = function(){\n        if(page.client.is_virtual()) {\n            $(\"#assessment_form\").addClass('invisible');\n            $('#response_on_success').addClass('notice-msg center-text').removeClass('invisible').text(text.localize('This feature is not relevant to virtual-money accounts.'));\n            hideLoadingImg(false);\n            return true;\n        }\n        return false;\n    };\n\n    return {\n        init : init,\n        apiResponse : apiResponse,\n        submitForm: submitForm,\n        LocalizeText: LocalizeText\n    };\n}());\n\n\npjax_config_page_require_auth(\"user/settings/assessmentws\", function() {\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('user/settingsws');\n            }\n            BinarySocket.init({\n                onmessage: function(msg) {\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        FinancialAssessmentws.apiResponse(response);\n                    }\n                }\n            });\n            showLoadingImage($('<div/>', {id: 'loading'}).insertAfter('#heading'));\n            FinancialAssessmentws.init();\n        }\n    };\n});\n\nmodule.exports = {\n    FinancialAssessmentws: FinancialAssessmentws,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/financial_assessment.js\n ** module id = 89\n ** module chunks = 0\n **/","var IPHistoryData = (function() {\n    function parse_ua(user_agent) {\n        // Table of UA-values (and precedences) from:\n        //  https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent\n        // Regexes stolen from:\n        //  https://github.com/biggora/express-useragent/blob/master/lib/express-useragent.js\n        var lookup = [\n            {name: 'Edge',      regex: /Edge\\/([\\d\\w\\.\\-]+)/i},\n            {name: 'SeaMonkey', regex: /seamonkey\\/([\\d\\w\\.\\-]+)/i},\n            {name: 'Opera',     regex: /(?:opera|opr)\\/([\\d\\w\\.\\-]+)/i},\n            {name: 'Chromium',  regex: /(?:chromium|crios)\\/([\\d\\w\\.\\-]+)/i},\n            {name: 'Chrome',    regex: /chrome\\/([\\d\\w\\.\\-]+)/i},\n            {name: 'Safari',    regex: /version\\/([\\d\\w\\.\\-]+)/i},\n            {name: 'IE',        regex: /msie\\s([\\d\\.]+[\\d])/i},\n            {name: 'IE',        regex: /trident\\/\\d+\\.\\d+;.*[rv:]+(\\d+\\.\\d)/i},\n            {name: 'Firefox',   regex: /firefox\\/([\\d\\w\\.\\-]+)/i},\n        ];\n        for (var i = 0; i < lookup.length; i++) {\n            var info = lookup[i];\n            var match = user_agent.match(info.regex);\n            if (match !== null) {\n                return {\n                    name: info.name,\n                    version: match[1],\n                };\n            }\n        }\n        return null;\n    }\n\n    function parse(activity) {\n        var environ    = activity.environment;\n        var ip_addr    = environ.split(' ')[2].split('=')[1];\n        var user_agent = environ.match('User_AGENT=(.+) LANG')[1];\n        return {\n            time:    activity.time,\n            action:  activity.action,\n            success: activity.status === 1,\n            browser: parse_ua(user_agent),\n            ip_addr: ip_addr,\n        };\n    }\n\n    function calls(callback) {\n        return function(msg) {\n            var response = JSON.parse(msg.data);\n            if (!response || response.msg_type !== 'login_history') {\n                return;\n            }\n            callback(response);\n        };\n    }\n\n    function get(n) {\n        BinarySocket.send({login_history: 1, limit: n});\n    }\n\n    var external = {\n        parse: parse,\n        parseUserAgent: parse_ua,\n        calls: calls,\n        get: get,\n    };\n\n    if (typeof module !== 'undefined') {\n        module.exports = external;\n    }\n\n    return external;\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/iphistory/iphistory.data.js\n ** module id = 90\n ** module chunks = 0\n **/","var IPHistory = (function() {\n    'use strict';\n\n    function responseHandler(response) {\n        if (response.error && response.error.message) {\n            return IPHistoryUI.displayError(response.error.message);\n        }\n        var parsed = response.login_history.map(IPHistoryData.parse);\n        IPHistoryUI.update(parsed);\n    }\n\n    function init() {\n        IPHistoryUI.init();\n        BinarySocket.init({\n            onmessage: IPHistoryData.calls(responseHandler)\n        });\n        IPHistoryData.get(50);\n    }\n\n    function clean() {\n        IPHistoryUI.clean();\n    }\n\n    return {\n        init: init,\n        clean: clean,\n    };\n})();\n\nmodule.exports = {\n    IPHistory: IPHistory,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/iphistory/iphistory.init.js\n ** module id = 91\n ** module chunks = 0\n **/","var IPHistoryUI = (function() {\n    'use strict';\n\n    var containerSelector = '#login_history-ws-container';\n    var no_messages_error = 'Your account has no Login/Logout activity.';\n    var flexTable;\n\n    function init() {\n        var $title = $('#login_history-title').children().first();\n        $title.text(text.localize($title.text()));\n    }\n\n    function update(history) {\n        if (flexTable) {\n            return flexTable.replace(history);\n        }\n        var headers = ['Date and Time', 'Action', 'Browser', 'IP Address', 'Status'];\n        var columns = ['timestamp', 'action', 'browser', 'ip', 'status'];\n        flexTable = new FlexTableUI({\n            id:        'login-history-table',\n            container: containerSelector,\n            header:    headers.map(function(s) { return text.localize(s); }),\n            cols:      columns,\n            data:      history,\n            formatter: formatRow,\n            style: function($row) {\n                $row.children('.timestamp').addClass('pre');\n            },\n        });\n        if (!history.length) {\n            return flexTable.displayError(text.localize(no_messages_error), 6);\n        }\n        showLocalTimeOnHover('td.timestamp');\n    }\n\n    function formatRow(data) {\n        var timestamp = moment.unix(data.time).utc().format('YYYY-MM-DD HH:mm:ss').replace(' ', '\\n') + ' GMT';\n        var status = text.localize(data.success ? 'Successful' : 'Failed');\n        var browser = data.browser;\n        var browserString = browser ?\n            browser.name + ' v' + browser.version :\n            'Unknown';\n        return [\n            timestamp,\n            data.action,\n            browserString,\n            data.ip_addr,\n            status\n        ];\n    }\n\n    function clean() {\n        $(containerSelector + ' .error-msg').text('');\n        flexTable.clear();\n        flexTable = null;\n    }\n\n    function displayError(error) {\n        $('#err').text(error);\n    }\n\n    return {\n        init: init,\n        clean: clean,\n        update: update,\n        displayError: displayError,\n    };\n}());\n\nmodule.exports = {\n    IPHistoryUI: IPHistoryUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/iphistory/iphistory.ui.js\n ** module id = 92\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"user/settings/iphistoryws\", function(){\n    return {\n        onLoad: function() {\n            if (japanese_client()) {\n                window.location.href = page.url.url_for('user/settingsws');\n            }\n            Content.populate();\n            IPHistory.init();\n        },\n        onUnload: function(){\n            IPHistory.clean();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/iphistory.js\n ** module id = 93\n ** module chunks = 0\n **/","var LimitsWS = (function(){\n    \"use strict\";\n\n    function limitsHandler(response){\n        var limits = response.get_limits;\n        LimitsUI.fillLimitsTable(limits);\n\n        var elem_withdrawal_limit = document.getElementById(\"withdrawal-limit\");\n        var elem_already_withdraw = document.getElementById(\"already-withdraw\");\n        var elem_withdrawal_limit_aggregate = document.getElementById(\"withdrawal-limit-aggregate\");\n\n        if(limits['lifetime_limit'] === 99999999 && limits['num_of_days_limit'] === 99999999) {\n            elem_withdrawal_limit.textContent = Content.localize().textAuthenticatedWithdrawal;\n        } else {\n            var text_WithdrawalLimits     = Content.localize().textWithdrawalLimitsEquivalant;\n            var text_WithrawalAmount      = Content.localize().textWithrawalAmountEquivalant;\n            var text_CurrentMaxWithdrawal = Content.localize().textCurrentMaxWithdrawalEquivalant;\n            var client_currency           = 'EUR';\n            var num_of_days_limit         = addComma(limits['num_of_days_limit']).split('.')[1] === '00' ? addComma(limits['num_of_days_limit']).split('.')[0] : addComma(limits['num_of_days_limit']);\n            var already_withdraw          = limits[\"withdrawal_since_inception_monetary\"]; // no need for addComma since it is already string like \"1,000\"\n            var remainder                 = addComma(limits['remainder']).split('.')[1] === '00' ? addComma(limits['remainder']).split('.')[0] : addComma(limits['remainder']);\n\n            if((/^(iom)$/i).test(TUser.get().landing_company_name)) { // MX\n                text_WithdrawalLimits = Content.localize().textWithdrawalLimitsEquivalantDay;\n                text_WithrawalAmount  = Content.localize().textWithrawalAmountEquivalantDay;\n                elem_withdrawal_limit.textContent = template(text_WithdrawalLimits, [limits['num_of_days'], client_currency, num_of_days_limit]);\n                elem_already_withdraw.textContent = template(text_WithrawalAmount,  [client_currency, already_withdraw, limits['num_of_days']]);\n            }\n            else {\n                if((/^(costarica|japan)$/i).test(TUser.get().landing_company_name)) { // CR , JP\n                    text_WithdrawalLimits     = Content.localize().textWithdrawalLimits;\n                    text_WithrawalAmount      = Content.localize().textWithrawalAmount;\n                    text_CurrentMaxWithdrawal = Content.localize().textCurrentMaxWithdrawal;\n                    client_currency           = TUser.get().currency || page.client.get_storage_value('currencies');\n                }\n                elem_withdrawal_limit.textContent = template(text_WithdrawalLimits, [client_currency, num_of_days_limit]);\n                elem_already_withdraw.textContent = template(text_WithrawalAmount,  [client_currency, already_withdraw]);\n            }\n            elem_withdrawal_limit_aggregate.textContent = template(text_CurrentMaxWithdrawal, [client_currency, remainder]);\n        }\n    }\n\n    function limitsError(error){\n        document.getElementById('withdrawal-title').setAttribute('style', 'display:none');\n        document.getElementById('limits-title').setAttribute('style', 'display:none');\n        var errorElement = document.getElementsByClassName('notice-msg')[0];\n        if ((error && error.code === 'FeatureNotAvailable' && page.client.is_virtual()) || page.client.is_virtual()) {\n          errorElement.innerHTML = text.localize('This feature is not relevant to virtual-money accounts.');\n        } else if (error && error.message) {\n          errorElement.innerHTML = error.message;\n        } else {\n          errorElement.innerHTML = text.localize('An error occured') + '.';\n        }\n        document.getElementById('client_message').setAttribute('style', 'display:block');\n    }\n\n    function initTable(){\n        document.getElementById('client_message').setAttribute('style', 'display:none');\n        LimitsUI.clearTableContent();\n    }\n\n    return {\n        limitsHandler: limitsHandler,\n        limitsError: limitsError,\n        clean: initTable\n    };\n}());\n\nmodule.exports = {\n    LimitsWS: LimitsWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/limits/limits.init.js\n ** module id = 94\n ** module chunks = 0\n **/","var LimitsUI = (function(){\n    \"use strict\";\n\n    function fillLimitsTable(limits){\n        var open_positions = addComma(limits['open_positions']).split('.')[0];\n        var account_balance = addComma(limits['account_balance']).split('.')[0];\n        var payout = addComma(limits['payout']).split('.')[0];\n        var marketSpecific = limits.market_specific;\n\n        document.getElementById('item').textContent = Content.localize().textItem;\n\n        var currency = TUser.get().currency;\n        var limit = document.getElementsByClassName('limit');\n        if (currency === \"\") {\n            limit[0].textContent = Content.localize().textLimit;\n            limit[1].textContent = Content.localize().textLimit;\n        } else {\n            limit[0].textContent = Content.localize().textLimit + \" (\" + currency + \")\";\n            limit[1].textContent = Content.localize().textLimit + \" (\" + currency + \")\";\n        }\n        $('#max-open-position').prepend(Content.localize().textMaxOpenPosition);\n        document.getElementById('max-open-position-tooltip').setAttribute('data-balloon', Content.localize().textMaxOpenPositionTooltip);\n        document.getElementById('open-positions').textContent = open_positions;\n\n        $('#max-acc-balance').prepend(Content.localize().textMaxAccBalance);\n        document.getElementById('max-acc-balance-tooltip').setAttribute('data-balloon', Content.localize().textMaxAccBalanceTooltip);\n        document.getElementById('account-balance').textContent = account_balance;\n\n        $('#max-daily-turnover').prepend(Content.localize().textMaxDailyTurnover);\n        document.getElementById('max-daily-turnover-tooltip').setAttribute('data-balloon', Content.localize().textMaxDailyTurnoverTooltip);\n\n        $('#max-aggregate').prepend(Content.localize().textMaxAggregate);\n        document.getElementById('max-aggregate-tooltip').setAttribute('data-balloon', Content.localize().textMaxAggregateTooltip);\n        document.getElementById('payout').textContent = payout;\n\n        if (marketSpecific && objectNotEmpty(marketSpecific)) {\n          var key;\n          for (key in marketSpecific) {\n            if (marketSpecific.hasOwnProperty(key)) {\n              var object = marketSpecific[key];\n              if (object.length && object.length > 0) {\n                appendRowTable(key.charAt(0).toUpperCase() + key.slice(1), '', 'auto', 'bold');\n                for (key in object) {\n                  if (object.hasOwnProperty(key) && (page.client.residence !== 'jp' || /Major Pairs/.test(object[key].name))) {\n                    appendRowTable(object[key].name, object[key].turnover_limit !== 'null' ? addComma(object[key].turnover_limit).split('.')[0] : 0, '25px', 'normal');\n                  }\n                }\n              } else {\n                appendRowTable(object.name, object.turnover_limit !== 'null' ? addComma(object.turnover_limit).split('.')[0] : 0, 'auto', 'bold');\n              }\n            }\n          }\n        }\n        if (page.client.is_logged_in && !page.client.is_virtual()) {\n            var loginId = page.client.loginid;\n\n            var tradingLimits = document.getElementById(\"trading-limits\");\n            tradingLimits.textContent = loginId + \" - \" + text.localize('Trading Limits');\n\n            var withdrawalTitle = document.getElementById(\"withdrawal-title\");\n            withdrawalTitle.textContent = loginId + \" - \" + text.localize('Withdrawal Limits');\n        }\n        document.getElementById('client-limits').setAttribute('style', 'display:table');\n    }\n\n    function appendRowTable(name, turnover_limit, padding, font_weight) {\n      $('#client-limits').append('<tr class=\"flex-tr\">' +\n                            '<td class=\"flex-tr-child\" style=\"padding-left: ' + padding + '; font-weight: ' + font_weight + ';\">' +\n                              text.localize(name) +\n                            '</td>' +\n                            '<td>' +\n                              turnover_limit +\n                            '</td>' +\n                          '</tr>');\n    }\n\n    function clearTableContent(){\n        Table.clearTableBody('client-limits');\n        $(\"#limits-title>tfoot\").hide();\n    }\n\n\n\n    return {\n        clearTableContent: clearTableContent,\n        fillLimitsTable: fillLimitsTable\n    };\n}());\n\nmodule.exports = {\n    LimitsUI: LimitsUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/limits/limits.ui.js\n ** module id = 95\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"limitsws\", function(){\n    return {\n        onLoad: function() {\n            Content.populate();\n            var titleElement = document.getElementById(\"limits-ws-container\").firstElementChild;\n            titleElement.textContent = text.localize('Trading and Withdrawal Limits');\n            if (TUser.get().is_virtual) {\n                LimitsWS.limitsError();\n                return;\n            }\n\n            BinarySocket.init({\n                onmessage: function(msg){\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        var type = response.msg_type;\n                        var error = response.error;\n\n                        if (type === 'authorize' && TUser.get().is_virtual){\n                            LimitsWS.limitsError(error);\n                        } else if (type === 'get_limits' && !error){\n                            LimitsWS.limitsHandler(response);\n                        } else if (error) {\n                            LimitsWS.limitsError(error);\n                        }\n                    }\n                }\n            });\n\n            BinarySocket.send({get_limits: 1});\n        },\n        onUnload: function(){\n            LimitsWS.clean();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/limits.js\n ** module id = 96\n ** module chunks = 0\n **/","var MetaTraderData = (function() {\n    \"use strict\";\n\n    var lcRequested;\n\n    var initSocket = function() {\n        lcRequested = false;\n        BinarySocket.init({\n            onmessage: function(msg) {\n                var response = JSON.parse(msg.data);\n                if (response) {\n                    MetaTraderData.responseHandler(response);\n                }\n            }\n        });\n    };\n\n    var requestLoginList = function() {\n        BinarySocket.send({'mt5_login_list': 1});\n    };\n\n    var requestLoginDetails = function(login) {\n        if(login && +login > 0) {\n            BinarySocket.send({'mt5_get_settings': 1, 'login': login});\n        }\n    };\n\n    var requestPasswordCheck = function(login, password) {\n        if(login && +login > 0 && password && password.length > 0) {\n            BinarySocket.send({'mt5_password_check': 1, 'login': login, 'password': password});\n        }\n    };\n\n    var requestSend = function(request) {\n        BinarySocket.send(request);\n    };\n\n    var requestAccountStatus = function() {\n        BinarySocket.send({'get_account_status': 1});\n    };\n\n    var requestLandingCompany = function(residence) {\n        residence = residence || Cookies.get('residence');\n        if(residence && !lcRequested) {\n            lcRequested = true;\n            BinarySocket.send({'landing_company': residence});\n        }\n    };\n\n    var responseHandler = function(response) {\n        switch(response.msg_type) {\n            case 'authorize':\n                lcRequested = false;\n                MetaTraderUI.init();\n                break;\n            case 'get_settings':\n                requestLandingCompany(response.get_settings.country_code);\n                break;\n            case 'landing_company':\n                MetaTraderUI.responseLandingCompany(response);\n                break;\n            case 'get_account_status':\n                MetaTraderUI.responseAccountStatus(response);\n                break;\n            case 'mt5_login_list':\n                MetaTraderUI.responseLoginList(response);\n                break;\n            case 'mt5_get_settings':\n                MetaTraderUI.responseLoginDetails(response);\n                break;\n            case 'mt5_new_account':\n                MetaTraderUI.responseNewAccount(response);\n                break;\n            case 'mt5_deposit':\n                MetaTraderUI.responseDeposit(response);\n                break;\n            case 'mt5_withdrawal':\n                MetaTraderUI.responseWithdrawal(response);\n                break;\n            case 'mt5_password_check':\n                MetaTraderUI.responsePasswordCheck(response);\n                break;\n        }\n    };\n\n    return {\n        initSocket           : initSocket,\n        responseHandler      : responseHandler,\n        requestLoginList     : requestLoginList,\n        requestLoginDetails  : requestLoginDetails,\n        requestPasswordCheck : requestPasswordCheck,\n        requestSend          : requestSend,\n        requestAccountStatus : requestAccountStatus,\n        requestLandingCompany: requestLandingCompany,\n    };\n}());\n\nmodule.exports = {\n    MetaTraderData: MetaTraderData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/metatrader/metatrader.data.js\n ** module id = 97\n ** module chunks = 0\n **/","var MetaTraderUI = (function() {\n    \"use strict\";\n\n    var hiddenClass,\n        errorClass,\n        $form,\n        isValid,\n        isAuthenticated,\n        currency,\n        highlightBalance,\n        mt5Logins,\n        mt5Accounts;\n\n    var init = function() {\n        MetaTraderData.initSocket();\n        if(!TUser.get().hasOwnProperty('is_virtual')) {\n            return; // authorize response is not received yet\n        }\n\n        hiddenClass = 'invisible';\n        errorClass  = 'errorfield';\n        currency    = 'USD';\n        mt5Logins   = [];\n        mt5Accounts = {};\n        highlightBalance = false;\n\n        Content.populate();\n\n        MetaTraderData.requestLandingCompany();\n    };\n\n    var initOk = function() {\n        MetaTraderData.requestLoginList();\n\n        // Tab\n        $('.sidebar-nav li a').click(function(e) {\n            e.preventDefault();\n            displayTab($(this).attr('href').substring(1));\n        });\n\n        $('#mt-container').removeClass(hiddenClass);\n    };\n\n    var notEligible = function() {\n        showPageError(Content.localize().textFeatureUnavailable);\n        $('mt-container').addClass(hiddenClass);\n    };\n\n    var displayAccount = function(accType) {\n        $('#form-new-' + accType).addClass(hiddenClass);\n        var $details = $('<div/>').append($(\n            makeTextRow('Login', mt5Accounts[accType].login) +\n            makeTextRow('Balance', currency + ' ' + mt5Accounts[accType].balance, 'balance-' + accType) +\n            makeTextRow('Name', mt5Accounts[accType].name) +\n            // makeTextRow('Leverage', mt5Accounts[accType].leverage)\n            makeTextRow('', text.localize('Start trading with your ' + (accType === 'demo' ? 'Demo' : 'Real') + ' Account') +\n                ' <a class=\"button\" href=\"' + page.url.url_for('metatrader/download') + '\" style=\"margin:0 20px;\">' +\n                    '<span>' + text.localize('Download MetaTrader') + '</span></a>')\n        ));\n        $('#details-' + accType).html($details.html());\n\n        // display deposit form\n        if(accType === 'real') {\n            $('#msg-cannot-create-real, #authenticate').addClass(hiddenClass);\n            if(page.client.is_virtual()) {\n                $('#accordion').addClass(hiddenClass);\n                $('#msg-switch-to-deposit').removeClass(hiddenClass);\n            } else {\n                $('#msg-switch-to-deposit').addClass(hiddenClass);\n                ['#form-deposit-real', '#form-withdrawal-real'].map(function(formID){\n                    $form = $(formID);\n                    $form.find('.binary-login').text(page.client.loginid);\n                    $form.find('.mt-login').text(mt5Accounts[accType].login);\n                    $form.find('#txtAmount').unbind('keypress').keypress(onlyNumericOnKeypress);\n                    $form.find('button').unbind('click').click(function(e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        if(/deposit/.test(formID)) {\n                            depositToMTAccount();\n                        } else {\n                            withdrawFromMTAccount();\n                        }\n                    });\n                });\n\n                if(highlightBalance) {\n                    $('#balance-real').addClass('notice-msg').delay(5000).queue(function(){$(this).removeClass('notice-msg');});\n                    highlightBalance = false;\n                }\n\n                if($('#accordion').hasClass(hiddenClass)) {\n                    $('#accordion').removeClass(hiddenClass).accordion({\n                        heightStyle : 'content',\n                        collapsible : true,\n                        active      : false\n                    });\n                }\n            }\n        }\n    };\n\n    var makeTextRow = function(label, value, id) {\n        return '<div' + (id ? ' id=\"' + id + '\"' : '') + ' class=\"gr-row gr-padding-10\">' +\n            (label ? '<div class=\"gr-4\">' + text.localize(label) + '</div>' : '') +\n            '<div class=\"gr-' + (label ? '8' : '12') + '\">' + value + '</div></div>';\n    };\n\n    var createNewAccount = function() {\n        if(formValidate()) {\n            var isDemo = /demo/.test($form.attr('id'));\n            MetaTraderData.requestSend({\n                'mt5_new_account' : 1,\n                'account_type'    : isDemo ? 'demo' : 'vanuatu',\n                'email'           : TUser.get().email,\n                'name'            : isDemo ? $form.find('#txtName').val() : TUser.get().fullname,\n                'mainPassword'    : $form.find('#txtMainPass').val(),\n                'investPassword'  : $form.find('#txtInvestPass').val(),\n                'leverage'        : '100' // $form.find('#ddlLeverage').val()\n            });\n        }\n    };\n\n    var depositToMTAccount = function() {\n        $form = $('#form-deposit-real');\n        if(formValidate('deposit')) {\n            MetaTraderData.requestSend({\n                'mt5_deposit' : 1,\n                'from_binary' : page.client.loginid,\n                'to_mt5'      : mt5Accounts.real.login,\n                'amount'      : $form.find('#txtAmount').val()\n            });\n        }\n    };\n\n    var withdrawFromMTAccount = function(isPasswordChecked) {\n        $form = $('#form-withdrawal-real');\n        if(formValidate('withdrawal')) {\n            if(!isPasswordChecked) {\n                MetaTraderData.requestPasswordCheck(mt5Accounts.real.login, $form.find('#txtMainPass').val());\n            } else {\n                MetaTraderData.requestSend({\n                    'mt5_withdrawal' : 1,\n                    'from_mt5'       : mt5Accounts.real.login,\n                    'to_binary'      : page.client.loginid,\n                    'amount'         : $form.find('#txtAmount').val()\n                });\n            }\n        }\n    };\n\n    // --------------------------\n    // ----- Tab Management -----\n    // --------------------------\n    var displayTab = function(tab) {\n        if(!tab) {\n            tab = page.url.location.hash.substring(1);\n            if(!tab || !/demo|real|howto/.test(tab)) {\n                tab = 'demo';\n            }\n        }\n\n        // url\n        window.location.hash = '#' + tab;\n\n        // tab\n        $('.sidebar-nav li').removeClass('selected');\n        $('.sidebar-nav').find('#nav-' + tab).addClass('selected');\n\n        // section\n        $('.section').addClass(hiddenClass);\n        $('#section-' + tab).removeClass(hiddenClass);\n        if(/demo|real/.test(tab)) {\n            manageTabContents();\n        }\n    };\n\n    var manageTabContents = function() {\n        var accType = $('.sidebar-nav li.selected').attr('id').split('-')[1];\n        var hasMTDemo = mt5Accounts.hasOwnProperty('demo'),\n            hasMTReal = mt5Accounts.hasOwnProperty('real');\n\n        if(/demo/.test(accType)) {\n            if(!hasMTDemo) {\n                $form = $('#form-new-demo');\n                $form.removeClass(hiddenClass);\n                $form.find('#name-row').removeClass(hiddenClass);\n                passwordMeter();\n            }\n        } else if(/real/.test(accType)) {\n            if(!hasMTReal) {\n                if(page.client.is_virtual()) {\n                    // check if this client has real binary account\n                    var hasRealBinaryAccount = false;\n                    page.user.loginid_array.map(function(loginInfo) {\n                        if(loginInfo.real) hasRealBinaryAccount = true;\n                    });\n\n                    $('#msg-cannot-create-real').html(hasRealBinaryAccount ?\n                        text.localize('To create a real account for MetaTrader, switch to your [_1] real money account.', ['Binary.com']) :\n                        text.localize('To create a real account for MetaTrader, <a href=\"[_1]\">upgrade to [_2] real money account</a>.', [page.url.url_for('new_account/realws'), 'Binary.com'])\n                    ).removeClass(hiddenClass);\n                } else {\n                    if(!isAuthenticated && !page.client.is_virtual()) {\n                        MetaTraderData.requestAccountStatus();\n                    } else {\n                        $form = $('#form-new-real');\n                        if($form.contents().length === 0) {\n                            $('#form-new-demo').contents().clone().appendTo('#form-new-real');\n                            $form.find('.account-type').text(text.localize('Real'));\n                            $form.find('#name-row').addClass(hiddenClass);\n                            passwordMeter();\n                        }\n                        $form.removeClass(hiddenClass);\n                    }   \n                }\n            }\n        }\n\n        if($form && /new/.test($form.attr('id'))) {\n            $form.find('button').unbind('click').click(function(e) {\n                e.preventDefault();\n                e.stopPropagation();\n                createNewAccount();\n            });\n        }\n    };\n\n    // -----------------------------\n    // ----- Response Handlers -----\n    // -----------------------------\n    var responseLandingCompany = function(response) {\n        if(response.hasOwnProperty('error')) {\n            return showPageError(response.error.message, true);\n        }\n\n        var lc = response.landing_company;\n        if (lc.hasOwnProperty('financial_company') && lc.financial_company.shortcode === 'costarica') {\n            initOk();\n        } else {\n            notEligible();\n        }\n    };\n\n    var responseAccountStatus = function(response) {\n        if(response.hasOwnProperty('error')) {\n            return showPageError(response.error.message, false);\n        }\n\n        if($.inArray('authenticated', response.get_account_status.status) > -1) {\n            isAuthenticated = true;\n            manageTabContents();\n        } else if(!page.client.is_virtual()) {\n            $('#authenticate').removeClass(hiddenClass);\n        }\n    };\n\n    var responseLoginList = function(response) {\n        if(response.hasOwnProperty('error')) {\n            return showPageError(response.error.message, false);\n        }\n\n        mt5Logins = [];\n        mt5Accounts = {};\n        if(response.mt5_login_list && response.mt5_login_list.length > 0) {\n            response.mt5_login_list.map(function(obj) {\n                mt5Logins.push(obj.login);\n                MetaTraderData.requestLoginDetails(obj.login);\n            });\n        } else {\n            displayTab();\n        }\n    };\n\n    var responseLoginDetails = function(response) {\n        if(response.hasOwnProperty('error')) {\n            return showPageError(response.error.message, false);\n        }\n\n        var accType = /^demo/.test(response.mt5_get_settings.group) ? 'demo' : 'real';\n        mt5Accounts[accType] = response.mt5_get_settings;\n        displayTab();\n        displayAccount(accType);\n    };\n\n    var responseNewAccount = function(response) {\n        if(response.hasOwnProperty('error')) {\n            return showFormMessage(response.error.message, false);\n        }\n\n        MetaTraderData.requestLoginDetails(response.mt5_new_account.login);\n        $('#msg-new-account-' + (/demo/.test(response.mt5_new_account.account_type) ? 'demo' : 'real'))\n            .html(text.localize('Congratulations! Your account has been created.')).removeClass(hiddenClass);\n    };\n\n    var responseDeposit = function(response) {\n        $form = $('#form-deposit-real');\n        if(response.hasOwnProperty('error')) {\n            return showFormMessage(response.error.message, false);\n        }\n\n        if(+response.mt5_deposit === 1) {\n            $form.find('#txtAmount').val('');\n            showFormMessage(text.localize('Deposit is done. Transaction ID:') + ' ' + response.binary_transaction_id, true);\n            highlightBalance = true;\n            MetaTraderData.requestLoginDetails(response.echo_req.to_mt5);\n        } else {\n            showFormMessage('Sorry, an error occurred while processing your request.', false);\n        }\n    };\n\n    var responseWithdrawal = function(response) {\n        $form = $('#form-withdrawal-real');\n        if(response.hasOwnProperty('error')) {\n            return showFormMessage(response.error.message, false);\n        }\n\n        if(+response.mt5_withdrawal === 1) {\n            $form.find('#txtAmount').val('');\n            showFormMessage(text.localize('Withdrawal is done. Transaction ID:') + ' ' + response.binary_transaction_id, true);\n            highlightBalance = true;\n            MetaTraderData.requestLoginDetails(response.echo_req.from_mt5);\n        } else {\n            showFormMessage('Sorry, an error occurred while processing your request.', false);\n        }\n    };\n\n    var responsePasswordCheck = function(response) {\n        $form = $('#form-withdrawal-real');\n        if(response.hasOwnProperty('error')) {\n            return showError('#txtMainPass', response.error.message);\n        }\n\n        if(+response.mt5_password_check === 1) {\n            withdrawFromMTAccount(true);\n        }\n    };\n\n    // --------------------------\n    // ----- Form Functions -----\n    // --------------------------\n    var passwordMeter = function() {\n        if (isIE()) {\n            $form.find('.password-meter').remove();\n            return;\n        }\n\n        if($form.find('meter').length !== 0) {\n            $form.find('.password').on('input', function() {\n                $form.find('.password-meter').attr('value', testPassword($form.find('.password').val())[0]);\n            });\n        }\n    };\n\n    var formValidate = function(formName) {\n        clearError();\n        isValid = true;\n\n        if(formName === 'deposit') { // deposit form\n            var errMsgDeposit = MetaTrader.validateAmount($form.find('#txtAmount').val());\n            if(errMsgDeposit) {\n                showError('#txtAmount', errMsgDeposit);\n                isValid = false;\n            }\n        } else if(formName === 'withdrawal') { // withdrawal form\n            var errMsgPass = MetaTrader.validateRequired($form.find('#txtMainPass').val());\n            if(errMsgPass) {\n                showError('#txtMainPass', errMsgPass);\n                isValid = false;\n            }\n            var errMsgWithdrawal = MetaTrader.validateAmount($form.find('#txtAmount').val());\n            if(errMsgWithdrawal) {\n                showError('#txtAmount', errMsgWithdrawal);\n                isValid = false;\n            }\n        } else { // create new account form\n            var passwords = ['#txtMainPass', '#txtMainPass2', '#txtInvestPass'];\n            passwords.map(function(elmID){\n                var errMsg = MetaTrader.validatePassword($form.find(elmID).val());\n                if(errMsg) {\n                    showError(elmID, errMsg);\n                    isValid = false;\n                }\n            });\n            if($form.find('#txtMainPass').val() !== $form.find('#txtMainPass2').val()) {\n                showError('#txtMainPass2', Content.localize().textPasswordsNotMatching);\n                isValid = false;\n            }\n            // name\n            if(/demo/.test($form.attr('id'))) {\n                var errMsgName = MetaTrader.validateName($form.find('#txtName').val());\n                if(errMsgName) {\n                    showError('#txtName', errMsgName);\n                    isValid = false;\n                }\n            }\n        }\n\n        return isValid;\n    };\n\n    var showError = function(selector, errMsg) {\n        $form.find(selector).parent().append($('<p/>', {class: errorClass, text: errMsg}));\n        isValid = false;\n    };\n\n    var clearError = function(selector) {\n        $(selector ? selector : 'p.' + errorClass).remove();\n        $('#errorMsg').html('').addClass(hiddenClass);\n        $form.find('#formMessage').html('');\n        $('#msg-new-account-demo, #msg-new-account-real').addClass(hiddenClass);\n    };\n\n    var showFormMessage = function(msg, isSuccess) {\n        var $elmID = $form.find('#formMessage');\n        $elmID\n            .attr('class', isSuccess ? 'success-msg' : errorClass)\n            .html(isSuccess ? '<ul class=\"checked\"><li>' + text.localize(msg) + '</li></ul>' : text.localize(msg))\n            .css('display', 'block')\n            .delay(5000)\n            .fadeOut(1000);\n    };\n\n    var showPageError = function(errMsg, hideForm) {\n        $('#errorMsg').html(errMsg).removeClass(hiddenClass);\n        if(hideForm) {\n            $form.addClass(hiddenClass);\n        }\n    };\n\n    return {\n        init: init,\n        responseLoginList      : responseLoginList,\n        responseLoginDetails   : responseLoginDetails,\n        responseNewAccount     : responseNewAccount,\n        responseDeposit        : responseDeposit,\n        responseWithdrawal     : responseWithdrawal,\n        responsePasswordCheck  : responsePasswordCheck,\n        responseAccountStatus  : responseAccountStatus,\n        responseLandingCompany : responseLandingCompany,\n    };\n}());\n\nmodule.exports = {\n    MetaTraderUI: MetaTraderUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/metatrader/metatrader.ui.js\n ** module id = 98\n ** module chunks = 0\n **/","var MetaTrader = (function(){\n    'use strict';\n\n    var validateRequired = function(value) {\n        return (!/^.+$/.test(value) ? Content.errorMessage('req') : '');\n    };\n\n    var validatePassword = function(password) {\n        var errMsg = validateRequired(password);\n\n        if (!errMsg) {\n            if (password.length < 6 || password.length > 25) {\n                errMsg = Content.errorMessage('range', '6-25');\n            } else if (!/[0-9]+/.test(password) || !/[A-Z]+/.test(password) || !/[a-z]+/.test(password)) {\n                errMsg = text.localize('Password should have lower and uppercase letters with numbers.');\n            } else if (!/^[!-~]+$/.test(password)) {\n                errMsg = Content.errorMessage('valid', Content.localize().textPassword);\n            }\n        }\n\n        return errMsg;\n    };\n\n    var validateName = function(name) {\n        var errMsg = validateRequired(name);\n\n        if (!errMsg) {\n            if (name.length < 2 || name.length > 30) {\n                errMsg = Content.errorMessage('range', '2-30');\n            } else if (!/^[a-zA-Z\\s-.']+$/.test(name)) {\n                var letters = Content.localize().textLetters,\n                    space   = Content.localize().textSpace,\n                    hyphen  = Content.localize().textHyphen,\n                    period  = Content.localize().textPeriod,\n                    apost   = Content.localize().textApost;\n                errMsg = Content.errorMessage('reg', [letters, space, hyphen, period, apost]);\n            }\n        }\n\n        return errMsg;\n    };\n\n    var validateAmount = function(amount) {\n        var errMsg = validateRequired(amount);\n\n        if (!errMsg && (!(/^\\d+(\\.\\d+)?$/).test(amount) || !$.isNumeric(amount))) {\n            errMsg = Content.errorMessage('reg', [Content.localize().textNumbers]);\n        }\n\n        return errMsg;\n    };\n\n    return {\n        validateRequired: validateRequired,\n        validatePassword: validatePassword,\n        validateName    : validateName,\n        validateAmount  : validateAmount,\n    };\n}());\n\nmodule.exports = {\n    MetaTrader: MetaTrader,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/metatrader.js\n ** module id = 99\n ** module chunks = 0\n **/","var SelfExclusionWS = (function() {\n    \"use strict\";\n\n    var $form,\n        $loading;\n\n    var timeDateID  = 'timeout_until_duration';\n    var timeID      = 'timeout_until';\n    var dateID      = 'exclude_until';\n    var errorClass  = 'errorfield';\n    var hiddenClass = 'hidden';\n    var fields;\n\n    function reallyInit() {\n        $form    = $('#frmSelfExclusion');\n        $loading = $('#loading');\n\n        // for error messages to show properly\n        $('#' + timeID).attr('style', 'margin-bottom:10px');\n\n        if (page.client.is_virtual()) {\n            $('#selfExclusionDesc').addClass(hiddenClass);\n            showPageError(Content.localize().textFeatureUnavailable, true);\n            return;\n        }\n        showLoadingImage($loading);\n\n        fields = {};\n        $form.find('input').each(function() {\n            fields[this.name] = '';\n        });\n\n        bind_validation.simple($form[0], {\n            validate: validate,\n            submit: submitForm,\n        });\n\n        initDatePicker();\n        getRequest();\n    }\n\n    function init() {\n        Content.populate();\n        BinarySocket.init({\n            onmessage: function(msg){\n                var response = JSON.parse(msg.data);\n                var msg_type = response.msg_type;\n                if      (msg_type === 'authorize') reallyInit();\n                else if (msg_type === 'get_self_exclusion') getResponse(response);\n                else if (msg_type === 'set_self_exclusion') setResponse(response);\n            }\n        });\n        if ('is_virtual' in TUser.get()) {\n            reallyInit();\n        }\n    }\n\n    // ----------------------\n    // ----- Get Values -----\n    // ----------------------\n    function getRequest() {\n        BinarySocket.send({get_self_exclusion: 1});\n    }\n\n    function getResponse(response) {\n        if (response.error) {\n            if (response.error.code === 'ClientSelfExclusion') {\n                page.client.send_logout_request();\n            }\n            if (response.error.message) {\n                showPageError(response.error.message, true);\n            }\n            return false;\n        }\n        $loading.addClass(hiddenClass);\n        $form.removeClass(hiddenClass);\n        $.each(response.get_self_exclusion, function(key, value) {\n            fields[key] = value + '';\n            $form.find('#' + key).val(value);\n        });\n    }\n\n    function initDatePicker() {\n        attach_time_picker($('#' + timeID));\n\n        $('#' + timeDateID).datepicker({\n            dateFormat: 'yy-mm-dd',\n            minDate   : moment().toDate(),\n            maxDate   : moment().add(moment.duration(6, 'weeks')).toDate(),\n            onSelect  : function(dateText, inst) {\n                $(this).val(dateText);\n            }\n        });\n\n        $('#' + dateID).datepicker({\n            dateFormat: 'yy-mm-dd',\n            minDate   : moment().add(moment.duration(6, 'months')).toDate(),\n            maxDate   : moment().add(moment.duration(5, 'years')).toDate(),\n            onSelect  : function(dateText, inst) {\n                $(this).val(dateText);\n            }\n        });\n    }\n\n    // ----------------------\n    // ----- Set Values -----\n    // ----------------------\n    function setRequest(data) {\n        data.set_self_exclusion = 1;\n        BinarySocket.send(data);\n    }\n\n    function setResponse(response) {\n        if (response.error) {\n            var errMsg = response.error.message;\n            var field  = response.error.field;\n            if (field) {\n                ValidationUI.draw('input[name='+field+']', errMsg);\n            } else {\n                showFormMessage(text.localize(errMsg), false);\n            }\n            return;\n        }\n        showFormMessage('Your changes have been updated.', true);\n        page.client.set_storage_value('session_start', moment().unix()); // used to handle session duration limit\n        getRequest();\n    }\n\n    // To propogate empty values.\n    function EMPTY() {}\n    function allowEmpty(value) {\n        return value.length > 0 ?\n            dv.ok(value) :\n            dv.fail(EMPTY);\n    }\n\n    function afterToday(date) {\n        return date.isAfter(moment()) ?\n            dv.ok(date) :\n            dv.fail('Exclude time must be after today.');\n    }\n\n    // Let empty values go to next validator, because it\n    // is ok to put empty values at this stage.\n    function numericOrEmpty(value) {\n        if (!value) return dv.ok(value);\n        return /^\\d+$/.test(value) ?\n            dv.ok(big_uint(value)) :\n            dv.fail('Please enter an integer value');\n    }\n\n    function leftPadZeros(strint, zeroCount) {\n        var result = strint;\n        for (var i = 0; i < (zeroCount - strint.length); i++) {\n            result = \"0\" + result;\n        }\n        return result;\n    }\n\n    // big unsigned integer.\n    function big_uint(x) {\n        return x.replace(/^0+/, '');\n    }\n\n    big_uint.gt = function(x, y) {\n        var maxLength = Math.max(x.length, y.length);\n        var lhs = leftPadZeros(x, maxLength);\n        var rhs = leftPadZeros(y, maxLength);\n        return lhs > rhs; // lexicographical comparison\n    };\n\n    function againstField(key) {\n        return function(value) {\n            var old = fields[key];\n            var err = text.localize('Please enter a number between 0 and [_1]', [old]);\n            var hasOld = !!old;\n            var isEmpty = value.length === 0;\n            if (!hasOld) {\n                return isEmpty ? dv.fail(EMPTY) : dv.ok(value);\n            }\n            return (isEmpty || big_uint.gt(value, old)) ?\n                dv.fail(err) :\n                dv.ok(value);\n        };\n    }\n\n    function validSessionDuration(value) {\n        return +value <= moment.duration(6, 'weeks').as('minutes') ?\n            dv.ok(value) :\n            dv.fail('Session duration limit cannot be more than 6 weeks.');\n    }\n\n    function validExclusionDate(date) {\n        var six_months = moment().add(moment.duration(6, 'months'));\n        var five_years = moment().add(moment.duration(5, 'years'));\n        return (\n            (date.isBefore(six_months) && dv.fail('Exclude time cannot be less than 6 months.')) ||\n            (date.isAfter(five_years)  && dv.fail('Exclude time cannot be for more than 5 years.')) ||\n            dv.ok(date)\n        );\n    }\n\n    function toDateString(date) {\n        return dv.ok(date.format('YYYY-MM-DD'));\n    }\n\n    function allowEmptyUnless(key) {\n        return function(value, data) {\n            if (value.length > 0) return dv.ok(value);\n            if (data[key].length > 0) return dv.fail('Please select a valid date');\n            return dv.fail(EMPTY);\n        };\n    }\n\n    var schema;\n    function getSchema() {\n        if (schema) return schema;\n        var V2 = ValidateV2;\n        var validTime = V2.momentFmt('HH:mm', 'Please select a valid time');\n        var validDate = V2.momentFmt('YYYY-MM-DD', 'Please select a valid date');\n\n        schema = {\n            max_7day_losses:    [numericOrEmpty, againstField('max_7day_losses')],\n            max_7day_turnover:  [numericOrEmpty, againstField('max_7day_turnover')],\n            max_30day_losses:   [numericOrEmpty, againstField('max_30day_losses')],\n            max_30day_turnover: [numericOrEmpty, againstField('max_30day_turnover')],\n            max_balance:        [numericOrEmpty, againstField('max_balance')],\n            max_losses:         [numericOrEmpty, againstField('max_losses')],\n            max_open_bets:      [numericOrEmpty, againstField('max_open_bets')],\n            max_turnover:       [numericOrEmpty, againstField('max_turnover')],\n            session_duration_limit: [numericOrEmpty, againstField('session_duration_limit'), validSessionDuration],\n            exclude_until:          [allowEmpty, validDate, afterToday, validExclusionDate, toDateString],\n            // these two are combined.\n            timeout_until_duration: [allowEmptyUnless('timeout_until'), validDate],\n            timeout_until:          [allowEmpty, validTime],\n        };\n        return schema;\n    }\n\n    function validate(data) {\n        var info = validate_object(data, getSchema());\n        info.errors = info.errors.filter(function(e) {\n            return e.err !== EMPTY;\n        });\n        return info;\n    }\n\n    function detectChange(a, b) {\n        var k_a = Object.keys(a);\n        var k_b = Object.keys(b);\n        if (k_a.length !== k_b.length) {\n            return true;\n        }\n        for (var i = 0; i < k_a.length; i++) {\n            var key = k_a[i];\n            if (a[key] !== b[key]) return true;\n        }\n        return false;\n    }\n\n    function submitForm(e, validation) {\n        e.preventDefault();\n        e.stopPropagation();\n        clearError();\n        var info = validateForm(validation);\n        if (!info.valid) return;\n        if (!info.changed) {\n            showFormMessage('You did not change anything.', false);\n            return;\n        }\n        if ('timeout_until' in info.data || 'exclude_until' in info.data) {\n            if (!hasConfirmed()) return;\n        }\n        setRequest(info.data);\n    }\n\n    function validateForm(validation) {\n        var values = validation.values;\n        var valid = validation.errors.length === 0;\n\n        // Do the date time addition and validation here\n        var date = values.timeout_until_duration;\n        if (date) {\n            // If we've gotten this far then there must *not*\n            // be an error with the timeout date.\n            var time = values.timeout_until || moment.duration({});\n            var six_weeks = moment().add(moment.duration(6, 'weeks'));\n            date = date.add(time);\n            var res = dv.first(date, [\n                afterToday,\n                dv.check(function(d) { return !d.isAfter(six_weeks); }, 'Exclude time cannot be more than 6 weeks'),\n            ]);\n            if (!res.isOk) {\n                ValidationUI.draw(\n                    'input[name=timeout_until_duration]',\n                    res.value[0]\n                );\n                valid = false;\n            } else {\n                delete values.timeout_until_duration;\n                values.timeout_until = date.unix();\n            }\n        }\n\n        return {\n            data: values,\n            valid: valid,\n            changed: valid && detectChange(validation.raw, fields),\n        };\n    }\n\n    function hasConfirmed() {\n        var message = 'When you click \"Ok\" you will be excluded from trading on the site until the selected date.';\n        return window.confirm(text.localize(message));\n    }\n\n    // -----------------------------\n    // ----- Message Functions -----\n    // -----------------------------\n    function showPageError(errMsg, hideForm) {\n        $('#errorMsg').html(errMsg).removeClass(hiddenClass);\n        if (hideForm) {\n            $form.addClass(hiddenClass);\n        }\n    }\n\n    function clearError() {\n        $('#errorMsg').html('').addClass(hiddenClass);\n        $('#formMessage').html('');\n    }\n\n    function showFormMessage(msg, isSuccess) {\n        $('#formMessage')\n            .attr('class', isSuccess ? 'success-msg' : errorClass)\n            .html(isSuccess ? '<ul class=\"checked\"><li>' + text.localize(msg) + '</li></ul>' : text.localize(msg))\n            .css('display', 'block')\n            .delay(5000)\n            .fadeOut(1000);\n    }\n\n    return {\n        init: init,\n    };\n}());\n\nmodule.exports = {\n    SelfExclusionWS: SelfExclusionWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/self_exclusion.js\n ** module id = 100\n ** module chunks = 0\n **/","var SettingsDetailsWS = (function() {\n    \"use strict\";\n\n    var formID = '#frmPersonalDetails';\n    var RealAccElements = '.RealAcc';\n    var changed = false;\n    var fieldIDs = {\n        address1 : '#Address1',\n        address2 : '#Address2',\n        city     : '#City',\n        state    : '#State',\n        postcode : '#Postcode',\n        phone    : '#Phone'\n    };\n\n\n    function init() {\n        var isJP = page.client.residence === 'jp';\n        BinarySocket.send({\"get_settings\": \"1\"});\n        bind_validation.simple($(formID)[0], {\n            schema: isJP ? getJPSchema() : getNonJPSchema(),\n            submit: function(ev, info) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                if (info.errors.length > 0) return;\n                if (!changed) {\n                    showFormMessage('You did not change anything.', false);\n                    return;\n                }\n                if (isJP) return submitJP(info.values);\n                submitNonJP(info.values);\n            },\n        });\n        if (isJP) {\n            detect_hedging($('#PurposeOfTrading'), $('.hedge'));\n        }\n    }\n\n    function getDetailsResponse(response) {\n        var data = response.get_settings;\n\n        $('#lblCountry').text(data.country || '-');\n        $('#lblEmail').text(data.email);\n\n        if (page.client.is_virtual()) { // Virtual Account\n            $(RealAccElements).remove();\n            $(formID).removeClass('hidden');\n            return;\n        }\n        // Real Account\n        var birthDate = data.date_of_birth ? moment.utc(new Date(data.date_of_birth * 1000)).format(\"YYYY-MM-DD\") : '';\n        $('#lblBirthDate').text(birthDate);\n        // Generate states list\n        var residence = Cookies.get('residence');\n        if (residence) {\n            BinarySocket.send({\"states_list\": residence, \"passthrough\": {\"value\": data.address_state}});\n        }\n        if (page.client.residence === 'jp') {\n            var jpData = response.get_settings.jp_settings;\n            $('#lblName').text((data.last_name || ''));\n            $('#lblGender').text(text.localize(jpData.gender) || '');\n            $('#lblAddress1').text(data.address_line_1 || '');\n            $('#lblAddress2').text(data.address_line_2 || '');\n            $('#lblCity').text(data.address_city || '');\n            $('#lblPostcode').text(data.address_postcode || '');\n            $('#lblPhone').text(data.phone || '');\n\n            $('#AnnualIncome').val(jpData.annual_income);\n            $('#FinancialAsset').val(jpData.financial_asset);\n            $('#Occupation').val(jpData.occupation);\n            $('#Equities').val(jpData.trading_experience_equities);\n            $('#Commodities').val(jpData.trading_experience_commodities);\n            $('#ForeignCurrencyDeposit').val(jpData.trading_experience_foreign_currency_deposit);\n            $('#MarginFX').val(jpData.trading_experience_margin_fx);\n            $('#InvestmentTrust').val(jpData.trading_experience_investment_trust);\n            $('#PublicCorporationBond').val(jpData.trading_experience_public_bond);\n            $('#DerivativeTrading').val(jpData.trading_experience_option_trading);\n            $('#PurposeOfTrading').val(jpData.trading_purpose);\n            if (jpData.hedge_asset !== null && jpData.hedge_asset_amount !== null) {\n              $('#HedgeAsset').val(jpData.hedge_asset);\n              $('#HedgeAssetAmount').val(jpData.hedge_asset_amount);\n              $('.hedge').removeClass('invisible');\n            }\n            $('.JpAcc').removeClass('invisible')\n                       .removeClass('hidden');\n\n            $('#AnnualIncome, #FinancialAsset, #Occupation, #Equities, #Commodities,' +\n                '#ForeignCurrencyDeposit, #MarginFX, #InvestmentTrust, #PublicCorporationBond,' +\n                '#DerivativeTrading, #PurposeOfTrading, #HedgeAsset, #HedgeAssetAmount')\n                .on('change', function() {\n                changed = true;\n            });\n        } else {\n            $('#lblName').text((data.salutation || '') + ' ' + (data.first_name || '') + ' ' + (data.last_name || ''));\n            $(fieldIDs.address1).val(data.address_line_1);\n            $(fieldIDs.address2).val(data.address_line_2);\n            $(fieldIDs.city).val(data.address_city);\n\n            $(fieldIDs.postcode).val(data.address_postcode);\n            $(fieldIDs.phone).val(data.phone);\n\n            $('#Address1, #Address2, #City, #State, #Postcode, #Phone').on('change', function() {\n              changed = true;\n            });\n\n            $(RealAccElements).removeClass('hidden');\n        }\n\n        $(formID).removeClass('hidden');\n    }\n\n    function populateStates(response) {\n        var $field = $(fieldIDs.state);\n        var defaultValue = response.echo_req.passthrough.value;\n        var states = response.states_list;\n\n        $field.empty();\n\n        if (states.length > 0) {\n            states.forEach(function(state) {\n                $field.append($('<option/>', {value: state.value, text: state.text}));\n            });\n        } else {\n            $field.replaceWith($('<input/>', {id: fieldIDs.state, name: 'address_state', type: 'text', maxlength: '35'}));\n        }\n\n        $field.val(defaultValue);\n        $('#lblState').text($('#State option:selected').text());\n        $field.on('change', function() {\n            changed = true;\n        });\n    }\n\n    function toJPSettings(data) {\n        var jp_settings = {};\n        jp_settings = {};\n        jp_settings[\"annual_income\"]                               = data.annualIncome;\n        jp_settings[\"financial_asset\"]                             = data.financialAsset;\n        jp_settings[\"occupation\"]                                  = data.occupation;\n        jp_settings[\"trading_experience_equities\"]                 = data.equities;\n        jp_settings[\"trading_experience_commodities\"]              = data.commodities;\n        jp_settings[\"trading_experience_foreign_currency_deposit\"] = data.foreignCurrencyDeposit;\n        jp_settings[\"trading_experience_margin_fx\"]                = data.marginFX;\n        jp_settings[\"trading_experience_investment_trust\"]         = data.InvestmentTrust;\n        jp_settings[\"trading_experience_public_bond\"]              = data.publicCorporationBond;\n        jp_settings[\"trading_experience_option_trading\"]           = data.derivativeTrading;\n        jp_settings[\"trading_purpose\"]                             = data.purposeOfTrading;\n        if (data.purposeOfTrading === 'Hedging') {\n            jp_settings[\"hedge_asset\"]        = data.hedgeAsset;\n            jp_settings[\"hedge_asset_amount\"] = data.hedgeAssetAmount;\n        }\n        return {jp_settings: jp_settings};\n    }\n\n    function submitJP(data) {\n        function trim(s) {\n            return $(s).val().trim();\n        }\n        setDetails(toJPSettings({\n            hedgeAssetAmount       : data.hedge_asset_amount,\n            annualIncome           : trim('#AnnualIncome'),\n            financialAsset         : trim('#FinancialAsset'),\n            occupation             : trim('#Occupation'),\n            equities               : trim('#Equities'),\n            commodities            : trim('#Commodities'),\n            foreignCurrencyDeposit : trim('#ForeignCurrencyDeposit'),\n            marginFX               : trim('#MarginFX'),\n            InvestmentTrust        : trim('#InvestmentTrust'),\n            publicCorporationBond  : trim('#PublicCorporationBond'),\n            derivativeTrading      : trim('#DerivativeTrading'),\n            purposeOfTrading       : trim('#PurposeOfTrading'),\n            hedgeAsset             : trim('#HedgeAsset')\n        }));\n    }\n\n    function getJPSchema(data) {\n        var V2 = ValidateV2;\n        return {\n            hedge_asset_amount: [\n                function(v) { return dv.ok(v.trim()); },\n                V2.required,\n                V2.regex(/^\\d+$/, [Content.localize().textNumbers]),\n            ],\n        };\n    }\n\n    function submitNonJP(data) {\n        delete data.hedge_asset_amount;\n        setDetails(data);\n    }\n\n    function getNonJPSchema() {\n        var letters = Content.localize().textLetters,\n            numbers = Content.localize().textNumbers,\n            space   = Content.localize().textSpace,\n            period  = Content.localize().textPeriod,\n            comma   = Content.localize().textComma;\n\n        var V2 = ValidateV2;\n        var isAddress  = V2.regex(/^[a-zA-Z0-9\\s\\,\\.\\-\\/\\(\\)#']+$/, [letters, numbers, space, period, comma, '- / ( ) # \\'']);\n        var isCity     = isAddress;\n        var isState    = V2.regex(/^[a-zA-Z\\s\\-']+$/,               [letters, space, '- \\'']);\n        var isPostcode = V2.regex(/^[\\w\\s-]+$/,                     [letters, numbers, space, '-']);\n        var isPhoneNo  = V2.regex(/^(|\\+?[0-9\\s\\-]+)$/,             [numbers, space, '-']);\n\n        function maybeEmptyAddress(value) {\n            return value.length ? isAddress(value) : dv.ok(value);\n        }\n\n        return {\n            address_line_1:   [V2.required, isAddress],\n            address_line_2:   [maybeEmptyAddress],\n            address_city:     [V2.required, isCity],\n            address_state:    [V2.required, isState],\n            address_postcode: [V2.required, V2.lengthRange(1, 20), isPostcode],\n            phone:            [V2.lengthRange(6, 35), isPhoneNo],\n        };\n    }\n\n    function setDetails(data) {\n        var req = {\"set_settings\" : 1};\n        Object.keys(data).forEach(function(key) {\n            req[key] = data[key];\n        });\n        console.log(req);\n        BinarySocket.send(req);\n    }\n\n    function showFormMessage(msg, isSuccess) {\n        $('#formMessage')\n            .attr('class', isSuccess ? 'success-msg' : 'errorfield')\n            .html(isSuccess ? '<ul class=\"checked\"><li>' + text.localize(msg) + '</li></ul>' : text.localize(msg))\n            .css('display', 'block')\n            .delay(5000)\n            .fadeOut(1000);\n    }\n\n    function setDetailsResponse(response) {\n        var isError = response.set_settings !== 1;\n        // allow user to resubmit the form on error.\n        changed = isError ? true : false;\n        showFormMessage(isError ?\n            'Sorry, an error occurred while processing your account.' :\n            'Your settings have been updated successfully.', !isError);\n    }\n\n    return {\n        init: init,\n        getDetailsResponse: getDetailsResponse,\n        setDetailsResponse: setDetailsResponse,\n        populateStates: populateStates\n    };\n}());\n\n\n\npjax_config_page_require_auth(\"settings/detailsws\", function() {\n    return {\n        onLoad: function() {\n            BinarySocket.init({\n                onmessage: function(msg) {\n                    var response = JSON.parse(msg.data);\n                    if (!response) {\n                        console.log('some error occured');\n                        return;\n                    }\n                    var type = response.msg_type;\n                    switch(type){\n                        case \"get_settings\":\n                            SettingsDetailsWS.getDetailsResponse(response);\n                            break;\n                        case \"set_settings\":\n                            SettingsDetailsWS.setDetailsResponse(response);\n                            break;\n                        case \"states_list\":\n                            SettingsDetailsWS.populateStates(response);\n                            break;\n                        case \"error\":\n                            $('#formMessage').attr('class', 'errorfield').text(response.error.message);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            });\n\n            Content.populate();\n            SettingsDetailsWS.init();\n        }\n    };\n});\n\nmodule.exports = {\n    SettingsDetailsWS: SettingsDetailsWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/settings_detailsws.js\n ** module id = 101\n ** module chunks = 0\n **/","var SecurityWS = (function() {\n    \"use strict\";\n    var $form;\n    var current_state;\n    var STATE = {\n        WAIT_AUTH:    'WAIT_AUTH',\n        QUERY_LOCKED: 'QUERY_LOCKED',\n        LOCKED:       'LOCKED',\n        UNLOCKED:     'UNLOCKED',\n        TRY_UNLOCK:   'TRY_UNLOCK',\n        TRY_LOCK:     'TRY_LOCK',\n        DONE:         'DONE',\n    };\n\n    function clearErrors() {\n        $(\"#SecuritySuccessMsg\").text('');\n        $(\"#invalidinputfound\").text('');\n    }\n\n    function checkIsVirtual() {\n        if (!page.client.is_virtual()) {\n            return false;\n        }\n        $form.hide();\n        $('#SecuritySuccessMsg')\n            .addClass('notice-msg center-text')\n            .text(Content.localize().textFeatureUnavailable);\n        return true;\n    }\n\n    function makeAuthRequest() {\n        BinarySocket.send({\n            authorize: CommonData.getLoginToken(),\n        });\n    }\n\n    function init() {\n        Content.populate();\n        $form = $(\"#changeCashierLock\");\n        if (checkIsVirtual()) return;\n\n        current_state = STATE.WAIT_AUTH;\n        BinarySocket.init({onmessage: handler});\n        makeAuthRequest();\n    }\n\n    function authorised() {\n        current_state = STATE.QUERY_LOCKED;\n        BinarySocket.send({\n            cashier_password: \"1\",\n        });\n    }\n\n    function updatePage(config) {\n        $('legend').text(text.localize(config.legend));\n        $('#lockInfo').text(text.localize(config.info));\n        $form.find('button')\n            .attr('value', config.button)\n            .html(text.localize(config.button));\n    }\n\n    function setupRepeatPasswordForm() {\n        $(\"#repasswordrow\").show();\n        $('#password-meter-div').css({display: 'block'});\n        if (isIE()) {\n            $('#password-meter').remove();\n            return;\n        }\n        $('#cashierlockpassword1').on('input', function() {\n            $('#password-meter').attr('value', testPassword($('#cashierlockpassword1').val())[0]);\n        });\n    }\n\n    function lockedStatus(response) {\n        var locked = +response.cashier_password === 1;\n        if (locked) {\n            updatePage({\n                legend: 'Unlock Cashier',\n                info:   'Your cashier is locked as per your request - to unlock it, please enter the password.',\n                button: 'Unlock Cashier',\n            });\n            $(\"#repasswordrow\").hide();\n        } else {\n            updatePage({\n                legend: 'Lock Cashier',\n                info:   'An additional password can be used to restrict access to the cashier.',\n                button: 'Update',\n            });\n            setupRepeatPasswordForm();\n        }\n        current_state = locked ? STATE.LOCKED : STATE.UNLOCKED;\n        bind_validation.simple($form[0], {\n            schema: locked ? {} : getUnlockedSchema(),\n            submit: function(e, info) {\n                e.preventDefault();\n                e.stopPropagation();\n                if (info.errors.length > 0) {\n                    return;\n                }\n                current_state = locked ?\n                    STATE.TRY_UNLOCK :\n                    STATE.TRY_LOCK;\n                makeAuthRequest();\n            },\n        });\n        $form.show();\n    }\n\n    function getUnlockedSchema() {\n        var err = Content.localize().textPasswordsNotMatching;\n        function matches(value, data) {\n            return value === data.cashierlockpassword1;\n        }\n\n        return {\n            cashierlockpassword1: [ValidateV2.password],\n            cashierlockpassword2: [dv.check(matches, err)],\n        };\n    }\n\n    function makeTryingRequest() {\n        var key = current_state === STATE.TRY_UNLOCK ?\n            'unlock_password' :\n            'lock_password';\n        var params  = {cashier_password: '1'};\n        params[key] = $('#cashierlockpassword1').val();\n        BinarySocket.send(params);\n    }\n\n    function tryStatus(response) {\n        if (response.error) {\n            current_state = current_state === STATE.TRY_UNLOCK ?\n                STATE.LOCKED :\n                STATE.UNLOCKED;\n            var message = response.error.message;\n            if (current_state === STATE.LOCKED &&\n                response.error.code === 'InputValidationFailed') {\n                message = 'Sorry, you have entered an incorrect cashier password';\n            }\n            $(\"#invalidinputfound\").text(text.localize(message));\n            return;\n        }\n        $form.hide();\n        clearErrors();\n        $(\"#SecuritySuccessMsg\").text(text.localize('Your settings have been updated successfully.'));\n        current_state = STATE.DONE;\n    }\n\n    function handler(msg) {\n        if (checkIsVirtual()) return;\n        var response = JSON.parse(msg.data);\n        if (response.msg_type === 'authorize') {\n            switch (current_state) {\n                case STATE.WAIT_AUTH:\n                    authorised();\n                    break;\n                case STATE.TRY_UNLOCK:\n                case STATE.TRY_LOCK:\n                    makeTryingRequest();\n                    break;\n                default:\n                    break;\n            }\n        } else if (response.msg_type === 'cashier_password') {\n            switch (current_state) {\n                case STATE.QUERY_LOCKED:\n                    lockedStatus(response);\n                    break;\n                case STATE.TRY_UNLOCK:\n                case STATE.TRY_LOCK:\n                    tryStatus(response);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n\n    return {\n        init: init,\n    };\n})();\n\nmodule.exports = {\n    SecurityWS: SecurityWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings/settings_securityws.js\n ** module id = 102\n ** module chunks = 0\n **/","var SettingsWS = (function() {\n    \"use strict\";\n\n    var init = function() {\n        var classHidden = 'invisible',\n            classReal   = '.real';\n\n        if(!page.client.is_virtual()) {\n            // control-class is a fake class, only used to counteract ja-hide class\n            $(classReal).not((japanese_client() ? \".ja-hide\" : \".control-class\")).removeClass(classHidden);\n        }\n        else {\n            $(classReal).addClass(classHidden);\n        }\n\n        $('#settingsContainer').removeClass(classHidden);\n    };\n\n    return {\n        init: init\n    };\n}());\n\n\npjax_config_page_require_auth(\"settingsws\", function() {\n    return {\n        onLoad: function() {\n            if(page.client.get_storage_value('is_virtual').length === 0) {\n                BinarySocket.init({\n                    onmessage: function(msg) {\n                        var response = JSON.parse(msg.data);\n                        if (response && response.msg_type === 'authorize') {\n                            SettingsWS.init();\n                        }\n                    }\n                });\n            }\n            else {\n                SettingsWS.init();\n            }\n        }\n    };\n});\n\nmodule.exports = {\n    SettingsWS: SettingsWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/settings.js\n ** module id = 103\n ** module chunks = 0\n **/","var StatementData = (function(){\n    var hasOlder = true;\n\n    function initSocket(){\n        BinarySocket.init({\n            onmessage: function(msg){\n                var response = JSON.parse(msg.data);\n                if (response) {\n                    var type = response.msg_type;\n                    if (type === 'statement'){\n                        StatementWS.statementHandler(response);\n                    } else if (type === 'oauth_apps') {\n                        addTooltip(StatementUI.setOauthApps(buildOauthApps(response.oauth_apps)));\n                    }\n                }\n            }\n        });\n        BinarySocket.send({'oauth_apps': 1});\n    }\n\n    function getStatement(opts){\n        var req = {statement: 1, description: 1};\n        if(opts){\n            $.extend(true, req, opts);\n        }\n\n        BinarySocket.send(req);\n    }\n\n    return {\n        initSocket: initSocket,\n        getStatement: getStatement,\n        hasOlder: hasOlder\n    };\n}());\n\nmodule.exports = {\n    StatementData: StatementData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/statement/statement.data.js\n ** module id = 104\n ** module chunks = 0\n **/","var StatementWS = (function(){\n    \"use strict\";\n\n    //Batch refer to number of data get from ws service per request\n    //chunk refer to number of data populate to ui for each append\n    //receive means receive from ws service\n    //consume means consume by UI and displayed to page\n\n    var batchSize,\n        chunkSize,\n        noMoreData,\n        pending,\n        currentBatch,\n        transactionsReceived,\n        transactionsConsumed;\n\n    var tableExist = function(){\n        return document.getElementById(\"statement-table\");\n    };\n\n    var finishedConsumed = function(){\n        return transactionsConsumed === transactionsReceived;\n    };\n\n    function statementHandler(response){\n        if(response.hasOwnProperty('error')) {\n            StatementUI.errorMessage(response.error.message);\n            return;\n        }\n\n        pending = false;\n\n        var statement = response.statement;\n        currentBatch = statement.transactions;\n        transactionsReceived += currentBatch.length;\n\n        if (currentBatch.length < batchSize){\n            noMoreData = true;\n        }\n\n        if (!tableExist()) {\n            StatementUI.createEmptyStatementTable().appendTo(\"#statement-ws-container\");\n            StatementUI.updateStatementTable(getNextChunkStatement());\n\n            // Show a message when the table is empty\n            if ((transactionsReceived === 0) && (currentBatch.length === 0)) {\n                $('#statement-table tbody')\n                    .append($('<tr/>', {class: \"flex-tr\"})\n                        .append($('<td/>', {colspan: 7})\n                            .append($('<p/>', {class: \"notice-msg center-text\", text: text.localize(\"Your account has no trading activity.\")})\n                            )\n                        )\n                    );\n            } else if(page.language().toLowerCase() === 'ja') {\n                $('#download_csv').removeClass('invisible').find('a').click(function(){StatementUI.exportCSV();});\n            }\n        }\n        showLocalTimeOnHover('td.date');\n    }\n\n    function getNextBatchStatement(){\n        StatementData.getStatement({offset: transactionsReceived, limit: batchSize});\n        pending = true;\n    }\n\n    function getNextChunkStatement(){\n        var chunk = currentBatch.splice(0, chunkSize);\n        transactionsConsumed += chunk.length;\n        $('#rows_count').text(transactionsConsumed);\n        return chunk;\n    }\n\n    function loadStatementChunkWhenScroll(){\n        $(document).scroll(function(){\n\n            function hidableHeight(percentage){\n                var totalHidable = $(document).height() - $(window).height();\n                return Math.floor(totalHidable * percentage / 100);\n            }\n\n            var pFromTop = $(document).scrollTop();\n\n            if (!tableExist()){\n                return;\n            }\n\n            if (pFromTop < hidableHeight(70)) {\n                return;\n            }\n\n            if (finishedConsumed() && !noMoreData && !pending) {\n                getNextBatchStatement();\n                return;\n            }\n\n            if (!finishedConsumed()){\n                StatementUI.updateStatementTable(getNextChunkStatement());\n            }\n        });\n    }\n\n    function initTable(){\n        pending = false;\n        noMoreData = false;\n\n        currentBatch = [];\n\n        transactionsReceived = 0;\n        transactionsConsumed = 0;\n\n        StatementUI.errorMessage(null);\n\n        StatementUI.clearTableContent();\n    }\n\n    function initPage(){\n        batchSize = 200;\n        chunkSize = batchSize/2;\n        noMoreData = false;\n        pending = false;            //serve as a lock to prevent ws request is sequential\n        currentBatch = [];\n        transactionsReceived = 0;\n        transactionsConsumed = 0;\n        StatementData.initSocket();\n        Content.populate();\n        getNextBatchStatement();\n        loadStatementChunkWhenScroll();\n    }\n\n    function cleanStatementPageState(){\n        initTable();\n    }\n\n    return {\n        init: initPage,\n        statementHandler: statementHandler,\n        clean: cleanStatementPageState\n    };\n}());\n\nmodule.exports = {\n    StatementWS: StatementWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/statement/statement.init.js\n ** module id = 105\n ** module chunks = 0\n **/","var StatementUI = (function(){\n    \"use strict\";\n    var tableID = \"statement-table\";\n    var columns = [\"date\", \"ref\", \"payout\", \"act\", \"desc\", \"credit\", \"bal\", \"details\"];\n    var allData = [];\n    var oauth_apps = {};\n\n    function createEmptyStatementTable(){\n        var header = [\n            Content.localize().textDate,\n            Content.localize().textRef,\n            text.localize('Potential Payout'),\n            Content.localize().textAction,\n            Content.localize().textDescription,\n            Content.localize().textCreditDebit,\n            Content.localize().textBalance,\n            Content.localize().textDetails\n        ];\n\n        header[6] = header[6] + (TUser.get().currency ? \" (\" + TUser.get().currency + \")\" : \"\");\n\n        var metadata = {\n            id: tableID,\n            cols: columns\n        };\n        var data = [];\n        var $tableContainer = Table.createFlexTable(data, metadata, header);\n        return $tableContainer;\n    }\n\n    function updateStatementTable(transactions){\n        Table.appendTableBody(tableID, transactions, createStatementRow);\n    }\n\n    function clearTableContent(){\n        Table.clearTableBody(tableID);\n        allData = [];\n        $(\"#\" + tableID +\">tfoot\").hide();\n    }\n\n    function createStatementRow(transaction){\n        var statement_data = Statement.getStatementData(transaction);\n        allData.push(statement_data);\n        var creditDebitType = (parseFloat(statement_data.amount) >= 0) ? \"profit\" : \"loss\";\n\n        var $statementRow = Table.createFlexTableRow([statement_data.date, '<span' + showTooltip(statement_data.app_id, oauth_apps[statement_data.app_id]) + '>' + statement_data.ref + '</span>', isNaN(statement_data.payout) ? '-' : statement_data.payout, statement_data.action, '', statement_data.amount, statement_data.balance, ''], columns, \"data\");\n        $statementRow.children(\".credit\").addClass(creditDebitType);\n        $statementRow.children(\".date\").addClass(\"pre\");\n        $statementRow.children(\".desc\").html(statement_data.desc + \"<br>\");\n\n        //create view button and append\n        if (statement_data.action === \"Sell\" || statement_data.action === \"Buy\") {\n            var $viewButtonSpan = Button.createBinaryStyledButton();\n            var $viewButton = $viewButtonSpan.children(\".button\").first();\n            $viewButton.text(text.localize(\"View\"));\n            $viewButton.addClass(\"open_contract_detailsws\");\n            $viewButton.attr(\"contract_id\", statement_data.id);\n\n            $statementRow.children(\".desc,.details\").append($viewButtonSpan);\n        }\n\n        return $statementRow[0];        //return DOM instead of jquery object\n    }\n\n    function errorMessage(msg) {\n        var $err = $('#statement-ws-container #err-msg');\n        if(msg) {\n            $err.removeClass('invisible').text(msg);\n        } else {\n            $err.addClass('invisible').text('');\n        }\n    }\n\n    function exportCSV() {\n        downloadCSV(\n            Statement.generateCSV(allData),\n            'Statement_' + page.client.loginid + '_latest' + $('#rows_count').text() + '_' +\n                toJapanTimeIfNeeded(window.time).replace(/\\s/g, '_').replace(/:/g, '') + '.csv'\n        );\n    }\n\n    return {\n        clearTableContent: clearTableContent,\n        createEmptyStatementTable: createEmptyStatementTable,\n        updateStatementTable: updateStatementTable,\n        errorMessage: errorMessage,\n        exportCSV: exportCSV,\n        setOauthApps: function(values) {\n            return (oauth_apps = values);\n        }\n    };\n}());\n\nmodule.exports = {\n    StatementUI: StatementUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/statement/statement.ui.js\n ** module id = 106\n ** module chunks = 0\n **/","var Statement = (function(){\n    'use strict';\n    var moment = Compatibility.requireIfNotExist('moment', '../../lib/moment/moment'),\n        StringUtil = Compatibility.requireIfNotExist('StringUtil', '../common_functions/string_util'),\n        addComma = Compatibility.requireIfNotExist('addComma', '../websocket_pages/trade/common', 'addComma');\n    var getStatementData = function(statement) {\n        var dateObj = new Date(statement[\"transaction_time\"] * 1000),\n            momentObj = moment.utc(dateObj),\n            dateStr = momentObj.format(\"YYYY-MM-DD\"),\n            timeStr = momentObj.format(\"HH:mm:ss\") + ' GMT';\n\n        var statement_data = {\n            'date'    : dateStr + \"\\n\" + timeStr,\n            'ref'     : statement[\"transaction_id\"],\n            'payout'  : parseFloat(statement[\"payout\"]).toFixed(2),\n            'action'  : StringUtil.toTitleCase(statement[\"action_type\"]),\n            'amount'  : addComma(parseFloat(statement[\"amount\"])),\n            'balance' : addComma(parseFloat(statement[\"balance_after\"])),\n            'desc'    : statement[\"longcode\"].replace(/\\n/g, '<br />'),\n            'id'      : statement[\"contract_id\"],\n            'app_id'  : statement[\"app_id\"]\n        };\n\n        return statement_data;\n    };\n\n    var generateCSV = function(allData){\n        var columns = ['date', 'ref', 'payout', 'action', 'desc', 'amount', 'balance'],\n            header  = ['Date', 'Reference ID', 'Potential Payout', 'Action', 'Description', 'Credit/Debit'].map(function(str){return text.localize(str);});\n        header.push(text.localize('Balance') + (TUser.get().currency ? ' (' + TUser.get().currency + ')' : ''));\n        var sep = ',',\n            csv = [header.join(sep)];\n        if (allData && allData.length > 0) {\n            csv = csv.concat(\n                allData.map(function(data){\n                    return columns.map(function(key){\n                       return (data[key] ? data[key].replace(new RegExp(sep, 'g'), '').replace(new RegExp('\\n|<br />', 'g'), ' ') : '');\n                    }).join(sep);\n                })\n            );\n        }\n        return csv.join('\\r\\n');\n    };\n\n    var external = {\n        getStatementData: getStatementData,\n        generateCSV: generateCSV\n    };\n\n    if (typeof module !== 'undefined') {\n        module.exports = external;\n    }\n\n    return external;\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/statement.js\n ** module id = 107\n ** module chunks = 0\n **/","var TopUpVirtualWS = (function() {\n\t\"use strict\";\n\n    var containerID,\n        viewIDs,\n        hiddenClass,\n        $views;\n\n    var init = function() {\n        containerID = '#topup_virtual';\n        hiddenClass = 'hidden';\n        $views      = $(containerID + ' .viewItem');\n        viewIDs = {\n            error   : '#viewError',\n            success : '#viewSuccess'\n        };\n\n        $views.addClass('hidden');\n\n        if(!page.client.is_virtual()) {\n            showMessage(text.localize('Sorry, this feature is available to virtual accounts only.'), false);\n        }\n        else {\n            BinarySocket.send({\"topup_virtual\": \"1\"});\n        }\n    };\n\n    var responseHandler = function(response) {\n        var str, amt , currType;\n        if ('error' in response) {\n            if ('message' in response.error) {\n                showMessage(text.localize(response.error.message), false);\n            }\n        } else {\n            showMessage(\n                text.localize('[_1] [_2] has been credited to your Virtual money account [_3]', [\n                    response.topup_virtual.currency,\n                    response.topup_virtual.amount,\n                    page.client.loginid\n                ]),\n                true);\n        }\n    };\n\n    var showMessage = function(message, isSuccess) {\n        var viewID = isSuccess ? viewIDs.success : viewIDs.error;\n        setActiveView(viewID);\n        $(viewID + ' > p').html(message);\n    };\n\n    var setActiveView = function(viewID) {\n        $views.addClass(hiddenClass);\n        $(viewID).removeClass(hiddenClass);\n    };\n\n\n    return {\n    \tinit: init,\n    \tresponseHandler: responseHandler\n    };\n}());\n\n\npjax_config_page_require_auth(\"top_up_virtualws\", function() {\n    return {\n        onLoad: function() {\n        \tBinarySocket.init({\n                onmessage: function(msg){\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        if (response.msg_type === \"authorize\") {\n                            TopUpVirtualWS.init();\n                        }\n                        else if (response.msg_type === \"topup_virtual\") {\n                            TopUpVirtualWS.responseHandler(response);\n                        }\n                    }\n                    else {\n                        console.log('some error occured');\n                    }\n                }\n            });\n\n            Content.populate();\n            if(TUser.get().hasOwnProperty('is_virtual')) {\n                TopUpVirtualWS.init();\n            }\n        }\n    };\n});\n\nmodule.exports = {\n    TopUpVirtualWS: TopUpVirtualWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/account/top_up_virtualws.js\n ** module id = 108\n ** module chunks = 0\n **/","var LostPassword = (function() {\n    'use strict';\n\n    var hiddenClass = 'invisible';\n\n    function submitEmail() {\n        var emailInput = $('#lp_email').val();\n\n        if (emailInput === '') {\n            $(\"#email_error\").removeClass(hiddenClass).text(text.localize('This field is required.'));\n        } else if (!validateEmail(emailInput)){\n            $(\"#email_error\").removeClass(hiddenClass).text(text.localize('Invalid email format'));\n        }\n        else {\n            BinarySocket.send({verify_email: emailInput, type: 'reset_password'});\n            $('#submit').prop('disabled', true);\n        }\n    }\n\n    function onEmailInput(input) {\n        if (input) {\n            $(\"#email_error\").addClass(hiddenClass);\n        }\n    }\n    \n    function lostPasswordWSHandler(msg) {\n        var response = JSON.parse(msg.data);\n        var type = response.msg_type;\n\n        if (type === 'verify_email') {\n            if (response.verify_email === 1) {\n                load_with_pjax('reset_passwordws');\n            } else if (response.error) {\n                $(\"#email_error\").removeClass(hiddenClass).text(text.localize('Invalid email format'));\n                $('#submit').prop('disabled', false);\n            }\n        }\n    }\n\n    function init() {\n        $('#lost_passwordws').removeClass('invisible');\n        $('#submit:enabled').click(function() {\n            submitEmail();\n        });\n\n        $('#lp_email').keypress(function(ev) {\n            if (ev.which === 13) {\n                submitEmail();\n            }\n            onEmailInput(ev.target.value);\n        });\n    }\n\n    return {\n        lostPasswordWSHandler: lostPasswordWSHandler,\n        init: init\n    };\n}());\n\nmodule.exports = {\n    LostPassword: LostPassword,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/lost_password/lost_password.init.js\n ** module id = 109\n ** module chunks = 0\n **/","pjax_config_page('user/lost_passwordws', function() {\n    return {\n        onLoad: function() {\n            if(page.client.redirect_if_login()) {\n                return;\n            }\n            BinarySocket.init({\n                onmessage: LostPassword.lostPasswordWSHandler\n            });\n            LostPassword.init();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/lost_password.js\n ** module id = 110\n ** module chunks = 0\n **/","var MyAccountWS = (function() {\n    \"use strict\";\n\n    var loginid,\n        isReal,\n        get_account_status,\n        is_authenticated_payment_agent,\n        terms_conditions_version,\n        client_tnc_status;\n    var hiddenClass,\n        welcomeTextID,\n        virtualTopupID,\n        authButtonID;\n\n    var init = function() {\n        hiddenClass    = 'invisible';\n        welcomeTextID  = '#welcome_text';\n        virtualTopupID = '#VRT_topup_link';\n        authButtonID   = '#authenticate_button';\n\n        loginid = page.client.loginid || Cookies.get('loginid');\n\n        BinarySocket.send({\"get_settings\"      : 1});\n        BinarySocket.send({\"website_status\"    : 1});\n        BinarySocket.send({\"get_account_status\": 1});\n\n        //checkDisabledAccount();\n    };\n\n    var responseGetSettings = function(response) {\n        var get_settings = response.get_settings;\n        if (get_settings.country === null || Cookies.get('residence') === '') {\n          var documentDomain = document.domain.split('.').slice(-2).join('.');\n          if (Cookies.get('residence') !== '') {\n            Cookies.set('residence', '', {path: '/', domain: documentDomain});\n          } else if (get_settings.country_code) {\n            Cookies.set('residence', get_settings.country_code, {path: '/', domain: documentDomain});\n          }\n          page.client.residence = get_settings.country_code;\n        }\n        client_tnc_status = get_settings.client_tnc_status || '-';\n        is_authenticated_payment_agent = get_settings.is_authenticated_payment_agent;\n\n        checkAll();\n    };\n\n    var responseAccountStatus = function(response) {\n        get_account_status = response.get_account_status.status;\n        checkAll();\n    };\n\n    var checkAll = function() {\n        if(!terms_conditions_version || !client_tnc_status || !get_account_status) {\n            return;\n        }\n\n        if(isReal && terms_conditions_version !== client_tnc_status && !localStorage.getItem('risk_classification')) {\n            window.location.href = page.url.url_for('user/tnc_approvalws');\n            return;\n        }\n\n        showWelcomeMessage();\n        if(!isReal) {\n            showTopUpLink();\n        }\n        else {\n            if(is_authenticated_payment_agent) {\n                $('#payment_agent').removeClass(hiddenClass);\n            }\n        }\n\n        if(get_account_status[0] === 'unwelcome'){\n            $(authButtonID).removeClass(hiddenClass);\n        }\n\n        $('#cashier-portfolio, #profit-statement').removeClass(hiddenClass);\n        $('#loading').remove();\n    };\n\n    var showWelcomeMessage = function() {\n        var landing_company = page.client.get_storage_value('landing_company_name');\n        $(welcomeTextID)\n            .text(\n                text.localize(\n                    isReal ?\n                        'You are currently logged in to your real money account with [_1] ([_2]).' :\n                        'You are currently logged in to your virtual money account ([_2]).',\n                    [\n                        landing_company || '',\n                        loginid,\n                    ])\n            )\n            .removeClass(hiddenClass);\n    };\n\n    var showTopUpLink = function() {\n        if(TUser.get().balance < 1000) {\n            $(virtualTopupID + ' a')\n                .text(\n                    text.localize('Deposit [_1] [_2] virtual money into your account [_3]', [\n                        TUser.get().currency,\n                        '10000',\n                        loginid,\n                    ])\n                );\n            $(virtualTopupID).removeClass(hiddenClass);\n        }\n    };\n\n    var checkDisabledAccount = function() {\n        var disabledAccount = [];\n        page.user.loginid_array.map(function(loginObj) {\n            if (loginObj.disabled && loginObj.real) {\n                disabledAccount.push(loginObj.id);\n            }\n        });\n\n        if(disabledAccount.length > 0) {\n            var msgSingular = text.localize('Your [_1] account is unavailable. For any questions please contact [_2].'),\n                msgPlural   = text.localize('Your [_1] accounts are unavailable. For any questions please contact [_2].');\n            $('<p/>', {class: 'notice-msg'})\n                .html(\n                    template(disabledAccount.length === 1 ? msgSingular : msgPlural, [\n                        disabledAccount.join(', '),\n                        $('<a/>', {class: 'pjaxload', href: page.url.url_for('contact'), text: text.localize('Customer Support')}).prop('outerHTML')\n                    ])\n                )\n                .insertAfter($(welcomeTextID));\n        }\n    };\n\n    var apiResponse = function(response) {\n        if('error' in response){\n            if('message' in response.error) {\n                console.warn(response.error.message);\n            }\n            return false;\n        }\n\n        isReal = !page.client.is_virtual();\n\n        switch(response.msg_type) {\n            case 'get_account_status':\n                responseAccountStatus(response);\n                break;\n            case 'get_settings':\n                responseGetSettings(response);\n                break;\n            case 'landing_company':\n                showWelcomeMessage();\n                break;\n            case 'website_status':\n                terms_conditions_version = response.website_status.terms_conditions_version;\n                checkAll();\n                break;\n            default:\n                break;\n        }\n    };\n\n    return {\n        init : init,\n        apiResponse : apiResponse\n    };\n}());\n\n\npjax_config_page_require_auth(\"user/my_accountws\", function() {\n    return {\n        onLoad: function() {\n            showLoadingImage($('<div/>', {id: 'loading'}).insertAfter('#welcome'));\n\n            if(page.url.param('login')) {\n                page.client.clear_storage_values();\n            }\n\n            BinarySocket.init({\n                onmessage: function(msg) {\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        MyAccountWS.apiResponse(response);\n                    }\n                }\n            });\n\n            Content.populate();\n            MyAccountWS.init();\n        }\n    };\n});\n\nmodule.exports = {\n    MyAccountWS: MyAccountWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/my_accountws.js\n ** module id = 111\n ** module chunks = 0\n **/","var FinancialAccOpeningData = (function(){\n    function getRealAcc(elementObj){\n        var req = {\n            new_account_maltainvest: 1,\n            salutation: elementObj['title'].value,\n            first_name: elementObj['fname'].value,\n            last_name: elementObj['lname'].value,\n            date_of_birth: elementObj['dobyy'].value + '-' + elementObj['dobmm'].value + '-' + elementObj['dobdd'].value,\n            residence: elementObj['residence'].value,\n            address_line_1: elementObj['address1'].value,\n            address_line_2: elementObj['address2'].value,\n            address_city: elementObj['town'].value,\n            address_state: elementObj['state'].value,\n            address_postcode: elementObj['postcode'].value,\n            phone: elementObj['tel'].value,\n            forex_trading_experience: elementObj['forexExperience'].value,\n            forex_trading_frequency: elementObj['forexFrequency'].value,\n            indices_trading_experience: elementObj['indicesExperience'].value,\n            indices_trading_frequency: elementObj['indicesFrequency'].value,\n            commodities_trading_experience: elementObj['commoditiesExperience'].value,\n            commodities_trading_frequency: elementObj['commoditiesFrequency'].value,\n            stocks_trading_experience: elementObj['stocksExperience'].value,\n            stocks_trading_frequency: elementObj['stocksFrequency'].value,\n            other_derivatives_trading_experience: elementObj['binaryExperience'].value,\n            other_derivatives_trading_frequency: elementObj['binaryFrequency'].value,\n            other_instruments_trading_experience: elementObj['otherExperience'].value,\n            other_instruments_trading_frequency: elementObj['otherFrequency'].value,\n            employment_industry: elementObj['employment'].value,\n            education_level: elementObj['education'].value,\n            income_source: elementObj['incomeSource'].value,\n            net_income: elementObj['income'].value,\n            estimated_worth: elementObj['netWorth'].value\n        };\n\n        if (Cookies.get('affiliate_tracking')) {\n          req.affiliate_token = Cookies.getJSON('affiliate_tracking').t;\n        }\n\n        if (elementObj['answer'].value !== '') {\n          req.secret_question = elementObj['question'].value;\n          req.secret_answer = elementObj['answer'].value;\n        }\n\n        if (window.acceptRisk) {\n          req.accept_risk = 1;\n        } else {\n          req.accept_risk = 0;\n        }\n\n        BinarySocket.send(req);\n    }\n\n    return {\n        getRealAcc: getRealAcc\n    };\n}());\n\nmodule.exports = {\n    FinancialAccOpeningData: FinancialAccOpeningData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/financial_acc_opening/financial_acc_opening.data.js\n ** module id = 112\n ** module chunks = 0\n **/","var FinancialAccOpeningUI = (function(){\n  \"use strict\";\n\n  function checkValidity(){\n    window.accountErrorCounter = 0;\n\n    var letters = Content.localize().textLetters,\n        numbers = Content.localize().textNumbers,\n        space   = Content.localize().textSpace,\n        hyphen  = Content.localize().textHyphen,\n        period  = Content.localize().textPeriod,\n        apost   = Content.localize().textApost;\n\n    var elementObj = {\n        title                    : document.getElementById('title'),\n        fname                    : document.getElementById('fname'),\n        lname                    : document.getElementById('lname'),\n        dobdd                    : document.getElementById('dobdd'),\n        dobmm                    : document.getElementById('dobmm'),\n        dobyy                    : document.getElementById('dobyy'),\n        residence                : document.getElementById('residence-disabled'),\n        address1                 : document.getElementById('address1'),\n        address2                 : document.getElementById('address2'),\n        town                     : document.getElementById('address-town'),\n        state                    : document.getElementById('address-state'),\n        postcode                 : document.getElementById('address-postcode'),\n        tel                      : document.getElementById('tel'),\n        question                 : document.getElementById('secret-question'),\n        answer                   : document.getElementById('secret-answer'),\n        tnc                      : document.getElementById('tnc'),\n        forexExperience          : document.getElementById('forex-trading-experience'),\n        forexFrequency           : document.getElementById('forex-trading-frequency'),\n        indicesExperience        : document.getElementById('indices-trading-experience'),\n        indicesFrequency         : document.getElementById('indices-trading-frequency'),\n        commoditiesExperience    : document.getElementById('commodities-trading-experience'),\n        commoditiesFrequency     : document.getElementById('commodities-trading-frequency'),\n        stocksExperience         : document.getElementById('stocks-trading-experience'),\n        stocksFrequency          : document.getElementById('stocks-trading-frequency'),\n        binaryExperience         : document.getElementById('other-derivatives-trading-experience'),\n        binaryFrequency          : document.getElementById('other-derivatives-trading-frequency'),\n        otherExperience          : document.getElementById('other-instruments-trading-experience'),\n        otherFrequency           : document.getElementById('other-instruments-trading-frequency'),\n        employment               : document.getElementById('employment-industry'),\n        education                : document.getElementById('education-level'),\n        incomeSource             : document.getElementById('income-source'),\n        income                   : document.getElementById('net-income'),\n        netWorth                 : document.getElementById('estimated-worth')\n    };\n\n    var errorObj = {\n        title                    : document.getElementById('error-title'),\n        fname                    : document.getElementById('error-fname'),\n        lname                    : document.getElementById('error-lname'),\n        dobdd                    : document.getElementById('error-birthdate'),\n        dobmm                    : document.getElementById('error-birthdate'),\n        dobyy                    : document.getElementById('error-birthdate'),\n        residence                : document.getElementById('error-residence'),\n        address1                 : document.getElementById('error-address1'),\n        address2                 : document.getElementById('error-address2'),\n        town                     : document.getElementById('error-town'),\n        state                    : document.getElementById('error-state'),\n        postcode                 : document.getElementById('error-postcode'),\n        tel                      : document.getElementById('error-tel'),\n        question                 : document.getElementById('error-question'),\n        answer                   : document.getElementById('error-answer'),\n        tnc                      : document.getElementById('error-tnc'),\n        forexExperience          : document.getElementById('error-forex-trading-experience'),\n        forexFrequency           : document.getElementById('error-forex-trading-frequency'),\n        indicesExperience        : document.getElementById('error-indices-trading-experience'),\n        indicesFrequency         : document.getElementById('error-indices-trading-frequency'),\n        commoditiesExperience    : document.getElementById('error-commodities-trading-experience'),\n        commoditiesFrequency     : document.getElementById('error-commodities-trading-frequency'),\n        stocksExperience         : document.getElementById('error-stocks-trading-experience'),\n        stocksFrequency          : document.getElementById('error-stocks-trading-frequency'),\n        binaryExperience         : document.getElementById('error-other-derivatives-trading-experience'),\n        binaryFrequency          : document.getElementById('error-other-derivatives-trading-frequency'),\n        otherExperience          : document.getElementById('error-other-instruments-trading-experience'),\n        otherFrequency           : document.getElementById('error-other-instruments-trading-frequency'),\n        employment               : document.getElementById('error-employment-industry'),\n        education                : document.getElementById('error-education-level'),\n        incomeSource             : document.getElementById('error-income-source'),\n        income                   : document.getElementById('error-net-income'),\n        netWorth                 : document.getElementById('error-estimated-worth')\n    };\n\n    var key;\n    for (key in errorObj) {\n      if (errorObj[key].offsetParent !== null) {\n        errorObj[key].setAttribute('style', 'display:none');\n      }\n    }\n\n    ValidAccountOpening.checkFname(elementObj['fname'], errorObj['fname']);\n    ValidAccountOpening.checkLname(elementObj['lname'], errorObj['lname']);\n    ValidAccountOpening.checkDate(elementObj['dobdd'], elementObj['dobmm'], elementObj['dobyy'], errorObj['dobdd']);\n    ValidAccountOpening.checkPostcode(elementObj['postcode'], errorObj['postcode']);\n\n    if (elementObj['residence'].value === 'gb' && /^$/.test(Trim(elementObj['postcode'].value))){\n      errorPostcode.innerHTML = Content.errorMessage('req');\n      Validate.displayErrorMessage(errorPostcode);\n      window.accountErrorCounter++;\n    }\n\n    ValidAccountOpening.checkTel(elementObj['tel'], errorObj['tel']);\n    if (elementObj['answer'].offsetParent !== null) {\n      ValidAccountOpening.checkAnswer(elementObj['answer'], errorObj['answer']);\n    }\n\n    for (key in elementObj){\n      if (elementObj[key].offsetParent !== null && key !== 'address2' && key !== 'postcode' && key !== 'state') {\n        if (/^$/.test(Trim(elementObj[key].value)) && elementObj[key].type !== 'checkbox'){\n          errorObj[key].innerHTML = Content.errorMessage('req');\n          Validate.displayErrorMessage(errorObj[key]);\n          window.accountErrorCounter++;\n        }\n        if (elementObj[key].type === 'checkbox' && !elementObj[key].checked){\n          errorObj[key].innerHTML = Content.errorMessage('req');\n          Validate.displayErrorMessage(errorObj[key]);\n          window.accountErrorCounter++;\n        }\n      }\n    }\n\n    if (window.accountErrorCounter === 0) {\n      FinancialAccOpeningData.getRealAcc(elementObj);\n      for (key in errorObj) {\n        if (errorObj[key].offsetParent !== null) {\n          errorObj[key].setAttribute('style', 'display:none');\n        }\n      }\n      return 1;\n    }\n    return 0;\n  }\n\n  return {\n    checkValidity: checkValidity\n  };\n})();\n\nmodule.exports = {\n    FinancialAccOpeningUI: FinancialAccOpeningUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/financial_acc_opening/financial_acc_opening.ui.js\n ** module id = 113\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"new_account/maltainvestws\", function(){\n  return {\n    onLoad: function() {\n      Content.populate();\n      for (i = 0; i < page.user.loginid_array.length; i++){\n        if (page.user.loginid_array[i].financial){\n          window.location.href = page.url.url_for('user/my_accountws');\n          return;\n        } else if (page.user.loginid_array[i].non_financial){\n          $('.security').hide();\n        }\n      }\n      handle_residence_state_ws();\n      BinarySocket.send({residence_list:1});\n      BinarySocket.send({get_settings:1});\n      $('#financial-form').submit(function(evt) {\n        evt.preventDefault();\n        if (FinancialAccOpeningUI.checkValidity()){\n          BinarySocket.init({\n            onmessage: function(msg){\n              var response = JSON.parse(msg.data);\n              if (response) {\n                var error = response.error;\n                if (response.msg_type === 'new_account_maltainvest'){\n                  ValidAccountOpening.handler(response, response.new_account_maltainvest);\n                }\n              }\n            }\n          });\n        }\n      });\n      $('#financial-risk').submit(function(evt) {\n        evt.preventDefault();\n        window.acceptRisk = true;\n        if (FinancialAccOpeningUI.checkValidity()){\n          BinarySocket.init({\n            onmessage: function(msg){\n              var response = JSON.parse(msg.data);\n              if (response) {\n                if (response.msg_type === 'new_account_maltainvest'){\n                  ValidAccountOpening.handler(response, response.new_account_maltainvest);\n                }\n              }\n            }\n          });\n        }\n      });\n    }\n  };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/financial_acc_opening.js\n ** module id = 114\n ** module chunks = 0\n **/","var JapanAccOpeningData = (function(){\n    function getJapanAcc(elementObj){\n        var req = {\n          new_account_japan: 1,\n          gender : elementObj['gender'].value,\n          first_name: elementObj['fname'].value,\n          last_name: elementObj['lname'].value,\n          date_of_birth : elementObj['dobyy'].value + '-' + elementObj['dobmm'].value + '-' + elementObj['dobdd'].value,\n          occupation: elementObj['occupation'].value,\n          residence : page.client.residence,\n          address_line_1: elementObj['address1'].value,\n          address_line_2: elementObj['address2'].value,\n          address_city: elementObj['town'].value,\n          address_postcode: elementObj['postcode'].value,\n          address_state : elementObj['state'].value,\n          phone: elementObj['tel'].value,\n          secret_question: elementObj['question'].value,\n          secret_answer: elementObj['answer'].value,\n          annual_income: elementObj['income'].value,\n          financial_asset: elementObj['asset'].value,\n          daily_loss_limit: elementObj['limit'].value,\n          trading_experience_equities: elementObj['equities'].value,\n          trading_experience_commodities: elementObj['commodities'].value,\n          trading_experience_foreign_currency_deposit: elementObj['deposit'].value,\n          trading_experience_margin_fx: elementObj['margin'].value,\n          trading_experience_investment_trust: elementObj['trust'].value,\n          trading_experience_public_bond: elementObj['bond'].value,\n          trading_experience_option_trading: elementObj['otc'].value,\n          trading_purpose : elementObj['purpose'].value,\n          agree_use_electronic_doc                : 1,\n          agree_warnings_and_policies             : 1,\n          confirm_understand_own_judgment         : 1,\n          confirm_understand_trading_mechanism    : 1,\n          confirm_understand_judgment_time        : 1,\n          confirm_understand_total_loss           : 1,\n          confirm_understand_sellback_loss        : 1,\n          confirm_understand_shortsell_loss       : 1,\n          confirm_understand_company_profit       : 1,\n          confirm_understand_expert_knowledge     : 1,\n          declare_not_fatca                       : 1\n        };\n\n        if (elementObj['purpose'].value === 'Hedging') {\n          req.hedge_asset = elementObj['hedge'].value;\n          req.hedge_asset_amount = elementObj['amount'].value;\n        }\n\n        BinarySocket.send(req);\n    }\n\n    return {\n        getJapanAcc: getJapanAcc\n    };\n}());\n\nmodule.exports = {\n    JapanAccOpeningData: JapanAccOpeningData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/japan_acc_opening/japan_acc_opening.data.js\n ** module id = 115\n ** module chunks = 0\n **/","var JapanAccOpeningUI = function () {\n  \"use strict\";\n\n    var elementObj;\n\n  function checkValidity() {\n    window.accountErrorCounter = 0;\n    var letters = Content.localize().textLetters,\n        numbers = Content.localize().textNumbers,\n        space = Content.localize().textSpace,\n        hyphen = Content.localize().textHyphen,\n        period = Content.localize().textPeriod,\n        apost = Content.localize().textApost;\n\n    elementObj = {\n        gender: document.getElementById('gender'),\n        fname: document.getElementById('fname'),\n        lname: document.getElementById('lname'),\n        dobdd: document.getElementById('dobdd'),\n        dobmm: document.getElementById('dobmm'),\n        dobyy: document.getElementById('dobyy'),\n        occupation: document.getElementById('occupation'),\n        address1: document.getElementById('address1'),\n        address2: document.getElementById('address2'),\n        town: document.getElementById('address-town'),\n        state: document.getElementById('address-state'),\n        postcode: document.getElementById('address-postcode'),\n        tel: document.getElementById('tel'),\n        question: document.getElementById('secret-question'),\n        answer: document.getElementById('secret-answer'),\n        fatca: document.getElementById('fatca'),\n        income: document.getElementById('annual-income'),\n        asset: document.getElementById('financial-asset'),\n        limit: document.getElementById('daily-loss-limit'),\n        equities: document.getElementById('equities'),\n        commodities: document.getElementById('commodities'),\n        deposit: document.getElementById('foreign-currency-deposit'),\n        margin: document.getElementById('margin-fx'),\n        trust: document.getElementById('investment-trust'),\n        bond: document.getElementById('public-and-corporation-bond'),\n        otc: document.getElementById('otc-derivative-trading'),\n        purpose: document.getElementById('trading-purpose'),\n        hedge: document.getElementById('hedge-asset'),\n        amount: document.getElementById('hedge-asset-amount'),\n        electronic: document.getElementById('use-electronic-doc'),\n        policies: document.getElementById('warnings-and-policies'),\n        judgement: document.getElementById('own-judgment'),\n        mechanism: document.getElementById('trading-mechanism'),\n        time: document.getElementById('judgment-time'),\n        total: document.getElementById('total-loss'),\n        sellback: document.getElementById('sellback-loss'),\n        shortsell: document.getElementById('shortsell-loss'),\n        profit: document.getElementById('company-profit'),\n        knowledge: document.getElementById('expert-knowledge')\n    };\n\n    var errorObj = {\n        gender: document.getElementById('error-gender'),\n        fname: document.getElementById('error-fname'),\n        lname: document.getElementById('error-lname'),\n        dobdd: document.getElementById('error-birthdate'),\n        dobmm: document.getElementById('error-birthdate'),\n        dobyy: document.getElementById('error-birthdate'),\n        occupation: document.getElementById('error-occupation'),\n        address1: document.getElementById('error-address1'),\n        address2: document.getElementById('error-address2'),\n        town: document.getElementById('error-town'),\n        state: document.getElementById('error-state'),\n        postcode: document.getElementById('error-postcode'),\n        tel: document.getElementById('error-tel'),\n        question: document.getElementById('error-question'),\n        answer: document.getElementById('error-answer'),\n        fatca: document.getElementById('error-fatca'),\n        income: document.getElementById('error-annual-income'),\n        asset: document.getElementById('error-financial-asset'),\n        limit: document.getElementById('error-daily-loss-limit'),\n        equities: document.getElementById('error-equities'),\n        commodities: document.getElementById('error-commodities'),\n        deposit: document.getElementById('error-foreign-currency-deposit'),\n        margin: document.getElementById('error-margin-fx'),\n        trust: document.getElementById('error-investment-trust'),\n        bond: document.getElementById('error-public-and-corporation-bond'),\n        otc: document.getElementById('error-otc-derivative-trading'),\n        purpose: document.getElementById('error-trading-purpose'),\n        hedge: document.getElementById('error-hedge-asset'),\n        amount: document.getElementById('error-hedge-asset-amount'),\n        electronic: document.getElementById('error-use-electronic-doc'),\n        policies: document.getElementById('error-warnings-and-policies'),\n        judgement: document.getElementById('error-own-judgment'),\n        mechanism: document.getElementById('error-trading-mechanism'),\n        time: document.getElementById('error-judgment-time'),\n        total: document.getElementById('error-total-loss'),\n        sellback: document.getElementById('error-sellback-loss'),\n        shortsell: document.getElementById('error-shortsell-loss'),\n        profit: document.getElementById('error-company-profit'),\n        knowledge: document.getElementById('error-expert-knowledge')\n    };\n    var key;\n    for (key in errorObj) {\n      if (errorObj[key].offsetParent !== null) {\n        errorObj[key].setAttribute('style', 'display:none');\n      }\n    }\n\n    if (/[`~!@#$%^&*)(_=+\\[}{\\]\\\\\\/\";:\\?><,|\\d]+/.test(Trim(elementObj['fname'].value))) {\n      errorObj['fname'].innerHTML = Content.errorMessage('reg', [letters, space, hyphen, period, apost]);\n      Validate.displayErrorMessage(errorObj['fname']);\n      window.accountErrorCounter++;\n    }\n\n    if (/[`~!@#$%^&*)(_=+\\[}{\\]\\\\\\/\";:\\?><,|\\d]+/.test(Trim(elementObj['lname'].value))) {\n      errorObj['lname'].innerHTML = Content.errorMessage('reg', [letters, space, hyphen, period, apost]);\n      Validate.displayErrorMessage(errorObj['lname']);\n      window.accountErrorCounter++;\n    }\n\n    ValidAccountOpening.checkDate(elementObj['dobdd'], elementObj['dobmm'], elementObj['dobyy'], errorObj['dobdd']);\n\n    if (!/^\\d{3}-\\d{4}$/.test(elementObj['postcode'].value)) {\n      errorObj['postcode'].innerHTML = text.localize('Please follow the pattern 3 numbers, a dash, followed by 4 numbers.');\n      Validate.displayErrorMessage(errorObj['postcode']);\n      window.accountErrorCounter++;\n    }\n\n    if (elementObj['tel'].value.replace(/\\+| /g,'').length < 6) {\n      errorObj['tel'].innerHTML = Content.errorMessage('min', 6);\n      Validate.displayErrorMessage(errorObj['tel']);\n      window.accountErrorCounter++;\n    } else if (!/^\\+?[0-9\\s-]{6,35}$/.test(elementObj['tel'].value)){\n      errorObj['tel'].innerHTML = Content.errorMessage('reg', [numbers, space, hyphen]);\n      Validate.displayErrorMessage(errorObj['tel']);\n      window.accountErrorCounter++;\n    }\n\n    if (!/^\\d+$/.test(elementObj['limit'].value)) {\n      errorObj['limit'].innerHTML = Content.errorMessage('reg', [numbers]);\n      Validate.displayErrorMessage(errorObj['limit']);\n      window.accountErrorCounter++;\n    }\n\n    if (elementObj['amount'].offsetParent !== null && !/^\\d+$/.test(elementObj['amount'].value)) {\n      errorObj['amount'].innerHTML = Content.errorMessage('reg', [numbers]);\n      Validate.displayErrorMessage(errorObj['amount']);\n      window.accountErrorCounter++;\n    }\n\n    for (key in elementObj) {\n      if (elementObj[key].offsetParent !== null && key !== 'address2') {\n        if (/^$/.test(Trim(elementObj[key].value)) && elementObj[key].type !== 'checkbox') {\n          errorObj[key].innerHTML = Content.errorMessage('req');\n          Validate.displayErrorMessage(errorObj[key]);\n          window.accountErrorCounter++;\n        }\n        if (elementObj[key].type === 'checkbox' && !elementObj[key].checked) {\n          errorObj[key].innerHTML = Content.errorMessage('req');\n          Validate.displayErrorMessage(errorObj[key]);\n          window.accountErrorCounter++;\n        }\n      }\n    }\n\n    if (window.accountErrorCounter === 0) {\n      for (key in errorObj) {\n        if (errorObj[key].offsetParent !== null) {\n          errorObj[key].setAttribute('style', 'display:none');\n        }\n      }\n      return 1;\n    }\n    return 0;\n  }\n\n    function fireRequest() {\n        JapanAccOpeningData.getJapanAcc(elementObj);\n    }\n\n  return {\n    checkValidity: checkValidity,\n      fireRequest: fireRequest,\n  };\n}();\n\nmodule.exports = {\n    JapanAccOpeningUI: JapanAccOpeningUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/japan_acc_opening/japan_acc_opening.ui.js\n ** module id = 116\n ** module chunks = 0\n **/","pjax_config_page(\"new_account/japanws\", function(){\n  return {\n    onLoad: function() {\n      Content.populate();\n      ValidAccountOpening.redirectCookie();\n      if (page.client.residence !== 'jp') {\n        window.location.href = page.url.url_for('user/my_accountws');\n        return;\n      }\n      handle_residence_state_ws();\n      BinarySocket.send({get_settings:1});\n      detect_hedging($('#trading-purpose'), $('.hedging-assets'));\n      $('#japan-form').submit(function(evt) {\n        evt.preventDefault();\n        if (JapanAccOpeningUI.checkValidity()){\n          BinarySocket.init({\n            onmessage: function(msg){\n              var response = JSON.parse(msg.data);\n              if (response) {\n                var type = response.msg_type;\n                if (type === 'new_account_japan'){\n                  ValidAccountOpening.handler(response, response.new_account_japan);\n                } else if (type === 'sanity_check') {\n                  ValidAccountOpening.handler(response);\n                }\n              }\n            }\n          });\n          JapanAccOpeningUI.fireRequest();\n        }\n      });\n    }\n  };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/japan_acc_opening.js\n ** module id = 117\n ** module chunks = 0\n **/","var RealAccOpeningData = (function(){\n    function getRealAcc(elementObj){\n        var req = {\n            new_account_real: 1,\n            salutation: elementObj['title'].value,\n            first_name: elementObj['fname'].value,\n            last_name: elementObj['lname'].value,\n            date_of_birth: elementObj['dobyy'].value + '-' + elementObj['dobmm'].value + '-' + elementObj['dobdd'].value,\n            residence: elementObj['residence'].value,\n            address_line_1: elementObj['address1'].value,\n            address_line_2: elementObj['address2'].value,\n            address_city: elementObj['town'].value,\n            address_state: elementObj['state'].value,\n            address_postcode: elementObj['postcode'].value,\n            phone: elementObj['tel'].value,\n            secret_question: elementObj['question'].value,\n            secret_answer: elementObj['answer'].value\n        };\n\n        if (Cookies.get('affiliate_tracking')) {\n          req.affiliate_token = Cookies.getJSON('affiliate_tracking').t;\n        }\n\n        BinarySocket.send(req);\n    }\n\n    return {\n        getRealAcc: getRealAcc\n    };\n}());\n\nmodule.exports = {\n    RealAccOpeningData: RealAccOpeningData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/real_acc_opening/real_acc_opening.data.js\n ** module id = 118\n ** module chunks = 0\n **/","var RealAccOpeningUI = (function(){\n  \"use strict\";\n\n  function checkValidity(){\n    window.accountErrorCounter = 0;\n\n    var letters = Content.localize().textLetters,\n        numbers = Content.localize().textNumbers,\n        space   = Content.localize().textSpace,\n        hyphen  = Content.localize().textHyphen,\n        period  = Content.localize().textPeriod,\n        apost   = Content.localize().textApost;\n\n    var elementObj = {\n        title     : document.getElementById('title'),\n        fname     : document.getElementById('fname'),\n        lname     : document.getElementById('lname'),\n        dobdd     : document.getElementById('dobdd'),\n        dobmm     : document.getElementById('dobmm'),\n        dobyy     : document.getElementById('dobyy'),\n        residence : document.getElementById('residence-disabled'),\n        address1  : document.getElementById('address1'),\n        address2  : document.getElementById('address2'),\n        town      : document.getElementById('address-town'),\n        state     : document.getElementById('address-state'),\n        postcode  : document.getElementById('address-postcode'),\n        tel       : document.getElementById('tel'),\n        question  : document.getElementById('secret-question'),\n        answer    : document.getElementById('secret-answer'),\n        tnc       : document.getElementById('tnc')\n    };\n\n    var errorObj = {\n        title     : document.getElementById('error-title'),\n        fname     : document.getElementById('error-fname'),\n        lname     : document.getElementById('error-lname'),\n        dobdd     : document.getElementById('error-birthdate'),\n        dobmm     : document.getElementById('error-birthdate'),\n        dobyy     : document.getElementById('error-birthdate'),\n        residence : document.getElementById('error-residence'),\n        address1  : document.getElementById('error-address1'),\n        address2  : document.getElementById('error-address2'),\n        town      : document.getElementById('error-town'),\n        state     : document.getElementById('error-state'),\n        postcode  : document.getElementById('error-postcode'),\n        tel       : document.getElementById('error-tel'),\n        question  : document.getElementById('error-question'),\n        answer    : document.getElementById('error-answer'),\n        tnc       : document.getElementById('error-tnc')\n    };\n\n    var key;\n    for (key in errorObj) {\n      if (errorObj[key].offsetParent !== null) {\n        errorObj[key].setAttribute('style', 'display:none');\n      }\n    }\n\n    ValidAccountOpening.checkFname(elementObj['fname'], errorObj['fname']);\n    ValidAccountOpening.checkLname(elementObj['lname'], errorObj['lname']);\n    ValidAccountOpening.checkDate(elementObj['dobdd'], elementObj['dobmm'], elementObj['dobyy'], errorObj['dobdd']);\n    ValidAccountOpening.checkPostcode(elementObj['postcode'], errorObj['postcode']);\n\n    if (elementObj['residence'].value === 'gb' && /^$/.test(Trim(elementObj['postcode'].value))){\n      elementObj['postcode'].innerHTML = Content.errorMessage('req');\n      Validate.displayErrorMessage(elementObj['postcode']);\n      window.accountErrorCounter++;\n    }\n\n    ValidAccountOpening.checkTel(elementObj['tel'], errorObj['tel']);\n    ValidAccountOpening.checkAnswer(elementObj['answer'], errorObj['answer']);\n\n    for (key in elementObj){\n      if (elementObj[key].offsetParent !== null && key !== 'address2' && key !== 'postcode' && key !== 'state') {\n        if (/^$/.test(Trim(elementObj[key].value)) && elementObj[key].type !== 'checkbox'){\n          errorObj[key].innerHTML = Content.errorMessage('req');\n          Validate.displayErrorMessage(errorObj[key]);\n          window.accountErrorCounter++;\n        }\n        if (elementObj[key].type === 'checkbox' && !elementObj[key].checked){\n          errorObj[key].innerHTML = Content.errorMessage('req');\n          Validate.displayErrorMessage(errorObj[key]);\n          window.accountErrorCounter++;\n        }\n      }\n    }\n\n    if (window.accountErrorCounter === 0) {\n      $('#btn_submit').attr('disabled','disabled');\n      RealAccOpeningData.getRealAcc(elementObj);\n      for (key in errorObj) {\n        if (errorObj[key].offsetParent !== null) {\n          errorObj[key].setAttribute('style', 'display:none');\n        }\n      }\n      return 1;\n    }\n    return 0;\n  }\n\n  return {\n    checkValidity: checkValidity\n  };\n})();\n\nmodule.exports = {\n    RealAccOpeningUI: RealAccOpeningUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/real_acc_opening/real_acc_opening.ui.js\n ** module id = 119\n ** module chunks = 0\n **/","pjax_config_page(\"new_account/realws\", function(){\n  return {\n    onLoad: function() {\n      Content.populate();\n      ValidAccountOpening.redirectCookie();\n      handle_residence_state_ws();\n      if (page.client.residence) {\n        BinarySocket.send({landing_company: page.client.residence});\n      }\n      BinarySocket.send({get_settings:1});\n      BinarySocket.send({residence_list:1});\n      $('#real-form').submit(function(evt) {\n        evt.preventDefault();\n        if (RealAccOpeningUI.checkValidity()){\n          BinarySocket.init({\n            onmessage: function(msg){\n              var response = JSON.parse(msg.data);\n              if (response) {\n                if(response.msg_type === 'authorize' && !page.client.is_virtual()) {\n                    window.location.href = page.url.url_for('user/my_accountws');\n                    return;\n                }\n                else if (response.msg_type === 'new_account_real'){\n                  ValidAccountOpening.handler(response, response.new_account_real);\n                }\n              }\n            }\n          });\n        }\n      });\n    }\n  };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/real_acc_opening.js\n ** module id = 120\n ** module chunks = 0\n **/","var VirtualAccOpeningData = (function(){\n    \"use strict\";\n\n    function newAccount(config) {\n        var req = {\n            new_account_virtual: 1,\n            client_password: config.password,\n            residence:       config.residence,\n            verification_code: config.verification_code\n        };\n\n        // Add TrafficSource parameters\n        var utm_data = TrafficSource.getData();\n        req.utm_source = TrafficSource.getSource(utm_data);\n        if(utm_data.utm_medium)   req.utm_medium   = utm_data.utm_medium;\n        if(utm_data.utm_campaign) req.utm_campaign = utm_data.utm_campaign;\n\n        if (Cookies.get('affiliate_tracking')) {\n            req.affiliate_token = Cookies.getJSON('affiliate_tracking').t;\n        }\n\n        BinarySocket.send(req);\n    }\n\n    function getSchema() {\n        var V2 = ValidateV2;\n        var err = Content.localize().textPasswordsNotMatching;\n        function matches(value, data) {\n            return value === data.password;\n        }\n        return {\n            residence: [V2.required],\n            password:  [V2.password],\n            'verification-code': [V2.required, V2.token],\n            'r-password': [dv.check(matches, err)],\n        };\n    }\n\n    function handler(config) {\n        return function(msg) {\n            var response = JSON.parse(msg.data);\n            if (!response) return;\n\n            var type  = response.msg_type;\n            var error = response.error;\n\n            if (type === 'new_account_virtual' && !error) return config.success(response);\n            if (type !== 'error' && !error) return;\n\n            switch (error.code) {\n                case 'InvalidToken':    return config.invalidToken(response);\n                case 'duplicate email': return config.duplicateEmail(response);\n                case 'PasswordError':   return config.passwordError(response);\n                default: return;\n            }\n        };\n    }\n\n    return {\n        newAccount: newAccount,\n        getSchema:  getSchema,\n        handler:    handler,\n    };\n}());\n\nmodule.exports = {\n    VirtualAccOpeningData: VirtualAccOpeningData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/virtual_acc_opening/virtual_acc_opening.data.js\n ** module id = 121\n ** module chunks = 0\n **/","pjax_config_page(\"new_account/virtualws\", function() {\n    function onSuccess(res) {\n        var new_account = res.new_account_virtual;\n        page.client.set_cookie('residence', res.echo_req.residence);\n        page.client.process_new_account(\n            new_account.email,\n            new_account.client_id,\n            new_account.oauth_token,\n            true\n        );\n    }\n\n    function onInvalidToken(res) {\n        $('.notice-message').remove();\n        var $form = $('#virtual-form');\n        $form.html($('<p/>', {\n            html: template(Content.localize().textClickHereToRestart, [page.url.url_for('')]),\n        }));\n    }\n\n    function onDuplicateEmail(res) {\n        $('.notice-message').remove();\n        var $form = $('#virtual-form');\n        $form.html($('<p/>', {\n            html: template(Content.localize().textDuplicatedEmail, [page.url.url_for('user/lost_passwordws')]),\n        }));\n    }\n\n    function onPasswordError(res) {\n        var $error = $('#error-account-opening');\n        $error.css({display: 'block'})\n            .text(text.localize('Password is not strong enough.'));\n    }\n\n    function configureSocket() {\n        BinarySocket.init({\n            onmessage: VirtualAccOpeningData.handler({\n                success:        onSuccess,\n                invalidToken:   onInvalidToken,\n                duplicateEmail: onDuplicateEmail,\n                passwordError:  onPasswordError,\n            })\n        });\n    }\n\n    function init() {\n        Content.populate();\n        handle_residence_state_ws();\n        BinarySocket.send({residence_list: 1});\n\n        var form = $('#virtual-form')[0];\n        if (!form) return;\n        if (!isIE()) {\n            $('#password').on('input', function() {\n                $('#password-meter').attr('value', testPassword($('#password').val())[0]);\n            });\n        } else {\n            $('#password-meter').remove();\n        }\n\n        bind_validation.simple(form, {\n            schema: VirtualAccOpeningData.getSchema(),\n            submit: function(ev, info) {\n                ev.preventDefault();\n                if (info.errors.length > 0) {\n                    return;\n                }\n                configureSocket();\n                var data = info.values;\n                VirtualAccOpeningData.newAccount({\n                    password:  data.password,\n                    residence: data.residence,\n                    verification_code: data['verification-code'],\n                });\n            },\n        });\n    }\n\n    return {\n        onLoad: function() {\n            if (CommonData.getLoginToken()) {\n                window.location.href = page.url.url_for('user/my_accountws');\n                return;\n            }\n            init();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/new_account/virtual_acc_opening.js\n ** module id = 122\n ** module chunks = 0\n **/","var RealityCheckData = (function () {\n    'use strict';\n\n    var defaultInterval = 600000;\n    var durationTemplateString = '[_1] days [_2] hours [_3] minutes';\n    var tradingTimeTemplate = 'Your trading statistics since [_1].';\n\n    function getSummaryAsync() {\n        BinarySocket.send({reality_check: 1});\n    }\n\n    function getAck() {\n        return LocalStore.get('reality_check.ack');\n    }\n\n    function setOpenSummaryFlag() {\n        LocalStore.set('reality_check.keep_open', 1);\n    }\n\n    function getOpenSummaryFlag() {\n        return LocalStore.get('reality_check.keep_open');\n    }\n\n    function triggerCloseEvent() {\n        LocalStore.set('reality_check.keep_open', 0);\n    }\n    \n    function updateAck() {\n        LocalStore.set('reality_check.ack', 1);\n    }\n\n    function getInterval() {\n        return LocalStore.get('reality_check.interval');\n    }\n\n    function getPreviousLoadLoginId() {\n        return LocalStore.get('reality_check.loginid');\n    }\n\n    function setPreviousLoadLoginId() {\n        var id = TUser.get().loginid;\n        LocalStore.set('reality_check.loginid', id);\n    }\n\n    function updateInterval(ms) {\n        LocalStore.set('reality_check.interval', ms);\n    }\n\n    function clear() {\n        LocalStore.remove('reality_check.ack');\n        LocalStore.remove('reality_check.interval');\n        LocalStore.remove('reality_check.keep_open');\n        LocalStore.remove('reality_check.close');\n        LocalStore.remove('reality_check.svrtime');\n        LocalStore.remove('reality_check.basetime');\n    }\n\n    function resetInvalid() {\n        var ack = LocalStore.get('reality_check.ack');\n        var interval = +(LocalStore.get('reality_check.interval'));\n        if (ack !== '0' && ack !== '1') {\n            LocalStore.set('reality_check.ack', 0);\n        }\n\n        if (!interval) {\n            LocalStore.set('reality_check.interval', defaultInterval);\n        }\n    }\n\n    function summaryData(wsData) {\n        var startTime = moment.utc(new Date(wsData.start_time * 1000));\n        var currentTime = moment.utc();\n\n        var sessionDuration = moment.duration(currentTime.diff(startTime));\n        var durationString = template(durationTemplateString, [\n            sessionDuration.get('days'),\n            sessionDuration.get('hours'),\n            sessionDuration.get('minutes'),\n        ]);\n\n        var turnover = +(wsData.buy_amount) + (+(wsData.sell_amount));\n        var profitLoss = +(wsData.sell_amount) - (+(wsData.buy_amount));\n\n        var startTimeString = template(tradingTimeTemplate, [startTime.format('YYYY-MM-DD HH:mm:ss') + ' GMT']);\n        return {\n            startTimeString: startTimeString,\n            loginTime: startTime.format('YYYY-MM-DD HH:mm:ss') + ' GMT',\n            currentTime: currentTime.format('YYYY-MM-DD HH:mm:ss') + ' GMT',\n            sessionDuration: durationString,\n            loginId: wsData.loginid,\n            currency: wsData.currency,\n            turnover: (+turnover).toFixed(2),\n            profitLoss: (+profitLoss).toFixed(2),\n            contractsBought: wsData.buy_count,\n            contractsSold: wsData.sell_count,\n            openContracts: wsData.open_contract_count,\n            potentialProfit: (+(wsData.potential_profit)).toFixed(2)\n        };\n    }\n\n    return {\n        getSummaryAsync: getSummaryAsync,\n        getAck: getAck,\n        setOpenSummaryFlag: setOpenSummaryFlag,\n        getOpenSummaryFlag: getOpenSummaryFlag,\n        getPreviousLoadLoginId: getPreviousLoadLoginId,\n        setPreviousLoadLoginId: setPreviousLoadLoginId,\n        updateAck: updateAck,\n        getInterval: getInterval,\n        updateInterval: updateInterval,\n        clear: clear,\n        resetInvalid: resetInvalid,\n        summaryData: summaryData,\n        triggerCloseEvent: triggerCloseEvent\n    };\n}());\n\nmodule.exports = {\n    RealityCheckData: RealityCheckData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/reality_check/reality_check.data.js\n ** module id = 123\n ** module chunks = 0\n **/","var RealityCheck = (function () {\n    'use strict';\n    var hiddenClass = 'invisible';\n    var loginTime;      // milliseconds\n    var getAccountStatus;\n\n    function initializeValues() {\n      getAccountStatus = false;\n    }\n\n    function realityCheckWSHandler(response) {\n        initializeValues();\n        if ($.isEmptyObject(response.reality_check)) {\n            // not required for reality check\n            sendAccountStatus();\n            return;\n        }\n\n        var summary = RealityCheckData.summaryData(response.reality_check);\n        RealityCheckUI.renderSummaryPopUp(summary);\n    }\n\n    function computeIntervalForNextPopup(loginTime, interval) {\n        var currentTime = Date.now();\n        var timeLeft = interval - ((currentTime - loginTime) % interval);\n        return timeLeft;\n    }\n\n    function startSummaryTimer() {\n        var interval = RealityCheckData.getInterval();\n        var toWait = computeIntervalForNextPopup(loginTime, interval);\n\n        window.setTimeout(function () {\n            RealityCheckData.setOpenSummaryFlag();\n            RealityCheckData.getSummaryAsync();\n        }, toWait);\n    }\n\n    function realityStorageEventHandler(ev) {\n        if (ev.key === 'reality_check.ack' && ev.newValue === '1') {\n            RealityCheckUI.closePopUp();\n            startSummaryTimer();\n        } else if (ev.key === 'reality_check.keep_open' && ev.newValue === '0') {\n            RealityCheckUI.closePopUp();\n            startSummaryTimer();\n        }\n    }\n\n    function onContinueClick() {\n        var intervalMinute = +($('#realityDuration').val());\n\n        if (!(Math.floor(intervalMinute) == intervalMinute && $.isNumeric(intervalMinute))) {\n            var shouldBeInteger = text.localize('Interval should be integer.');\n            $('#rc-err').text(shouldBeInteger);\n            $('#rc-err').removeClass(hiddenClass);\n            return;\n        }\n\n        if (intervalMinute < 10 || intervalMinute > 120) {\n            var minimumValueMsg = Content.errorMessage('number_should_between', '10 to 120');\n            $('#rc-err').text(minimumValueMsg);\n            $('#rc-err').removeClass(hiddenClass);\n            return;\n        }\n\n        var intervalMs = intervalMinute * 60 * 1000;\n        RealityCheckData.updateInterval(intervalMs);\n        RealityCheckData.triggerCloseEvent();\n        RealityCheckData.updateAck();\n        RealityCheckUI.closePopUp();\n        startSummaryTimer();\n        sendAccountStatus();\n    }\n\n    function sendAccountStatus() {\n      if (!page.client.is_virtual() && page.client.residence !== 'jp' && !getAccountStatus) {\n        BinarySocket.send({get_account_status: 1});\n        getAccountStatus = true;\n      }\n    }\n\n    function onLogoutClick() {\n        logout();\n    }\n\n    function logout() {\n        BinarySocket.send({\"logout\": \"1\"});\n    }\n\n    function init() {\n        initializeValues();\n        if (!page.client.require_reality_check()) {\n            RealityCheckData.setPreviousLoadLoginId();\n            sendAccountStatus();\n            return;\n        }\n\n        loginTime = TUser.get().logintime * 1000;\n\n        window.addEventListener('storage', realityStorageEventHandler, false);\n\n        if (TUser.get().loginid !== RealityCheckData.getPreviousLoadLoginId()) {\n            RealityCheckData.clear();\n        }\n\n        RealityCheckData.resetInvalid();            // need to reset after clear\n\n        if (RealityCheckData.getAck() !== '1') {\n            RealityCheckUI.renderFrequencyPopUp();\n        } else if (RealityCheckData.getOpenSummaryFlag() === '1') {\n            RealityCheckData.getSummaryAsync();\n        } else {\n            startSummaryTimer();\n        }\n\n        RealityCheckData.setPreviousLoadLoginId();\n        sendAccountStatus();\n    }\n\n    return {\n        init: init,\n        onContinueClick: onContinueClick,\n        onLogoutClick: onLogoutClick,\n        realityCheckWSHandler: realityCheckWSHandler,\n        sendAccountStatus: sendAccountStatus\n    };\n}());\n\nmodule.exports = {\n    RealityCheck: RealityCheck,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/reality_check/reality_check.init.js\n ** module id = 124\n ** module chunks = 0\n **/","var RealityCheckUI = (function () {\n    'use strict';\n\n    var frequency_url = page.url.url_for('user/reality_check_frequencyws');\n    var summary_url  = page.url.url_for('user/reality_check_summaryws');\n\n    function showPopUp(content) {\n        if ($('#reality-check').length > 0) {\n            return;\n        }\n\n        var lightboxDiv = $(\"<div id='reality-check' class='lightbox'></div>\");\n\n        var wrapper = $('<div></div>');\n        wrapper = wrapper.append(content);\n        wrapper = $('<div></div>').append(wrapper);\n        wrapper.appendTo(lightboxDiv);\n        lightboxDiv.appendTo('body');\n\n        $('#realityDuration').val(RealityCheckData.getInterval());\n        $('#realityDuration').keypress(onlyNumericOnKeypress);\n    }\n\n    function showIntervalOnPopUp() {\n        var intervalMinutes = Math.floor(RealityCheckData.getInterval() / 60 / 1000);\n        $('#realityDuration').val(intervalMinutes);\n    }\n\n    function renderFrequencyPopUp() {\n        $.ajax({\n            url: frequency_url,\n            dataType: 'html',\n            method: 'GET',\n            success: function(realityCheckText) {\n                if (realityCheckText.includes('reality-check-content')) {\n                    var payload = $(realityCheckText);\n                    showPopUp(payload.find('#reality-check-content'));\n                    showIntervalOnPopUp();\n                    $('#continue').click(RealityCheck.onContinueClick);\n                }\n            },\n            error: function(xhr) {\n                return;\n            }\n        });\n        $('#continue').click(RealityCheck.onContinueClick);\n    }\n\n    function updateSummary(summary) {\n        $('#start-time').text(summary.startTimeString);\n        $('#login-time').text(summary.loginTime);\n        $('#current-time').text(summary.currentTime);\n        $('#session-duration').text(summary.sessionDuration);\n\n        $('#login-id').text(summary.loginId);\n        $('#rc_currency').text(summary.currency);\n        $('#turnover').text(summary.turnover);\n        $('#profitloss').text(summary.profitLoss);\n        $('#bought').text(summary.contractsBought);\n        $('#sold').text(summary.contractsSold);\n        $('#open').text(summary.openContracts);\n        $('#potential').text(summary.potentialProfit);\n\n        showLocalTimeOnHover('#start-time');\n        showLocalTimeOnHover('#login-time');\n        showLocalTimeOnHover('#current-time');\n    }\n\n    function renderSummaryPopUp(summary) {\n        $.ajax({\n            url: summary_url,\n            dataType: 'html',\n            method: 'GET',\n            success: function(realityCheckText) {\n                if (realityCheckText.includes('reality-check-content')) {\n                    var payload = $(realityCheckText);\n                    showPopUp(payload.find('#reality-check-content'));\n                    updateSummary(summary);\n                    showIntervalOnPopUp();\n                    $('#continue').click(RealityCheck.onContinueClick);\n                    $('button#btn_logout').click(RealityCheck.onLogoutClick);\n                }\n            },\n            error: function(xhr) {\n                return;\n            }\n        });\n    }\n\n    function frequencyEventHandler() {\n        $('button#continue').click(function() {\n            RealityCheckData.updateAck();\n        });\n    }\n\n    function summaryEventHandler() {\n        $('button#continue').click(function() {\n            RealityCheckData.updateAck();\n        });\n\n        $('button#btn_logout').click(function() {\n            BinarySocket.send({logout: 1});\n        });\n    }\n\n    function closePopUp() {\n        $('#reality-check').remove();\n        RealityCheck.sendAccountStatus();\n    }\n\n    return {\n        frequencyEventHandler: frequencyEventHandler,\n        summaryEventHandler: summaryEventHandler,\n        renderFrequencyPopUp: renderFrequencyPopUp,\n        renderSummaryPopUp: renderSummaryPopUp,\n        closePopUp: closePopUp\n    };\n}());\n\nmodule.exports = {\n    RealityCheckUI: RealityCheckUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/reality_check/reality_check.ui.js\n ** module id = 125\n ** module chunks = 0\n **/","var ResetPassword = (function () {\n    'use strict';\n\n    var hiddenClass = 'invisible';\n    var resetErrorTemplate = '[_1]' +\n        ' Please click the link below to restart the password recovery process. ' +\n        'If you require further assistance, please contact our Customer Support.';\n    var dobdd, dobmm, dobyy;\n\n    function submitResetPassword() {\n        var token = $('#verification-code').val();\n        var pw1 = $('#reset-password1').val();\n        var pw2 = $('#reset-password2').val();\n\n        if (token.length < 48) {\n            $('#verification-error').removeClass(hiddenClass).text(text.localize('Verification code format incorrect.'));\n            return;\n        }\n\n        if (!pw1) {                                         // password not entered\n            $('#password-error1').empty();\n            $('#password-error1').append('<p></p>', {class: 'errorfield'}).text(Content.localize().textMessageRequired);\n            $('#password-error1').removeClass(hiddenClass);\n            return;\n        } else if (!passwordValid(pw1)) {                   // password failed validation\n            var errMsgs = showPasswordError(pw1);\n            $('#password-error1').empty();\n            errMsgs.forEach(function(msg){\n                var $errP = $('<p></p>', {class: 'errorfield'}).text(msg);\n                $('#password-error1').append($errP);\n            });\n\n            $('#password-error1').removeClass(hiddenClass);\n            return;\n        }\n\n        if (pw1 !== pw2) {\n            if (!pw2) {\n                $('#password-error2')\n                    .removeClass(hiddenClass)\n                    .text(Content.localize().textMessageRequired);\n            } else {\n                $('#password-error2')\n                    .removeClass(hiddenClass)\n                    .text(Content.localize().textPasswordsNotMatching);\n            }\n\n            return;\n        }\n\n        var dobEntered = dobdd && dobmm && dobyy;\n        if (dobEntered) {\n            var dob;\n            if (!isValidDate(dobdd, dobmm, dobyy)) {\n                $('#dob-error').removeClass(hiddenClass).text(text.localize('Invalid format for date of birth.'));\n                return;\n            }\n\n            BinarySocket.send({\n                reset_password: 1,\n                verification_code: token,\n                new_password: pw1,\n                date_of_birth: [dobyy, dobmm, dobdd].join('-'),\n            });\n            $('#reset').prop('disabled', true);\n        } else {\n            BinarySocket.send({\n                reset_password: 1,\n                verification_code: token,\n                new_password: pw1\n            });\n            $('#reset').prop('disabled', true);\n        }\n    }\n\n    function hideError() {\n        $('.errorfield').addClass(hiddenClass);\n    }\n\n    function resetPasswordWSHandler(msg) {\n        var response = JSON.parse(msg.data);\n        var type = response.msg_type;\n\n        if (type === 'reset_password') {\n            $('#reset').prop('disabled', true);\n            $('#reset-form').addClass(hiddenClass);\n\n            if (response.error) {\n                $('p.notice-msg').addClass(hiddenClass);\n                $('#reset-error').removeClass(hiddenClass);\n\n                // special handling as backend return inconsistent format\n                var errMsg = text.localize(resetErrorTemplate, [\n                    response.error.code === 'InputValidationFailed' ?\n                        text.localize('Token has expired.') :\n                        text.localize(response.error.message)\n                ]);\n\n                $('#reset-error-msg').text(errMsg);\n            } else {\n                $('p.notice-msg')\n                    .text(text.localize('Your password has been successfully reset. ' +\n                        'Please log into your account using your new password.'));\n                window.setTimeout(function () {\n                    Login.redirect_to_login();\n                }, 5000);\n            }\n        }\n    }\n\n    function haveRealAccountHandler() {\n        var isChecked = $('#have-real-account').is(':checked');\n\n        dobdd = undefined;\n        dobmm = undefined;\n        dobyy = undefined;\n\n        if (japanese_client()) {\n          $(\"#dobyy\").val($(\"#dobyy option:first\").val());\n          $(\"#dobmm\").val($(\"#dobmm option:first\").val());\n          $(\"#dobdd\").val($(\"#dobdd option:first\").val());\n        } else {\n          $('#dobdd').val('');\n          $('#dobmm').val('');\n          $('#dobyy').val('');\n        }\n\n        if (isChecked) {\n            $('#dob-field').removeClass(hiddenClass);\n        } else {\n            $('#dob-field').addClass(hiddenClass);\n        }\n    }\n\n    function onDOBChange() {\n        dobdd = $('#dobdd').val();\n        dobmm = $('#dobmm').val();\n        dobyy = $('#dobyy').val();\n    }\n\n    function onEnterKey(e) {\n        if (e.which === 13) {\n            submitResetPassword();\n        }\n    }\n\n    function init() {\n        $('#reset_passwordws').removeClass('invisible');\n        Content.populate();\n        if (japanese_client()) {\n          $('#dobmm').insertAfter('#dobyy');\n          $('#dobdd').insertAfter('#dobmm');\n        }\n        generateBirthDate();\n        var $pmContainer = $('#password-meter-container');\n\n        $('input').keypress(function (e) {\n            hideError();\n            onEnterKey(e);\n        });\n\n        $('#reset-password1').keyup(function (ev) {\n            PasswordMeter.updateMeter($pmContainer, ev.target.value);\n        });\n\n        $('#reset:enabled').click(function () {\n            submitResetPassword();\n        });\n\n        $('#have-real-account').click(function () {\n            haveRealAccountHandler();\n        });\n\n        $('select').change(function () {\n            hideError();\n            onDOBChange();\n        });\n\n        PasswordMeter.attach($pmContainer);\n    }\n\n    return {\n        resetPasswordWSHandler: resetPasswordWSHandler,\n        init: init\n    };\n}());\n\nmodule.exports = {\n    ResetPassword: ResetPassword,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/reset_password/reset_password.init.js\n ** module id = 126\n ** module chunks = 0\n **/","pjax_config_page('user/reset_passwordws', function() {\n    return {\n        onLoad: function() {\n            if(page.client.redirect_if_login()) {\n                return;\n            }\n            BinarySocket.init({\n                onmessage: ResetPassword.resetPasswordWSHandler\n            });\n            ResetPassword.init();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/reset_password.js\n ** module id = 127\n ** module chunks = 0\n **/","var TNCApproval = (function() {\n    \"use strict\";\n\n    var terms_conditions_version,\n        client_tnc_status,\n        hiddenClass,\n        redirectUrl,\n        isReal;\n\n\n    var init = function() {\n        hiddenClass = 'invisible';\n        showLoadingImage($('#tnc-loading'));\n\n        redirectUrl = sessionStorage.getItem('tnc_redirect');\n        sessionStorage.removeItem('tnc_redirect');\n\n        BinarySocket.send({\"get_settings\"   : \"1\"});\n        BinarySocket.send({\"website_status\" : \"1\"});\n\n        $('#btn-accept').click(function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            BinarySocket.send({\"tnc_approval\" : \"1\"});\n        });\n    };\n\n    var showTNC = function() {\n        if(!terms_conditions_version || !client_tnc_status) {\n            return;\n        }\n\n        if(terms_conditions_version === client_tnc_status) {\n            redirectBack();\n            return;\n        }\n\n        $('#tnc-loading').addClass(hiddenClass);\n        $('#tnc_image').attr('src', page.url.url_for_static('images/pages/cashier/protection-icon.svg'));\n        $('#tnc_approval').removeClass(hiddenClass);\n        var tnc_message = template($('#tnc-message').html(), [\n            page.client.get_storage_value('landing_company_name'),\n            page.client.residence === 'jp' ?\n                page.url.url_for('terms-and-conditions-jp') :\n                page.url.url_for('terms-and-conditions')\n        ]);\n        $('#tnc-message').html(tnc_message).removeClass(hiddenClass);\n        $('#btn-accept').text(text.localize('OK'));\n    };\n\n    var responseTNCApproval = function(response) {\n        if(!response.hasOwnProperty('error')) {\n            redirectBack();\n        }\n        else {\n            $('#err_message').html(response.error.message).removeClass(hiddenClass);\n        }\n    };\n\n    var redirectBack = function() {\n        window.location.href = redirectUrl || page.url.default_redirect_url();\n    };\n\n    var apiResponse = function(response) {\n        isReal = !TUser.get().is_virtual;\n        if(!isReal) {\n            redirectBack();\n        }\n\n        switch(response.msg_type) {\n            case 'website_status':\n                terms_conditions_version = response.website_status.terms_conditions_version;\n                showTNC();\n                break;\n            case 'get_settings':\n                client_tnc_status = response.get_settings.client_tnc_status || '-';\n                showTNC();\n                break;\n            case 'tnc_approval':\n                responseTNCApproval(response);\n                break;\n            default:\n                break;\n        }\n    };\n\n    return {\n        init : init,\n        apiResponse : apiResponse\n    };\n}());\n\n\n\npjax_config_page_require_auth(\"tnc_approvalws\", function() {\n    return {\n        onLoad: function() {\n            BinarySocket.init({\n                onmessage: function(msg) {\n                    var response = JSON.parse(msg.data);\n                    if (response) {\n                        TNCApproval.apiResponse(response);\n                    }\n                }\n            });\n\n            Content.populate();\n            TNCApproval.init();\n        }\n    };\n});\n\nmodule.exports = {\n    TNCApproval: TNCApproval,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/tnc_approval.js\n ** module id = 128\n ** module chunks = 0\n **/","function submit_email() {\n    Content.populate();\n    var form = $('#verify-email-form')[0];\n    if (!form) {\n        return;\n    }\n\n    bind_validation.simple(form, {\n        schema: {\n            email: [ValidateV2.required, ValidateV2.email]\n        },\n        stop: function(info) {\n            $('#signup_error').text('');\n            info.errors.forEach(function(err) {\n                $('#signup_error')\n                    .css({display: 'block'})\n                    .text(err.err);\n            });\n        },\n        submit: function(ev, info) {\n            ev.preventDefault();\n            if (info.errors.length) return;\n            openAccount(info.values.email);\n        },\n    });\n\n    function handler(msg) {\n        var response = JSON.parse(msg.data);\n        if (!response) return;\n\n        var type  = response.msg_type;\n        var error = response.error;\n        if (type === 'verify_email' && !error) {\n            window.location.href = page.url.url_for('new_account/virtualws');\n            return;\n        }\n        if (!error || !error.message) return;\n        $('#signup_error')\n            .css({display: 'inline-block'})\n            .text(error.message);\n    }\n\n    function openAccount(email) {\n        BinarySocket.init({onmessage: handler});\n        BinarySocket.send({verify_email: email, type: 'account_opening'});\n    }\n}\n\nmodule.exports = {\n    submit_email: submit_email,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/verify_email.js\n ** module id = 129\n ** module chunks = 0\n **/","var ViewPopupUI = (function() {\n    var _container = null;\n    return {\n        _init: function () {\n            _container = null;\n        },\n        container: function (refresh) {\n            if (refresh) {\n                if (this._container) {\n                    this._container.remove();\n                }\n                this._container = null;\n            }\n            if (!this._container) {\n                var that = this;\n                var con = $('<div class=\"inpage_popup_container inpage_popup_container_ws\" id=\"sell_popup_container\"><a class=\"close\">x</a><div class=\"inpage_popup_content\"></div></div>');\n                con.hide();\n                var _on_close = function () {\n                    that.cleanup(true);\n                    chartUpdated = false;\n                    if(TradePage.is_trading_page()) {\n                        // Re-subscribe the trading page's tick stream which was unsubscribed by popup's chart\n                        BinarySocket.send({'ticks_history':$('#underlying').val(),'style':'ticks','end':'latest','count':20,'subscribe':1});\n                    }\n                };\n                con.find('a.close').on('click', function () { _on_close(); } );\n                $(document).on('keydown', function(e) {\n                     if (e.which === 27) _on_close();\n                });\n                this._container = con;\n            }\n            return this._container;\n        },\n        cleanup: function () {\n            this.forget_streams();\n            this.forget_chart_streams();\n            this.clear_timer();\n            this.close_container();\n            this._init();\n        },\n        forget_streams: function() {\n            while(window.stream_ids && window.stream_ids.length > 0) {\n                var id = window.stream_ids.pop();\n                if(id && id.length > 0) {\n                    BinarySocket.send({\"forget\": id});\n                }\n            }\n        },\n        forget_chart_streams: function() {\n            while(window.chart_stream_ids && window.chart_stream_ids.length > 0) {\n                var id = window.chart_stream_ids.pop();\n                if(id && id.length > 0) {\n                    BinarySocket.send({\"forget\": id});\n                }\n            }\n        },\n        clear_timer: function() {\n            if(window.ViewPopupTimerInterval) {\n                clearInterval(window.ViewPopupTimerInterval);\n                window.ViewPopupTimerInterval = undefined;\n            }\n        },\n        close_container: function () {\n            if (this._container) {\n                this._container.hide().remove();\n                $('.popup_page_overlay').hide().remove();\n                this._container = null;\n            }\n        },\n        disable_button: function (button) {\n            button.attr('disabled', 'disabled');\n            button.fadeTo(0, 0.5);\n        },\n        enable_button: function (button) {\n            button.removeAttr('disabled');\n            button.fadeTo(0, 1);\n        },\n        show_inpage_popup: function (data, containerClass, dragHandle) {\n            var that = this;\n            var con = this.container(true);\n            if(containerClass) {\n                con.addClass(containerClass);\n            }\n            if (data) {\n                $('.inpage_popup_content', con).html(data);\n            }\n            var body = $(document.body);\n            con.css('position', 'fixed').css('z-index', get_highest_zindex() + 100);\n            body.append(con);\n            con.show();\n            $(document.body).append($('<div/>', {class: 'popup_page_overlay'}));\n            $('.popup_page_overlay').click(function(){con.find('a.close').click();});\n            con.draggable({\n                stop: function() {\n                    that.reposition_confirmation_ondrag();\n                },\n                handle: dragHandle,\n                scroll: false,\n            });\n            $(dragHandle).disableSelection();\n            this.reposition_confirmation();\n            return con;\n        },\n        reposition_confirmation_ondrag: function () {\n            var con    = this.container();\n            var offset = con.offset();\n            var win_   = $(window);\n            // top\n            if(offset.top < win_.scrollTop()) {con.offset({top: win_.scrollTop()});}\n            // left\n            if(offset.left < 0) {con.offset({left: 0});}\n            // right\n            if(offset.left > win_.width() - con.width()) {con.offset({left: win_.width() - con.width()});}\n        },\n        reposition_confirmation: function (x, y) {\n            var con = this.container();\n            var win_ = $(window);\n            var x_min = 50;\n            var y_min = 500;\n            if(win_.width() < 767) { //To be responsive, on mobiles and phablets we show popup as full screen.\n                x_min = 0;\n                y_min = 0;\n            }\n            if (x === undefined) {\n                x = Math.max(Math.floor((win_.width() - win_.scrollLeft() - con.width()) / 2), x_min) + win_.scrollLeft();\n            }\n            if (y === undefined) {\n                y = Math.min(Math.floor((win_.height() - con.height()) / 2), y_min) + win_.scrollTop();\n                if(y < win_.scrollTop()) {y = win_.scrollTop();}\n            }\n            con.offset({left: x, top: y});\n        },\n    };\n}());\n\nmodule.exports = {\n    ViewPopupUI: ViewPopupUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/view_popup/view_popup_ui.js\n ** module id = 130\n ** module chunks = 0\n **/","var ViewPopupWS = (function() {\n    \"use strict\";\n\n    var contractID,\n        contractType,\n        contract,\n        history,\n        proposal,\n        isSold,\n        isSellClicked,\n        chartStarted,\n        tickForgotten,\n        candleForgotten,\n        corporateActionEvent,\n        corporateActionSent,\n        chartUpdated;\n    var $Container,\n        $loading,\n        btnView,\n        popupboxID,\n        wrapperID,\n        winStatusID,\n        hiddenClass;\n\n    var init = function(button) {\n        btnView              = button;\n        contractID           = $(btnView).attr('contract_id');\n        contractType         = '';\n        contract             = {};\n        history              = {};\n        proposal             = {};\n        isSold               = false;\n        isSellClicked        = false;\n        chartStarted         = false;\n        tickForgotten        = false;\n        candleForgotten      = false;\n        chartUpdated         = false;\n        corporateActionEvent = false;\n        corporateActionSent  = false;\n        $Container           = '';\n        popupboxID           = 'inpage_popup_content_box';\n        wrapperID            = 'sell_content_wrapper';\n        winStatusID          = 'contract_win_status';\n        hiddenClass          = 'hidden';\n\n        if (btnView) {\n            ViewPopupUI.disable_button($(btnView));\n            ViewPopupUI.cleanup(true);\n        }\n\n        getContract();\n\n        setLoadingState(true);\n    };\n\n    var responseContract = function(response) {\n        if(!response.proposal_open_contract || !objectNotEmpty(response.proposal_open_contract)) {\n            showErrorPopup(response);\n            return;\n        }\n        // In case of error such as legacy shortcode, this call is returning the error message\n        // but no error field. To specify those cases, we check for other fields existence\n        if(!response.proposal_open_contract.hasOwnProperty('shortcode')) {\n            showErrorPopup(response, response.proposal_open_contract.validation_error);\n            return;\n        }\n\n        $.extend(contract, response.proposal_open_contract);\n\n        if(contract && contractType) {\n            if (!document.getElementById(wrapperID)) return;\n            ViewPopupWS[contractType + 'Update']();\n            return;\n        }\n\n        // ----- Corporate Action -----\n        if (contract.has_corporate_actions && !corporateActionSent) {\n            corporateActionSent = true;\n            getCorporateActions();\n        }\n\n        // ----- Spread -----\n        if(contract.shortcode.toUpperCase().indexOf('SPREAD') === 0) {\n            contractType = 'spread';\n            spreadShowContract();\n        }\n        // ----- Normal -----\n        else {\n            contractType = 'normal';\n            normalShowContract();\n        }\n    };\n\n    // ===== Contract: Spread =====\n    var spreadShowContract = function() {\n        setLoadingState(false);\n\n        spreadSetValues();\n\n        if(!$Container) {\n            $Container = spreadMakeTemplate();\n        }\n\n        $Container.find('#entry_level').text(contract.entry_level);\n        $Container.find('#per_point').text(contract.amount_per_point);\n\n        spreadUpdate();\n    };\n\n    var spreadSetValues = function() {\n        contract.is_ended = contract.is_expired || contract.is_sold;\n        contract.status   = text.localize(contract.is_ended ? 'Closed' : 'Open');\n    };\n\n    var spreadUpdate = function() {\n        spreadSetValues();\n\n        containerSetText('status'           , contract.status, {'class': contract.is_ended ? 'loss' : 'profit'});\n        containerSetText('stop_loss_level'  , contract.stop_loss_level);\n        containerSetText('stop_profit_level', contract.stop_profit_level);\n        containerSetText('pl_value'         , parseFloat(contract.current_value_in_dollar).toFixed(2), {'class': contract.current_value_in_dollar*1 >= 0 ? 'profit' : 'loss'});\n        containerSetText('pl_point'         , parseFloat(contract.current_value_in_point).toFixed(2));\n\n        if(!contract.is_ended) {\n            containerSetText('sell_level', contract.current_level);\n        }\n        else {\n            spreadContractEnded(contract.current_value_in_dollar*1 >= 0);\n        }\n\n        sellSetVisibility(!isSellClicked && !contract.is_ended);\n    };\n\n    var spreadContractEnded = function(is_win) {\n        $Container.find('#sell_level').parent('tr').addClass(hiddenClass);\n        $Container.find('#exit_level').text(contract.exit_level).parent('tr').removeClass(hiddenClass);\n        sellSetVisibility(false);\n        // showWinLossStatus(is_win);\n    };\n\n    var spreadMakeTemplate = function() {\n        $Container = $('<div/>');\n        $Container.prepend($('<div/>', {id: 'sell_bet_desc', class: 'popup_bet_desc drag-handle', text: text.localize('Contract Information')}));\n\n        var $table = $('<table><tbody></tbody></table>');\n        var tbody = spreadRow('Status'              , 'status', (contract.is_ended ? 'loss' : 'profit')) +\n                    spreadRow('Entry Level'         , 'entry_level') +\n                    spreadRow('Exit Level'          , 'exit_level', '', '', !contract.is_ended) +\n                    spreadRow('Stop Loss Level'     , 'stop_loss_level') +\n                    spreadRow('Stop Profit Level'   , 'stop_profit_level') +\n                    spreadRow('Current Level'       , 'sell_level', '', '', contract.is_ended) +\n                    spreadRow('Amount Per Point'    , 'per_point') +\n                    spreadRow('Profit/Loss'         , 'pl_value', (contract.profit >= 0 ? 'profit' : 'loss'), ' (' + contract.currency + ')') +\n                    spreadRow('Profit/Loss (points)', 'pl_point');\n\n        $table.find('tbody').append(tbody);\n        $Container.append(\n            $('<div/>', {id: wrapperID})\n                .append($('<div/>', {id: 'spread_table'}).append($table))\n                .append($('<div/>', {id: 'errMsg', class: 'notice-msg ' + hiddenClass}))\n                .append($('<div/>', {id: winStatusID, class: hiddenClass}))\n                .append($('<div/>', {id: 'contract_sell_wrapper', class: hiddenClass}))\n        );\n\n        ViewPopupUI.show_inpage_popup('<div class=\"' + popupboxID + '\">' + $Container.html() + '</div>', 'spread_popup', '#sell_bet_desc, #sell_content_wrapper');\n\n        return $('#' + wrapperID);\n    };\n\n    var spreadRow = function(label, id, classname, label_no_localize, isHidden) {\n        return '<tr' + (isHidden ? ' class=\"' + hiddenClass + '\"' : '') + '><td>' + text.localize(label) + (label_no_localize || '') + '</td><td' + (id ? ' id=\"' + id + '\"' : '') + (classname ? ' class=\"' + classname + '\"' : '') + '></td></tr>';\n    };\n\n    // ===== Contract: Normal =====\n    var normalShowContract = function() {\n        setLoadingState(false);\n\n        if(!$Container) {\n            $Container = normalMakeTemplate();\n        }\n\n        containerSetText('trade_details_contract_id'   , contract.contract_id);\n\n        containerSetText('trade_details_start_date'    , toJapanTimeIfNeeded(epochToDateTime(contract.date_start)));\n        if (document.getElementById('trade_details_end_date')) containerSetText('trade_details_end_date'      , toJapanTimeIfNeeded(epochToDateTime(contract.date_expiry)));\n        containerSetText('trade_details_payout', format_money(contract.currency, parseFloat(contract.payout).toFixed(2)));\n        containerSetText('trade_details_purchase_price', format_money(contract.currency, parseFloat(contract.buy_price).toFixed(2)));\n\n        normalUpdateTimers();\n        normalUpdate();\n        ViewPopupUI.reposition_confirmation();\n    };\n\n    var normalUpdate = function() {\n        var finalPrice       = contract.sell_price || contract.bid_price,\n            is_started       = !contract.is_forward_starting || contract.current_spot_time > contract.date_start,\n            user_sold        = contract.sell_time && contract.sell_time <= contract.date_expiry,\n            is_ended         = contract.is_expired || contract.is_sold || user_sold,\n            indicative_price = finalPrice && is_ended ? (contract.sell_price || contract.bid_price) : contract.bid_price ? contract.bid_price : null;\n\n        if(contract.barrier_count > 1) {\n            containerSetText('trade_details_barrier'    , contract.high_barrier , '', true);\n            containerSetText('trade_details_barrier_low', contract.low_barrier  , '', true);\n        } else if(contract.barrier) {\n            containerSetText('trade_details_barrier'    , contract.entry_tick_time ? contract.barrier : '-', '', true);\n        }\n\n        var currentSpot     = !is_ended ? contract.current_spot      : (user_sold ? contract.sell_spot      : contract.exit_tick);\n        var currentSpotTime = !is_ended ? contract.current_spot_time : (user_sold ? contract.sell_spot_time : contract.exit_tick_time);\n\n        containerSetText('trade_details_ref_id'          , contract.transaction_ids.buy + (contract.transaction_ids.sell ? ' - ' + contract.transaction_ids.sell : ''));\n        containerSetText('trade_details_current_date'    , toJapanTimeIfNeeded(epochToDateTime(currentSpotTime)));\n        containerSetText('trade_details_current_spot'    , currentSpot || text.localize('not available'));\n        containerSetText('trade_details_indicative_price', indicative_price ? format_money(contract.currency, parseFloat(indicative_price).toFixed(2)) : '-');\n\n        var profit_loss, percentage;\n        if (finalPrice) {\n            profit_loss = finalPrice - contract.buy_price;\n            percentage  = (profit_loss * 100 / contract.buy_price).toFixed(2);\n            containerSetText('trade_details_profit_loss',\n                format_money(contract.currency, parseFloat(profit_loss).toFixed(2)) + '<span>(' + (percentage > 0 ? '+' : '') + percentage + '%' + ')</span>',\n                {'class': (profit_loss >= 0 ? 'profit' : 'loss')}\n            );\n        } else {\n            containerSetText('trade_details_profit_loss', '-', {'class': 'loss'});\n        }\n\n        if(!is_started) {\n            containerSetText('trade_details_entry_spot', '-');\n            containerSetText('trade_details_message'   , text.localize('Contract is not started yet'));\n        }\n        else {\n            if(contract.entry_spot > 0) {\n                containerSetText('trade_details_entry_spot', contract.entry_spot);\n            }\n            containerSetText('trade_details_message', contract.validation_error ? contract.validation_error : corporateActionEvent ? '* ' + text.localize('This contract was affected by a Corporate Action event.') : '&nbsp;');\n        }\n\n        if(!chartStarted && !contract.tick_count) {\n            if (!tickForgotten) {\n              tickForgotten = true;\n              socketSend({\"forget_all\":\"ticks\"});\n            }\n            if (!candleForgotten) {\n              candleForgotten = true;\n              socketSend({\"forget_all\":\"candles\"});\n              Highchart.show_chart(contract);\n            }\n            if (candleForgotten && tickForgotten) {\n                Highchart.show_chart(contract, 'update');\n                if (contract.entry_tick_time) {\n                    chartStarted = true;\n                }\n            }\n        } else if (contract.tick_count && !chartUpdated) {\n            WSTickDisplay.updateChart('', contract);\n            chartUpdated = true;\n        }\n\n        if(!isSold && user_sold) {\n            isSold = true;\n            if (!contract.tick_count) Highchart.show_chart(contract, 'update');\n        }\n        if(is_ended) {\n            normalContractEnded(parseFloat(profit_loss) >= 0);\n            if(contract.is_valid_to_sell && contract.is_expired && !contract.is_sold && !isSellClicked) {\n                ViewPopupUI.forget_streams();\n                sellExpired();\n            }\n            if (!contract.tick_count) Highchart.show_chart(contract, 'update');\n        }\n\n        sellSetVisibility(!isSellClicked && !isSold && !is_ended && +contract.is_valid_to_sell === 1);\n        contract.chart_validation_error = contract.validation_error;\n        contract.validation_error = '';\n    };\n\n    var normalUpdateTimers = function() {\n        var update_time = function() {\n            var now = Math.max(Math.ceil((window.time || 0) / 1000), contract.current_spot_time || 0);\n            containerSetText('trade_details_live_date' , toJapanTimeIfNeeded(epochToDateTime(now)));\n            showLocalTimeOnHover('#trade_details_live_date');\n\n            var is_started = !contract.is_forward_starting || contract.current_spot_time > contract.date_start,\n                is_ended   = contract.is_expired || contract.is_sold;\n            if((!is_started || is_ended || now >= contract.date_expiry) && document.getElementById('trade_details_live_remaining')) {\n                containerSetText('trade_details_live_remaining', '-');\n            } else {\n                var remained = contract.date_expiry - now,\n                    day_seconds = 24 * 60 * 60,\n                    days = 0;\n                if(remained > day_seconds) {\n                    days = Math.floor(remained / day_seconds);\n                    remained = remained % day_seconds;\n                }\n                if (document.getElementById('trade_details_live_remaining')) {\n                  containerSetText('trade_details_live_remaining',\n                      (days > 0 ? days + ' ' + text.localize(days > 1 ? 'days' : 'day') + ', ' : '') +\n                      moment((remained) * 1000).utc().format('HH:mm:ss'));\n                }\n            }\n        };\n        update_time();\n\n        clearInterval(window.ViewPopupTimerInterval);\n        window.ViewPopupTimerInterval = setInterval(update_time, 500);\n    };\n\n    var normalContractEnded = function(is_win) {\n        containerSetText('trade_details_current_title'   , text.localize(contract.sell_spot_time < contract.date_expiry ? 'Contract Sold' : 'Contract Expiry'));\n        containerSetText('trade_details_spot_label'      , text.localize('Exit Spot'));\n        containerSetText('trade_details_spottime_label'  , text.localize('Exit Spot Time'));\n        containerSetText('trade_details_indicative_label', text.localize('Price'));\n        containerSetText('trade_details_message'         , '&nbsp;', {'epoch_time': ''});\n        sellSetVisibility(false);\n        // showWinLossStatus(is_win);\n    };\n\n    var addColorAndClass = function($tabToShow, $tabToHide, $contentToShow, $contentToHide) {\n      $tabToShow.attr('style', 'background: #f2f2f2;');\n      $tabToHide.attr('style', 'background: #c2c2c2;');\n      $contentToHide.addClass('invisible');\n      $contentToShow.removeClass('invisible');\n    };\n\n    var showCorporateAction = function() {\n      var $contractInformationTab = $('#contract_information_tab'),\n          $contractInformationContent = $('#contract_information_content');\n\n      $contractInformationTab.removeAttr('colspan');\n      $('#contract_tabs').append('<th id=\"corporate_action_tab\">' + text.localize('Corporate Action') + '</th>');\n\n      var $corporateActionTab = $('#corporate_action_tab'),\n          $corporateActionContent = $('#corporate_action_content');\n      var $barrierChange = $('#barrier_change'),\n          $barrierChangeContent = $('#barrier_change_content');\n\n      $corporateActionTab.attr('style', 'background: #c2c2c2;');\n      $('#sell_details_table').draggable({disabled:true});\n\n      $corporateActionTab.on('click', function() {\n        addColorAndClass($corporateActionTab, $contractInformationTab, $corporateActionContent, $contractInformationContent);\n        $barrierChange.removeClass('invisible');\n        $barrierChangeContent.removeClass('invisible');\n      });\n      $contractInformationTab.on('click', function() {\n        $barrierChange.addClass('invisible');\n        $barrierChangeContent.addClass('invisible');\n        addColorAndClass($contractInformationTab, $corporateActionTab, $contractInformationContent, $corporateActionContent);\n      });\n    };\n\n    var populateCorporateAction = function(corporateAction) {\n      for (var i = 0; i < corporateAction.get_corporate_actions.actions.length; i++) {\n        $('#corporate_action_content').append(\n          normalRow(corporateAction.get_corporate_actions.actions[i].display_date, '', '', '', corporateAction.get_corporate_actions.actions[i].type + ' (' + corporateAction.get_corporate_actions.actions[i].value + '-' + text.localize('for') + '-1)')\n        );\n      }\n      var originalBarriers, adjustedBarriers;\n      if (contract.original_barrier) {\n        originalBarriers = normalRow(text.localize('Original Barrier'), '', '', '', contract.original_barrier);\n      } else if (contract.original_high_barrier) {\n        originalBarriers = normalRow(text.localize('Original High Barrier'), '', '', '', contract.original_high_barrier) +\n                           normalRow(text.localize('Original Low Barrier'), '', '', '', contract.original_low_barrier);\n      }\n      if (contract.barrier) {\n        adjustedBarriers = normalRow(text.localize('Adjusted Barrier'), '', '', '', contract.barrier);\n      } else if (contract.high_barrier) {\n        adjustedBarriers = normalRow(text.localize('Adjusted High Barrier'), '', '', '', contract.high_barrier) +\n                           normalRow(text.localize('Adjusted Low Barrier'), '', '', '', contract.low_barrier);\n      }\n      $('#barrier_change_content').append(\n        originalBarriers +\n        adjustedBarriers\n      );\n    };\n\n    var normalMakeTemplate = function() {\n        $Container = $('<div/>').append($('<div/>', {id: wrapperID}));\n\n        var longcode = japanese_client() ? toJapanTimeIfNeeded(contract.expiry_date, '', contract.longcode) : contract.longcode;\n\n        $Container.prepend($('<div/>', {id: 'sell_bet_desc', class: 'popup_bet_desc drag-handle', text: longcode}));\n        var $sections = $('<div/>').append($('<div class=\"gr-row container\"><div id=\"sell_details_chart_wrapper\" class=\"gr-8 gr-12-m\"></div><div id=\"sell_details_table\" class=\"gr-4 gr-12-m\"></div></div>'));\n\n        $sections.find('#sell_details_table').append($(\n            '<table>' +\n                '<tr id=\"contract_tabs\"><th colspan=\"2\" id=\"contract_information_tab\">' + text.localize('Contract Information') + '</th></tr><tbody id=\"contract_information_content\">' +\n                    normalRow('Contract ID',    '', 'trade_details_contract_id') +\n                    normalRow('Reference ID',   '', 'trade_details_ref_id') +\n                    normalRow('Start Time',     '', 'trade_details_start_date') +\n                    (!contract.tick_count ? normalRow('End Time',       '', 'trade_details_end_date') +\n                                            normalRow('Remaining Time', '', 'trade_details_live_remaining') : '') +\n                    normalRow('Entry Spot',     '', 'trade_details_entry_spot') +\n                    normalRow(contract.barrier_count > 1 ? 'High Barrier' : 'Barrier', '', 'trade_details_barrier'    , true) +\n                    (contract.barrier_count > 1 ? normalRow('Low Barrier',             '', 'trade_details_barrier_low', true) : '') +\n                    normalRow('Potential Payout', '', 'trade_details_payout') +\n                    normalRow('Purchase Price', '', 'trade_details_purchase_price') +\n                '</tbody><tbody id=\"corporate_action_content\" class=\"invisible\"></tbody>' +\n                '<th colspan=\"2\" id=\"barrier_change\" class=\"invisible\">' + text.localize('Barrier Change') + '</th>' +\n                '<tbody id=\"barrier_change_content\" class=\"invisible\"></tbody>' +\n                '<tr><th colspan=\"2\" id=\"trade_details_current_title\">' + text.localize('Current') + '</th></tr>' +\n                    normalRow('Spot',           'trade_details_spot_label'    , 'trade_details_current_spot') +\n                    normalRow('Spot Time',      'trade_details_spottime_label', 'trade_details_current_date') +\n                    normalRow('Current Time',   '', 'trade_details_live_date') +\n                    normalRow('Indicative',     'trade_details_indicative_label', 'trade_details_indicative_price') +\n                    normalRow('Profit/Loss',    '', 'trade_details_profit_loss') +\n                '<tr><td colspan=\"2\" class=\"last_cell\" id=\"trade_details_message\">&nbsp;</td></tr>' +\n            '</table>' +\n            '<div id=\"errMsg\" class=\"notice-msg hidden\"></div>' +\n            '<div id=\"trade_details_bottom\"><div id=\"contract_sell_wrapper\" class=\"' + hiddenClass + '\"></div><div id=\"contract_sell_message\"></div><div id=\"contract_win_status\" class=\"' + hiddenClass + '\"></div></div>'\n        ));\n\n        $sections.find('#sell_details_chart_wrapper').html('<div id=\"live_chart_form_wrapper\" class=\"gr-12\"></div>' +\n            '<div class=\"chart-notice\"><div class=\"notice\" id=\"delayed_feed_notice\" style=\"display: none;\">Charting for this underlying is delayed</div><div class=\"notice\" id=\"not_available_notice\" style=\"display: none;\">Charting is not available for this underlying</div></div>' +\n            '<div id=\"' + (contract.tick_count ? 'tick_chart' : 'analysis_live_chart') + '\" class=\"live_chart_wrapper gr-12\"></div>');\n\n        $Container.find('#' + wrapperID)\n            .append($sections.html())\n            .append($('<div/>', {id: 'errMsg', class: 'notice-msg ' + hiddenClass}));\n\n        ViewPopupUI.show_inpage_popup('<div class=\"' + popupboxID + '\">' + $Container.html() + '</div>', '', '#sell_bet_desc');\n        return $('#' + wrapperID);\n    };\n\n    var normalRow = function(label, label_id, value_id, isHidden, value) {\n        return '<tr' + (isHidden ? ' class=\"' + hiddenClass + '\"' : '') + '><td' + (label_id ? ' id=\"' + label_id + '\"' : '') + '>' + text.localize(label) + '</td><td' + (value_id ? ' id=\"' + value_id + '\"' : '') + '>' + (value ? value : '') + '</td></tr>';\n    };\n\n    var normalSetVisibleRow = function(child_id, isVisible) {\n        var $row = $('#' + child_id).parent('tr');\n        if(isVisible) $row.removeClass(hiddenClass);\n        else $row.addClass(hiddenClass);\n    };\n\n    var epochToDateTime = function(epoch) {\n        return moment.utc(epoch * 1000).format('YYYY-MM-DD HH:mm:ss');\n    };\n\n    // ===== Tools =====\n    var containerSetText = function(id, text, attributes, isVisible) {\n        if(!$Container || $Container.length === 0) {\n            $Container = $('#' + wrapperID);\n        }\n\n        var $target = $Container.find('#' + id);\n        if($target && $target.length > 0) {\n            $target.html(text);\n            if (attributes) $target.attr(attributes);\n            if (isVisible)  $target.parent('tr').removeClass(hiddenClass);\n        }\n    };\n\n    var showWinLossStatus = function(isWin) {\n        containerSetText(\n            winStatusID,\n            text.localize('This contract has ' + (isWin ? 'WON' : 'LOST')),\n            {class: isWin ? 'won' : 'lost'}\n        );\n    };\n\n    var setLoadingState = function(showLoading) {\n        if(showLoading) {\n            $loading = $('#trading_init_progress');\n            if($loading.length) {\n                $loading.show();\n            }\n        }\n        else {\n            if($loading.length) {\n                $loading.hide();\n            }\n            if (btnView) {\n                ViewPopupUI.enable_button($(btnView));\n            }\n        }\n    };\n\n    var showMessagePopup = function(message, title, msgClass) {\n        setLoadingState(false);\n        var $con = $('<div/>');\n        $con.prepend($('<div/>', {id: 'sell_bet_desc', class: 'popup_bet_desc drag-handle', text: text.localize(title)}));\n        $con.append(\n            $('<div/>', {id: wrapperID})\n                .append($('<div/>', {class: msgClass, html: text.localize(message)}))\n        );\n        ViewPopupUI.show_inpage_popup('<div class=\"' + popupboxID + '\">' + $con.html() + '</div>', 'message_popup', '#sell_bet_desc');\n    };\n\n    var showErrorPopup = function(response, message) {\n        message = message || 'Sorry, an error occurred while processing your request.';\n        showMessagePopup(text.localize(message), 'There was an error', 'notice-msg');\n        console.log(response);\n    };\n\n    var sellSetVisibility = function(show) {\n        var sellWrapperID = 'sell_at_market_wrapper',\n            sellButtonID  = 'sell_at_market';\n        var isExist = $Container.find('#' + sellWrapperID).length > 0;\n        if (show) {\n            if (isExist) return;\n            if (contractType === 'spread') {\n                $Container.find('#contract_sell_wrapper').removeClass(hiddenClass).append(\n                    $('<p/>', {id: sellWrapperID, class: 'button'})\n                        .append($('<button/>', {id: sellButtonID, class: 'button', text: text.localize('Sell')}))\n                );\n            }\n            else {\n                $Container.find('#contract_sell_wrapper').removeClass(hiddenClass).append($('<div id=\"' + sellWrapperID + '\"><span class=\"button\"><button id=\"' + sellButtonID + '\" class=\"button\">' + text.localize('Sell at market') + '</button></span>' +\n                    '<div class=\"note\"><strong>' + text.localize('Note') + ':</strong> ' + text.localize('Contract will be sold at the prevailing market price when the request is received by our servers. This price may differ from the indicated price.') + '</div>'));\n            }\n            $Container.find('#' + sellButtonID).unbind('click').click(function(e) {\n                e.preventDefault();\n                e.stopPropagation();\n                ViewPopupUI.forget_streams();\n                isSellClicked = true;\n                sellSetVisibility(false);\n                sellContract();\n            });\n        } else {\n            if (!isExist) return;\n            $Container.find('#' + sellButtonID).unbind('click');\n            $Container.find('#' + sellWrapperID).remove();\n        }\n    };\n\n    // ===== Requests & Responses =====\n    // ----- Get Contract -----\n    var getContract = function(option) {\n        if(contractID) {\n            ViewPopupUI.forget_streams();\n            var req = {\n              \"proposal_open_contract\": 1,\n              \"contract_id\": contractID,\n              \"subscribe\": 1\n            };\n            if (option === 'no-subscribe') delete req.subscribe;\n            socketSend(req);\n        }\n    };\n\n    // ----- Corporate Action -----\n    var getCorporateActions = function() {\n      var epoch = window.time.unix();\n      var end_time = epoch < contract.date_expiry ? epoch.toFixed(0) : contract.date_expiry;\n      socketSend({\n        \"get_corporate_actions\": \"1\",\n        \"symbol\": contract.underlying,\n        \"start\": contract.date_start,\n        \"end\": end_time\n      });\n    };\n\n    // ----- Sell Expired -----\n    var sellExpired = function() {\n        socketSend({\"sell_expired\": 1, passthrough: {}});\n    };\n\n    var responseSellExpired = function(response) {\n        getContract();\n    };\n\n    // ----- Sell Contract -----\n    var sellContract = function() {\n        socketSend({\"sell\": contractID, \"price\": 0, passthrough: {}});\n    };\n\n    var responseSell = function(response) {\n        if(response.hasOwnProperty('error')) {\n            if(response.error.code === 'NoOpenPosition') {\n                getContract();\n            }\n            else {\n                $Container.find('#errMsg').text(response.error.message).removeClass(hiddenClass);\n            }\n            return;\n        }\n        if(contractType === 'spread') {\n            sellSetVisibility(false);\n            getContract();\n        }\n        else if(contractType === 'normal') {\n            sellSetVisibility(false);\n            if(isSellClicked) {\n                containerSetText('contract_sell_message',\n                    text.localize('You have sold this contract at [_1] [_2]', [contract.currency, response.sell.sold_for]) +\n                    '<br />' +\n                    text.localize('Your transaction reference number is [_1]', [response.sell.transaction_id])\n                );\n            }\n            getContract('no-subscribe');\n        }\n    };\n\n    // ===== Dispatch =====\n    var storeSubscriptionID = function(id, option) {\n        if(!window.stream_ids && !option) {\n            window.stream_ids = [];\n        }\n        if (!window.chart_stream_ids && option) {\n            window.chart_stream_ids = [];\n        }\n        if(!option && id && id.length > 0 && $.inArray(id, window.stream_ids) < 0) {\n            window.stream_ids.push(id);\n        } else if(option && id && id.length > 0 && $.inArray(id, window.chart_stream_ids) < 0) {\n            window.chart_stream_ids.push(id);\n        }\n    };\n\n    var socketSend = function(req) {\n        if(!req.hasOwnProperty('passthrough')) {\n            req.passthrough = {};\n        }\n        req.passthrough['dispatch_to'] = 'ViewPopupWS';\n        BinarySocket.send(req);\n    };\n\n    var dispatch = function(response) {\n        switch(response.msg_type) {\n            case 'proposal_open_contract':\n                if(response.proposal_open_contract && response.proposal_open_contract.contract_id == contractID) {\n                    storeSubscriptionID(response.proposal_open_contract.id);\n                    responseContract(response);\n                } else if (!response.proposal_open_contract && response.echo_req.contract_id == contractID && response.error) {\n                    showErrorPopup(response, response.error.message);\n                }\n                break;\n            case 'sell':\n                responseSell(response);\n                break;\n            case 'sell_expired':\n                responseSellExpired(response);\n                break;\n            case 'get_corporate_actions':\n                if (objectNotEmpty(response.get_corporate_actions)) {\n                  corporateActionEvent = true;\n                  containerSetText('trade_details_message', contract.validation_error ? contract.validation_error : corporateActionEvent ? '* ' + text.localize('This contract was affected by a Corporate Action event.') : '&nbsp;');\n                  populateCorporateAction(response);\n                  showCorporateAction();\n                }\n                break;\n        }\n        showLocalTimeOnHover('#trade_details_start_date');\n        showLocalTimeOnHover('#trade_details_end_date');\n        showLocalTimeOnHover('#trade_details_current_date');\n        showLocalTimeOnHover('#trade_details_live_date');\n    };\n\n    return {\n        init                : init,\n        dispatch            : dispatch,\n        spreadUpdate        : spreadUpdate,\n        normalUpdate        : normalUpdate,\n        storeSubscriptionID : storeSubscriptionID\n    };\n}());\n\n\npjax_config_page(\"profit_tablews|statementws|portfoliows|trading\", function() {\n    return {\n        onLoad: function() {\n            $('#profit-table-ws-container, #statement-ws-container, #portfolio-table, #contract_confirmation_container')\n                .on('click', '.open_contract_detailsws', function (e) {\n                    e.preventDefault();\n                    ViewPopupWS.init(this);\n                });\n        }\n    };\n});\n\nmodule.exports = {\n    ViewPopupWS: ViewPopupWS,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/view_popup/view_popupws.js\n ** module id = 131\n ** module chunks = 0\n **/","var ViewBalance = (function () {\n    function init(){\n        BinarySocket.init(1);\n    }\n\n    return {\n        init: init\n    };\n}());\n\nmodule.exports = {\n    ViewBalance: ViewBalance,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/viewbalance/viewbalance.init.js\n ** module id = 132\n ** module chunks = 0\n **/","var ViewBalanceUI = (function(){\n\n    function updateBalances(response){\n        if (response.hasOwnProperty('error')) {\n            console.log(response.error.message);\n            return;\n        }\n        var balance = response.balance;\n        var currency = balance.currency;\n        if (!currency) {\n            return;\n        }\n\n        var amount = addComma(parseFloat(balance.balance));\n        var view = format_money(currency, amount);\n\n        TUser.get().balance = balance.balance;\n        $(\"#balance\").text(view);\n        PortfolioWS.updateBalance();\n    }\n\n    return {\n        updateBalances: updateBalances\n    };\n}());\n\nmodule.exports = {\n    ViewBalanceUI: ViewBalanceUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/user/viewbalance/viewbalance.ui.js\n ** module id = 133\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"user/profit_table\", function(){\n    return {\n        onLoad: function() {\n            ProfitTableWS.init();\n        },\n        onUnload: function() {\n            ProfitTableWS.clean();\n        }\n    };\n});\n\npjax_config_page_require_auth(\"user/statement\", function(){\n    return {\n        onLoad: function() {\n            StatementWS.init();\n        },\n        onUnload: function() {\n            StatementWS.clean();\n        }\n    };\n});\n\npjax_config_page(\"resources/asset_indexws\", function() {\n    return {\n        onLoad: function() {\n            AssetIndexUI.init();\n        }\n    };\n});\n\npjax_config_page(\"resources/market_timesws\", function() {\n    return {\n        onLoad: function() {\n            MarketTimesUI.init();\n        }\n    };\n});\n\npjax_config_page_require_auth(\"user/portfoliows\", function() {\n    return {\n        onLoad: function() {\n            PortfolioWS.onLoad();\n        },\n        onUnload: function() {\n            PortfolioWS.onUnload();\n        },\n    };\n});\n\npjax_config_page_require_auth(\"user/settings/api_tokenws\", function() {\n    return {\n        onLoad: function() {\n            APITokenWS.init();\n        }\n    };\n});\n\npjax_config_page_require_auth(\"user/settings/self_exclusionws\", function() {\n    return {\n        onLoad: function() {\n            SelfExclusionWS.init();\n        }\n    };\n});\n\npjax_config_page_require_auth(\"user/settings/metatrader\", function() {\n    return {\n        onLoad: function() {\n            MetaTraderUI.init();\n        }\n    };\n});\n\npjax_config_page_require_auth(\"user/settings/securityws\", function() {\n    return {\n        onLoad: function() {\n            SecurityWS.init();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary/websocket_pages/websocket_pjax.js\n ** module id = 134\n ** module chunks = 0\n **/","var KnowledgeTestData = (function() {\n    \"use strict\";\n    var questions = {\n        section1:[\n            {\n                question: \"{JAPAN ONLY}An option holder must buy ( or sell ) the underlying asset at a predetermined price within a specified period ( or at a specific time ).\",\n                answer: false,\n                id: 1,\n            },\n            {\n                question: \"{JAPAN ONLY}A Currency Option confers the right to sell one currency in exchange for another currency as the underlying asset. For example, the right to sell Yen and buy Dollars is known as a Yen Put / Dollar Call Option, or just Yen Put for short; and the opposite right to buy Yen and sell Dollar is called a Yen Call / Dollar Put Option, or just Yen Call for short.\",\n                answer: true,\n                id: 2\n            },\n            {\n                question: \"{JAPAN ONLY}There are two types of option delivery: One requires exchanging the underlying asset, and the other requires a payment which depends on the difference between the fair market price and the exercise price. A Binary Option is the second type where if the fair market price meets certain conditions with respect to the exercise price, then an agreed fixed amount will be paid to the option buyer.\",\n                answer: true,\n                id: 3\n            },\n            {\n                question: \"{JAPAN ONLY}A  Net Settlement type of option is one where the underlying asset does not include yen, but the option fee and settlement are paid in yen; it therefore requires some definition of how the settlement amounts will be calculated and converted to yen.\",\n                answer: true,\n                id: 4\n            },\n            {\n                question: \"{JAPAN ONLY}A Binary Option contains the right for the buyer to receive a certain fixed amount if the market price reaches the exercise price by the exercise time, but it does not contain any rights to sell or buy the underlying asset.\",\n                answer: true,\n                id: 5\n            },\n            {\n                question: \"{JAPAN ONLY}There are some types of Binary Option, such as Range Binary Options, Touch or No-Touch Binary Options, that are exceptions to the general rule where payment is made at a known exercise time. For these types of option a payment is made automatically at Exit Time when certain conditions have been met.\",\n                answer: true,\n                id: 6\n            },\n            {\n                question: \"{JAPAN ONLY}There are many types of Binary Option, including some such as Range Binary Options and Touch or No-Touch Binary Options which do not always require automatic payment at Exercise Time and which will be settled earlier if certain conditions have been met. However, in all cases, for a payment to be required, the option must end In The Money.\",\n                answer: true,\n                id: 7\n            },\n            {\n                question: \"{JAPAN ONLY}A Currency Binary Option is one where there is a target for a particular currency pair, so a strike price for the exchange rate is agreed, and a payout will be due if the judgment price meets the conditions of being over or under the target strike price, depending on the option type, by the exercise time.\",\n                answer: true,\n                id: 8\n            },\n            {\n                question: \"{JAPAN ONLY}For a currency binary option which has the underlying exchange rate of dollars against yen, the right to receive a payout if the yen becomes weaker is known as a dollar-put binary option.\",\n                answer: false,\n                id: 9\n            },\n            {\n                question: \"{JAPAN ONLY}For a currency binary option with the underlying exchange rate of dollars against yen, the right to receive a payout if the yen becomes stronger is known as a dollar-put binary option.\",\n                answer: true,\n                id: 10\n            },\n            {\n                question: \"{JAPAN ONLY}If you sell a currency binary call option at a price of 500 yen, with an underlying of dollar against yen, the payout is 1,000 yen, and the strike price is 100, then if the judgment price at exercise time is 99, you will need to payout 1,000 yen to the buyer of the option.\",\n                answer: false,\n                id: 11\n            },\n            {\n                question: \"{JAPAN ONLY}If you sell a currency binary put option at a price of 500 yen, with an underlying of dollar against yen, the payout is 1,000 yen, and the strike price is 100, then if the judgment price at exercise time is 99, you will need to payout 1,000 yen to the buyer of the option.\",\n                answer: true,\n                id: 12\n            },\n            {\n                question: \"{JAPAN ONLY}If you buy a currency binary call option at a price of 500 yen, with an underlying of dollar against yen, the payout is 1,000 yen, and the strike price is 100, then if the judgment price at exercise time is 99, you will receive a payout 1,000 yen from the seller of the option.\",\n                answer: false,\n                id: 13\n            },\n            {\n                question: \"{JAPAN ONLY}If you buy a currency binary put option at a price of 500 yen, with an underlying of dollar against yen, the payout is 1,000 yen, and the strike price is 100, then if the judgment price at exercise time is 99, you will receive a payout 1,000 yen from the seller of the option.\",\n                answer: true,\n                id: 14\n            },\n            {\n                question: \"{JAPAN ONLY}If you buy a currency binary option at a price of 500 yen, and the judgment price meets the conditions so you receive a payout of 1,000 yen, then your profit can be calculated 500 yen after subtracting the 500 yen that was paid as a fee to the option seller.\",\n                answer: true,\n                id: 15\n            },\n            {\n                question: \"{JAPAN ONLY}If you sell a currency binary option at a price of 500 yen, and the judgment price meets the conditions so you need to payout 1,000 yen, then your profit will be minus 500 yen after subtracting the 500 yen that was received as a fee from the option buyer.\",\n                answer: true,\n                id: 16\n            }\n        ],\n        section2:[\n            {\n                question: \"{JAPAN ONLY}To avoid or hedge the future price of an underlying asset which you hold, you should buy a call option.\",\n                answer: false,\n                id: 17\n            },\n            {\n                question: \"{JAPAN ONLY}To compensate for any rise in the price of an underlying asset that you intend to buy in future, you should buy a call option.\",\n                answer: true, id: 18\n            },\n            {\n                question: \"{JAPAN ONLY}If you believe the underlying asset price will move by a large amount in either direction, you can benefit by buying both a call and a put option, with the exercise prices set above and below the current underlying price.\",\n                answer: true, id: 19\n            },\n            {\n                question: \"{JAPAN ONLY}If you believe the underlying asset price will be only moderately volatile, you could still benefit by buying both a call and put option with exercise prices that are above and below the exercise price.\",\n                answer: true, id: 20\n            },\n            {\n                question: \"{JAPAN ONLY}A Covered option position is where you hold an offsetting position in the underlying asset.\",\n                answer: true,\n                id: 21,\n            },\n            {\n                question: \"{JAPAN ONLY}A binary call option buyer will benefit from a correct prediction that the asset price will decline to below the strike price by the judgment time.\",\n                answer: false,\n                id: 22\n            },\n            {\n                question: \"{JAPAN ONLY}A binary put option buyer will benefit from a correct prediction that the asset price will decline to below the strike price by the judgment time.\",\n                answer: false,\n                id: 23\n            },\n            {\n                question: \"{JAPAN ONLY}A binary put options buyer will benefit from a correct prediction that the asset price will rise above the strike price by the judgment time.\",\n                answer: false,\n                id: 24\n            },\n            {\n                question: \"{JAPAN ONLY}A binary call options buyer will benefit from a correct prediction that the asset price will rise above the strike price by the judgment time.\",\n                answer: true,\n                id: 25\n            },\n            {\n                question: \"{JAPAN ONLY}When buying a vanilla call option, the break-even price at the exercise point is the strike price plus the option price paid in units of the underlying.\",\n                answer: true,\n                id: 26\n            },\n            {\n                question: \"{JAPAN ONLY}When buying a vanilla put option, the break-even price at the exercise point is the strike price minus the option price paid in units of the underlying.\",\n                answer: true,\n                id: 27\n            },\n            {\n                question: \"{JAPAN ONLY}Using binary options for hedging a position in the underlying asset means that only part of the loss or gain can be hedged, because the payout amount is fixed.\",\n                answer: true,\n                id: 28\n            },\n            {\n                question: \"{JAPAN ONLY}It is possible to use two binary options to make a profit if the asset price settles inbetween the two strikes. It is also possible to buy a single range option that will achieve the same result.\",\n                answer: true,\n                id: 29\n            },\n            {\n                question: \"{JAPAN ONLY}It is possible to use two binary options to make a profit if the asset price settles outside the two strikes. It is also possible to buy a single range option that will achieve the same result.\",\n                answer: true,\n                id: 30\n            },\n\n        ],\n        section3:[\n            {\n                question: \"{JAPAN ONLY}In Japan there are defined trading periods for binary options must be 2 hours or longer, and all trades must be conducted at the start of each trading period.\",\n                answer: false,\n                id: 31\n            },\n            {\n                question: \"{JAPAN ONLY}A bought or sold binary option may be closed-out before exercise time by selling or buying-back the option, or alternatively by cancelling.\",\n                answer: true,\n                id: 32\n            },\n            {\n                question: \"{JAPAN ONLY}In contrast to other types of FX options, short positions in FX Binary Options cannot be closed-out as they are not subject to loss-cut regulations.\",\n                answer: false,\n                id: 33\n            },\n            {\n                question: \"{JAPAN ONLY}Short positions in FX Binary Options must be covered by initial margin and any further losses must be covered by further margin deposits.\",\n                answer: true,\n                id: 34\n            },\n            {\n                question: \"{JAPAN ONLY}Although customers and brokers will set limits on customers trading losses, even if those losses are exceeded, it is the customer's responsibility to close the position and so mandatory loss-cuts will not be executed by the broker company.\",\n                answer: false,\n                id: 35\n            },\n            {\n                question: \"{JAPAN ONLY}Options may be European or American style of exercise, and those which can be exercised at only one expiry time are the European style options.\",\n                answer: true,\n                id: 36\n            },\n            {\n                question: \"{JAPAN ONLY}For a call option, if the price of the underlying asset is higher than the option exercise price, it is know as an in-the-money option.\",\n                answer: true,\n                id: 37\n            },\n            {\n                question: \"{JAPAN ONLY}For a call option, if the price of the underlying asset is higher than the option exercise price, it is know as an out-of-the-money option.\",\n                answer: false,\n                id: 38\n            },\n            {\n                question: \"{JAPAN ONLY}For both call and put options, if the underlying asset price is the same as the exercise price, it is known as an at-the-money option.\",\n                answer: true,\n                id: 39\n            },\n            {\n                question: \"{JAPAN ONLY}For a put option, if the underlying asset price is lower than the option exercise price, it is known as an out-of-the-money option.\",\n                answer: false,\n                id: 40\n            },\n            {\n                question: \"{JAPAN ONLY}For a put option, if the underlying asset price is higher than the option exercise price, it is known as an in-the-money option.\",\n                answer: false,\n                id: 41,\n            },\n            {\n                question: \"{JAPAN ONLY}The Exercise Price is the level at which the option buyer has the right to trade the underlying, and is also used for binary options to determine whether the buyer should receive a payout.\",\n                answer: true,\n                id: 42\n            },\n            {\n                question: \"{JAPAN ONLY}The Exit Price is the price that is observed at the judgment time, and is used to determine whether a payout should be made.\",\n                answer: true,\n                id: 43\n            },\n            {\n                question: \"{JAPAN ONLY}The payout is the amount that the option seller must pay to the buyer if the buyer exercises his right when the conditions for a payout have been satisfied.\",\n                answer: true,\n                id: 44\n            },\n            {\n                question: \"{JAPAN ONLY}In OTC currency binary options trading, if the exchange rate during the trading period moves by more than expected in one direction, and there are no longer any exercise prices which can continue to trade, it is possible under certain conditions to add further exercise prices. However, even when further exercise price have been added, the prices of the original options will not be affected.\",\n                answer: true,\n                id: 45\n            },\n            {\n                question: \"{JAPAN ONLY}The exit price is important in binary options. In case of handling the OTC currency-related binary options trading for private individuals, the broker company must perform inspections of the exit prices which have been used for determining option payout, and must check whether there is an error in the data in cases where that the company has used rated data provided by third company.\",\n                answer: true,\n                id: 46\n            },\n            {\n                question: \"{JAPAN ONLY}About OTC currency for binary options trading, summarizes the profit and loss result of all transactions that have been made between the customer, to publish the information in the company's home page, at any time while the customer is doing the transaction before the start, or the transaction, the information Make sure, for that you're willing to trade under the calm judgment, we are committed to a variety of environmental improvement.\",\n                answer: true,\n                id: 47\n            },\n            {\n                question: \"{JAPAN ONLY}For an individual investor, all profits from OTC currency options trading are tax-free.\",\n                answer: false,\n                id: 48\n            },\n            {\n                question: \"{JAPAN ONLY}For an individual investor, profits and losses from OTC currency options traing cannot be combined with profits and losses from margin FX and securities-related OTC options.\",\n                answer: false,\n                id: 49\n            },\n            {\n                question: \"{JAPAN ONLY}Unless special arrangements are made, cooling-off will not be available after OTC binary options trading contract has been made.\",\n                answer: true,\n                id: 50\n            }\n        ],\n        section4:[\n            {\n                question: \"{JAPAN ONLY}If the buyer of an option does not exercise the option rights, there will be no fee payable to the option seller.\",\n                answer: false,\n                id: 51\n            },\n            {\n                question: \"{JAPAN ONLY}If the buyer of an option waives his right to exercise, a transaction in the underlying asset will not be dealt between the seller and the buyer.\",\n                answer: true, id: 52\n            },\n            {\n                question: \"{JAPAN ONLY}The seller of an option should receive the option premium from the buyer, even if the buyer waives the right to exercise the option.\",\n                answer: true, id: 53\n            },\n            {\n                question: \"{JAPAN ONLY}If an option buyer wishes to exercise the option rights, the seller may still reject the deal.\",\n                answer: false, id: 54\n            },\n            {\n                question: \"{JAPAN ONLY}Options are said to be leveraged products because in the case of large moves in the underlying asset price, the values of the options can increase by large amounts compared to the price paid for the option.\",\n                answer: true, id: 55\n            },\n            {\n                question: \"{JAPAN ONLY}The buyer of a vanilla option can choose whether to exercise the option or not. His loss is limited to the price paid for the option, whereas his potential profit is unlimited.\",\n                answer: true, id: 56\n            },\n            {\n                question: \"{JAPAN ONLY}The seller of a vanilla option can not choose whether to exercise the option or not. His profit is limited to the price received for the option, whereas his potential loss is unlimited and could be substantial.\",\n                answer: true, id: 57\n            },\n            {\n                question: \"{JAPAN ONLY}If the exercise period passes without the option being exercised by the buyer, the option premium received by the seller will be the profit made on the trade.\",\n                answer: true, id: 58\n            },\n            {\n                question: \"{JAPAN ONLY}Even if the option is exercise or not exercised, the original option premium remains with the option seller.\",\n                answer: true, id: 59\n            },\n            {\n                question: \"{JAPAN ONLY}The maximum loss for the buyer of an option is the price paid, and the maximium loss for the option seller will be the payout amount minus the opion price he received.\",\n                answer: true, id: 60\n            },\n            {\n                question: \"{JAPAN ONLY}Because option prices are determined by the probability of being exercised, it cannot be said that cheaper options have any natural advantage over expensive options.\",\n                answer: true,\n                id: 61,\n            },\n            {\n                question: \"{JAPAN ONLY}Binary options have lower risk than vanilla options for option sellers, because with binary options the maximum loss is fixed.\",\n                answer: false,\n                id: 62\n            },\n            {\n                question: \"{JAPAN ONLY}Even though losses in binary options are limited, it is still necessary to take care not to engage in excessive speculative trading and to moderate your transactions volume.\",\n                answer: true,\n                id: 63\n            },\n            {\n                question: \"{JAPAN ONLY}If the probablility of a payout is 50% then when the potential payout is less than 100% of the price paid for the option, the expected return on the investment will be less than 100%.\",\n                answer: true,\n                id: 64\n            },\n            {\n                question: \"{JAPAN ONLY}It cannot be said that binary options trading is unconditionally advanteous over regular spot fx trading, because investors may lose all of their investment whereas in spot fx trading there will still be some value in the trading position.\",\n                answer: true,\n                id: 65\n            },\n            {\n                question: \"{JAPAN ONLY}The particular details of binary options are all the same, no matter which broking company you trade with.\",\n                answer: false,\n                id: 66\n            },\n            {\n                question: \"{JAPAN ONLY}Even if all details of the binary options match perfectly, there may still be differences in the prices shown by different broking companies.\",\n                answer: true,\n                id: 67\n            },\n            {\n                question: \"{JAPAN ONLY}Prices for currency options are calculated relative the value of theunderlying spot price, and are dependant on multiple factors which may vary.\",\n                answer: true,\n                id: 68\n            },\n            {\n                question: \"{JAPAN ONLY}Where broking companies show bid and offer prices for purchasing and sell-back of positions, these prices may become further apart the nearer you are to the exercise time.\",\n                answer: true,\n                id: 69\n            },\n            {\n                question: \"{JAPAN ONLY}Option prices depend on the spot price, the time to expiry, the volatility of the spot rate and interest rates.\",\n                answer: true, id: 70\n            },\n\n        ],\n        section5:[\n            {\n                question: \"{JAPAN ONLY}The price of an option can be affected by the underlying asset price, by the volatility rate of the underlying asset, or by the time remaining to the exercise time.\",\n                answer: true, id: 71\n            },\n            {\n                question: \"{JAPAN ONLY}The price of a vanilla call option will be lower when price of the underlying asset is low, but the price of the put option will be higher when the price of the underlying asset is low.\",\n                answer: true, id: 72\n            },\n            {\n                question: \"{JAPAN ONLY}If the exercise prices and exercise times are the same for an American style and European style option, then the American style option will have a higher price.\",\n                answer: true, id: 73\n            },\n            {\n                question: \"{JAPAN ONLY}In case of the right to buy the underlying asset (call option), when the underlying asset price falls, the option price will increase.\",\n                answer: false, id: 74\n            },\n            {\n                question: \"{JAPAN ONLY}In case of the right to sell the underlying asset (put option), when the underlying asset price rises, the option price will increase.\",\n                answer: false, id: 75\n            },\n            {\n                question: \"{JAPAN ONLY}For an out-of-the-money option, the further away from the underlying asset price that the option exercise price is, the lower the price of the option will be.\",\n                answer: true, id: 76\n            },\n            {\n                question: \"{JAPAN ONLY}For an in-the-money option, the further away from the underlying asset price that the option exercise price is, the lower the price of the option will be.\",\n                answer: false, id: 77\n            },\n            {\n                question: \"{JAPAN ONLY}If implied volatility increases then the prices of both call and put types of plain vanilla options will increase.\",\n                answer: true, id: 78\n            },\n            {\n                question: \"{JAPAN ONLY}As the expected volatility of the underlying asset increases, a plain vanilla option price will move higher.\",\n                answer: true, id: 79\n            },\n            {\n                question: \"{JAPAN ONLY}For a plain vanilla option, as the time to the exercise point shortens, the price of the option will decrease.\",\n                answer: true, id: 80\n            },\n            {\n                question: \"{JAPAN ONLY}An option price is the sum of the intrinsic-value and the time-value.\",\n                answer: true,\n                id: 81,\n            },\n            {\n                question: \"{JAPAN ONLY}If the underlying asset price is 100 yen, the exercise price is 80 yen, and the call option price is 45 yen, then it can be said that the option's intrinsic-value is 20 yen, and its time-value is 25 yen.\",\n                answer: true,\n                id: 82\n            },\n            {\n                question: \"{JAPAN ONLY}The time-value of an option represents the expected value of the option at the exercise point, and may be positive, even when the intrinsic-value is zero.\",\n                answer: true,\n                id: 83\n            },\n            {\n                question: \"{JAPAN ONLY}As the time to the exercise point shortens, the time-value of a plain vanilla option decreases.\",\n                answer: true,\n                id: 84\n            },\n            {\n                question: \"{JAPAN ONLY}A binary option price cannot exceed the payout amount.\",\n                answer: true,\n                id: 85\n            },\n            {\n                question: \"{JAPAN ONLY}In general a binary option price will not exceed the payout amount.\",\n                answer: true,\n                id: 86\n            },\n            {\n                question: \"{JAPAN ONLY}Unlike a plain vanilla option, an in-the-money binary option will have a lower price, the further away it is from the exercise point.\",\n                answer: true,\n                id: 87\n            },\n            {\n                question: \"{JAPAN ONLY}In general the price of a binary option will be lower than the price of a plain vanilla option because the payout amount is fixed.\",\n                answer: false,\n                id: 88\n            },\n            {\n                question: \"{JAPAN ONLY}A binary option which is out-of-the-money will have a lower price than an option which is in-the-money because the probability of receiving the payout amount is lower.\",\n                answer: true,\n                id: 89\n            },\n            {\n                question: \"{JAPAN ONLY}A binary option which is in-the-money will have a higher value than an option that is out-of-the-money because there will be a higher probability of receiving the payout amount.\",\n                answer: true, id: 90\n            },\n            {\n                question: \"{JAPAN ONLY}As the exercise deadline approaches, the price of an in-the-money binary option will move towards the payout amount.\",\n                answer: true, id: 91\n            },\n            {\n                question: \"{JAPAN ONLY}As the exercise deadline approaches, the price of an out-of-the-money binary option will move towards zero.\",\n                answer: true, id: 92\n            },\n            {\n                question: \"{JAPAN ONLY}The price of a binary option is affected by not only the change in the underlying asset price, but also the change in remaining time to the exercise point.\",\n                answer: true, id: 93\n            },\n            {\n                question: \"{JAPAN ONLY}Implied volatility is a prediction of the future rate of change in the underlying asset.\",\n                answer: true, id: 94\n            },\n            {\n                question: \"{JAPAN ONLY}Historical volatility is a prediction of the future rate of change in the underlying asset.\",\n                answer: false, id: 95\n            },\n            {\n                question: \"{JAPAN ONLY}Delta refers to  a percentage change of the option price with respect to the change in the underlying asset price.\",\n                answer: true, id: 96\n            },\n            {\n                question: \"{JAPAN ONLY}Option prices are normally dependant on elements such as the underlying asset price, the exercise price, the length of time until the exercise point, volatility, and interest rates. Apart from the fixed exercise price, all other elements are changing constantly, so an understanding of the relationships between each element and changes in the options price is necessary for the management of options trading risk.\",\n                answer: true, id: 97\n            },\n            {\n                question: \"{JAPAN ONLY}Option prices are normally dependant on elements such as the underlying asset price, the exercise price, the length of time until the exercise point, volatility, and interest rates. However, when the remaining time to the exercise point is very short, there is no need to consider these when managing option trading risk, as all these elements are constant.\",\n                answer: false, id: 98\n            },\n            {\n                question: \"{JAPAN ONLY}The Black-Scholes model is widely used to calculate theoretical option prices.\",\n                answer: true, id: 99\n            },\n            {\n                question: \"{JAPAN ONLY}A modified version of the Black-Scholes model is widely used to calculate the theoretical prices of binary options.\",\n                answer: true, id: 100\n            },\n        ],\n    };\n\n    function randomPick4(questions) {\n        var availables = Object.keys(questions);\n\n        var randomPicks = [];\n        for (var i = 0 ; i < 4 ; i ++) {\n            var randomIndex = Math.floor(Math.random() * 100) % availables.length;\n            var randomQid = availables[randomIndex];\n            var randomPick = questions[randomQid];\n            randomPicks.push(randomPick);\n            availables.splice(randomIndex, 1);\n        }\n\n        return randomPicks;\n    }\n\n    function randomPick20() {\n        var qFromSection1 = randomPick4(questions.section1);\n        var qFromSection2 = randomPick4(questions.section2);\n        var qFromSection3 = randomPick4(questions.section3);\n        var qFromSection4 = randomPick4(questions.section4);\n        var qFromSection5 = randomPick4(questions.section5);\n\n        return [\n            qFromSection1,\n            qFromSection2,\n            qFromSection3,\n            qFromSection4,\n            qFromSection5\n        ];\n    }\n\n    function sendResult(results) {\n        var status = results >= 14 ? 'pass' : 'fail';\n        BinarySocket.send({jp_knowledge_test: 1, score: results, status: status});\n    }\n\n    return {\n        questions: questions,\n        randomPick20: randomPick20,\n        sendResult: sendResult\n    };\n}());\n\nmodule.exports = {\n    KnowledgeTestData: KnowledgeTestData,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary_japan/knowledge_test/knowledge_test.data.js\n ** module id = 135\n ** module chunks = 0\n **/","var KnowledgeTest = (function() {\n    \"use strict\";\n\n    var hiddenClass = 'invisible';\n\n    var submitted = {};\n    var submitCompleted = false;\n    var randomPicks = [];\n    var randomPicksAnswer = {};\n    var resultScore = 0;\n\n    var passMsg = '{JAPAN ONLY}Congratulations, you have pass the test, our Customer Support will contact you shortly.';\n    var failMsg = '{JAPAN ONLY}Sorry, you have failed the test, please try again after 24 hours.';\n\n    function questionAnswerHandler(ev) {\n        var selected = ev.target.value;\n        var qid = ev.target.name;\n        submitted[qid] = selected === '1';\n    }\n\n    function submitHandler() {\n        if (submitCompleted) {\n            return;\n        }\n        var answeredQid = Object.keys(submitted).map(function(k) {return +k;});\n        if (answeredQid.length !== 20) {\n            $('#knowledge-test-instructions').addClass('invisible');\n            $('#knowledge-test-msg')\n                .addClass('notice-msg')\n                .text(text.localize('You need to finish all 20 questions.'));\n            // $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n\n            var allQid = [].concat.apply([], randomPicks).map(function(q) {\n                return q.id;\n            });\n            var unAnswered = allQid.find(function(q){\n                return answeredQid.indexOf(q) === -1;\n            });\n            window.location.href = '#' + unAnswered;\n            return;\n        }\n\n        // compute score\n        for (var k in submitted) {\n            if (submitted.hasOwnProperty(k)) {\n                resultScore += (submitted[k] === randomPicksAnswer[k] ? 1 : 0);\n            }\n        }\n        KnowledgeTestData.sendResult(resultScore);\n        submitCompleted = true;\n    }\n\n    function showQuestionsTable() {\n        for (var j = 0 ; j < randomPicks.length ; j ++) {\n            var table = KnowledgeTestUI.createQuestionTable(randomPicks[j]);\n            $('#section' + (j + 1) + '-question').append(table);\n        }\n\n        $('#knowledge-test-questions input[type=radio]').click(questionAnswerHandler);\n        $('#knowledge-test-submit').click(submitHandler);\n        $('#knowledge-test-questions').removeClass(hiddenClass);\n        $('#knowledge-test-msg').text(text.localize('{JAPAN ONLY}Please complete the following questions.'));\n        $('#knowledge-test-instructions').removeClass('invisible');\n    }\n\n    function showResult(score, time) {\n        $('#knowledge-test-instructions').addClass('invisible');\n        $('#knowledge-test-header').text(text.localize('{JAPAN ONLY}Knowledge Test Result'));\n        if (score >= 14) {\n            $('#knowledge-test-msg').text(text.localize(passMsg));\n        } else {\n            $('#knowledge-test-msg').text(text.localize(failMsg));\n        }\n\n        var $resultTable = KnowledgeTestUI.createResultUI(score, time);\n\n        $('#knowledge-test-container').append($resultTable);\n        $('#knowledge-test-questions').addClass(hiddenClass);\n    }\n\n    function showMsgOnly(msg) {\n        $('#knowledge-test-questions').addClass(hiddenClass);\n        $('#knowledge-test-msg').text(text.localize(msg));\n        $('#knowledge-test-instructions').addClass('invisible');\n    }\n\n    function showDisallowedMsg(jpStatus) {\n        var nextTestEpoch = jpStatus.next_test_epoch;\n        var lastTestEpoch = jpStatus.last_test_epoch;\n\n        var nextTestDate = new Date(nextTestEpoch * 1000);\n        var lastTestDate = new Date(lastTestEpoch * 1000);\n\n        var msgTemplate =\n            '{JAPAN ONLY}Dear customer, you are not allowed to take knowledge test until [_1]. Last test taken at [_2].';\n\n        var msg = text.localize(msgTemplate, [\n            nextTestDate.toUTCString(),\n            lastTestDate.toUTCString(),\n            ]);\n\n        showMsgOnly(msg);\n    }\n\n    function showCompletedMsg() {\n        var msg = \"{JAPAN ONLY}Dear customer, you've already completed the knowledge test, please proceed to next step.\";\n        showMsgOnly(msg);\n    }\n\n    function populateQuestions() {\n        randomPicks = KnowledgeTestData.randomPick20();\n        for (var i = 0 ; i < 5 ; i ++) {\n            for ( var k = 0 ; k < 4 ; k++) {\n                var qid = randomPicks[i][k].id;\n                var ans = randomPicks[i][k].answer;\n\n                randomPicksAnswer[qid] = ans;\n            }\n        }\n\n        showQuestionsTable();\n    }\n\n    function init() {\n        BinarySocket.init({\n            onmessage: function(msg) {\n                var response = JSON.parse(msg.data);\n                var type = response.msg_type;\n\n                var passthrough = response.echo_req.passthrough && response.echo_req.passthrough.key;\n\n                if (type === 'get_settings' && passthrough === 'knowledgetest') {\n                    var jpStatus = response.get_settings.jp_account_status;\n\n                    if (!jpStatus) {\n                        window.location.href = page.url.url_for('/');\n                        return;\n                    }\n\n                    switch(jpStatus.status) {\n                        case 'jp_knowledge_test_pending': populateQuestions();\n                            break;\n                        case 'jp_knowledge_test_fail': if (Date.now() >= (jpStatus.next_test_epoch * 1000)) {\n                            // show Knowledge Test cannot be taken\n                            populateQuestions();\n                        } else {\n                            showDisallowedMsg(jpStatus);\n                        }\n                            break;\n                        case 'jp_activation_pending': showCompletedMsg();\n                            break;\n                        default: {\n                            console.warn('Unexpected jp status');\n                            window.location.href = page.url.url_for('/');\n                        }\n                    }\n                } else if (type === 'jp_knowledge_test') {\n                    if (!response.error) {\n                        showResult(resultScore, response.jp_knowledge_test.test_taken_epoch * 1000);\n                        $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n\n                        $('#knowledgetest-link').addClass(hiddenClass);     // hide it anyway\n                        localStorage.setItem('jp_test_allowed', 0);\n                    } else if (response.error.code === 'TestUnavailableNow') {\n                        showMsgOnly('{JAPAN ONLY}The test is unavailable now, test can only be taken again on next business day with respect of most recent test.');\n                    }\n                }\n            }\n        });\n\n        BinarySocket.send({get_settings: 1, passthrough: {key: 'knowledgetest'}});\n    }\n\n    function showKnowledgeTestTopBarIfValid(jpStatus) {\n        if (!jpStatus) {\n            return;\n        }\n        switch (jpStatus.status) {\n            case 'jp_knowledge_test_pending': KnowledgeTestUI.createKnowledgeTestLink();\n                break;\n            case 'jp_knowledge_test_fail': if (Date.now() >= (jpStatus.next_test_epoch * 1000)) {\n                KnowledgeTestUI.createKnowledgeTestLink();\n            }\n                break;\n            case 'jp_activation_pending': $('#topbar-msg').children('a').addClass(hiddenClass);\n                break;\n            default: return;\n        }\n    }\n\n    return {\n        init: init,\n        showKnowledgeTestTopBarIfValid: showKnowledgeTestTopBarIfValid\n    };\n}());\n\nmodule.exports = {\n    KnowledgeTest: KnowledgeTest,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary_japan/knowledge_test/knowledge_test.init.js\n ** module id = 136\n ** module chunks = 0\n **/","var KnowledgeTestUI = (function () {\n    \"use strict\";\n\n    function createTrueFalseBox(question, showAnswer) {\n        var qid = question.id;\n        var trueId = qid + 'true';\n        var falseId = qid + 'false';\n\n        var $trueButton = $('<input />', {\n            type: 'radio',\n            name: qid,\n            id: trueId,\n            value: '1'\n        });\n        var $trueLabel = $('<label></label>', {class: 'img-holder true', for: trueId, value: '1'});\n        var $trueTd = $('<td></td>').append($trueButton);\n\n        var $falseButton = $('<input />', {\n            type: 'radio',\n            name: qid,\n            id: falseId,\n            value: '0'\n        });\n        var $falseLabel = $('<label></label>', {class: 'img-holder false', for: falseId, value: '0'});\n        var $falseTd = $('<td></td>').append($falseButton);\n\n        if (showAnswer) {\n            if (question.answer) {\n                $trueButton.prop('checked', true);\n            } else {\n                $falseButton.prop('checked', true);\n            }\n            $trueButton.attr('disabled', true);\n            $falseButton.attr('disabled', true);\n        }\n\n        return [$trueTd, $falseTd];\n    }\n\n    function createQuestionRow(questionNo, question, showAnswer) {\n        var $questionRow = $('<tr></tr>', {id: questionNo, class: 'question'});\n        var $questionData = $('<td></td>').text(text.localize(question.question));\n        var $questionLink = $('<a></a>', {name: question.id});\n        $questionData.append($questionLink);\n\n        var trueFalse = createTrueFalseBox(question, showAnswer);\n\n        return $questionRow\n            .append($questionData)\n            .append(trueFalse[0])\n            .append(trueFalse[1]);\n    }\n\n    function createQuestionTable(questions, showAnswer) {\n        var $header = $('<tr></tr>');\n        var $questionColHeader = $('<th></th>', {id: 'question-header', class: 'question-col'})\n            .text(text.localize('Questions'));\n\n        var $trueColHeader = $('<th></th>', {id: 'true-header', class: 'true-col'})\n            .text(text.localize('True'));\n\n        var $falseColHeader = $('<th></th>', {id: 'fasle-header', class: 'false-col'})\n            .text(text.localize('False'));\n\n        $header\n            .append($questionColHeader)\n            .append($trueColHeader)\n            .append($falseColHeader);\n\n        var $tableContainer = $('<table></table>', {id: 'knowledge-test'});\n\n        $tableContainer.append($header);\n        questions.forEach(function(question, questionNo) {\n            var qr = createQuestionRow(questionNo, question, showAnswer);\n            $tableContainer.append(qr);\n        });\n\n        return $tableContainer;\n    }\n\n    function createResultUI(score, time) {\n\n        var $resultTable = $('<table></table>', { class: 'kv-pairs'});\n        var $scoreRow = $('<tr></tr>').append($('<td>' + text.localize('Score') + '</td>')).append($('<td>'+ score + '</td>'));\n\n        var date = new moment();\n        var submitDate = mmoment.utc(date).format('YYYY') + text.localize('Year') + moment.utc(date).format('MM') + text.localize('Month') + moment.utc(date).format('DD') + text.localize('Day') + ' (' + text.localize('Weekday') + ')';\n\n        var $dateRow = $('<tr></tr>').append($('<td>' + text.localize('Date') + '</td>')).append($('<td>'+ submitDate + '</td>'));\n\n        $resultTable.append($scoreRow).append($dateRow);\n\n        return $resultTable;\n    }\n\n    function createAlreadyCompleteDiv() {\n        var msg = \"{JAPAN ONLY}Dear customer, you've already completed the knowledge test, please proceed to next step.\";\n        var $completeDiv = $('<div></div>').text(text.localize(msg));\n        return $completeDiv;\n    }\n\n    function createKnowledgeTestLink() {\n        // change topbar to knowledge test link\n        var $topbarmsg = $('#topbar-msg');\n        if ($topbarmsg.length <= 0) {\n            return;         // topbar not exist, do nothing\n        }\n\n        $topbarmsg.find('> span').removeClass('invisible');\n        $topbarmsg.removeClass('invisible')\n            .find('a').removeClass('invisible')\n                .attr('href', page.url.url_for('/new_account/knowledge_testws')).html($('<span/>', {text: text.localize('{JAPAN ONLY}Take knowledge test')}));\n    }\n\n    return {\n        createTrueFalseBox: createTrueFalseBox,\n        createQuestionRow: createQuestionRow,\n        createQuestionTable: createQuestionTable,\n        createResultUI: createResultUI,\n        createAlreadyCompleteDiv: createAlreadyCompleteDiv,\n        createKnowledgeTestLink: createKnowledgeTestLink,\n    };\n}());\n\nmodule.exports = {\n    KnowledgeTestUI: KnowledgeTestUI,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary_japan/knowledge_test/knowledge_test.ui.js\n ** module id = 137\n ** module chunks = 0\n **/","pjax_config_page_require_auth(\"new_account/knowledge_testws\", function(){\n    return {\n        onLoad: function() {\n            KnowledgeTest.init();\n        }\n    };\n});\n\nmodule.exports = {\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary_japan/knowledge_test.js\n ** module id = 138\n ** module chunks = 0\n **/","var JPTradePage = (function() {\n\n  var scriptUrl = 'https://binary-com.github.io/japanui/dist/bundle.js';\n  var isJapan = false;\n  var scriptReady = false;\n\n  var getScript = function(cb) {\n    var options = { dataType: 'script', cache: true, url: scriptUrl };\n\n    if (!scriptReady) {\n      $.ajax(options).done(function() {\n        scriptReady = true;\n        cb();\n      });\n    } else {\n      cb();\n    }\n  };\n\n  var onLoad = function() {\n    isJapan = true;\n\n    getScript(function() { JapanTrading.start(); });\n\n    Content.populate();\n    TradingAnalysis.bindAnalysisTabEvent();\n    $('#tab_portfolio a').text(text.localize('Portfolio'));\n    $('#tab_graph a').text(text.localize('Chart'));\n    $('#tab_explanation a').text(text.localize('Explanation'));\n\n    window.chartAllowed = true;\n  };\n\n  var reload = function() {\n    window.location.reload();\n  };\n\n  var onUnload = function() {\n    window.chartAllowed = false;\n    isJapan = false;\n    JapanTrading.stop();\n  };\n\n  return {\n    onLoad: onLoad,\n    reload: reload,\n    onUnload: onUnload,\n    isJapan: function() {\n      return isJapan;\n    }\n  };\n})();\n\nmodule.exports = {\n    JPTradePage: JPTradePage,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary_japan/trade_japan/JPTradePage.js\n ** module id = 139\n ** module chunks = 0\n **/","var JapanPortfolio = (function() {\n\n  var $portfolio;\n  var isPortfolioActive = false;\n\n  function init() {\n\n    if (isActive()) {\n      $('#tab_portfolio').removeClass('invisible');\n    }\n\n    var $container = $('#tab_portfolio-content');\n    $portfolio = $portfolio || $('#portfolio');\n\n    if ($portfolio &&\n      (!$('#portfolio').parent().length ||\n        $('#portfolio').parent().get(0).id !== 'tab_portfolio-content')) {\n      $portfolio.detach();\n      $container.append($portfolio);\n    }\n  }\n\n  function show() {\n    if (JPTradePage.isJapan() && !isPortfolioActive) {\n      PortfolioWS.onLoad();\n      isPortfolioActive = true;\n    }\n\n    return;\n  }\n\n  function isActive() {\n    var user = new User();\n    if (user.email && JPTradePage.isJapan()) {\n      return true;\n    }\n  }\n\n  function hide() {\n    if (JPTradePage.isJapan() && isPortfolioActive) {\n      PortfolioWS.onUnload();\n      isPortfolioActive = false;\n    }\n\n    return;\n  }\n\n  return {\n    init: init,\n    show: show,\n    hide: hide,\n    isActive: isActive,\n  };\n})();\n\nmodule.exports = {\n    JapanPortfolio: JapanPortfolio,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary_japan/trade_japan/portfolio.js\n ** module id = 140\n ** module chunks = 0\n **/","var PricingDetails = function() {\n    return {\n        register: function() {\n            if(this.popup().length > 0) {\n                this.on_open_debug_link();\n                this.on_close();\n            }\n        },\n        on_open_debug_link: function() {\n            var that = this;\n            $('a.pricing-details').on('click', function (event) {\n                var popup = that.popup();\n                $('.draggable').draggable(); // This is overkill, but nobody cares.\n                popup.toggleClass('invisible');\n\n                $('#' + popup.children(':first').attr('id')).tabs();\n\n                event.preventDefault();\n            }).addClass('unbind_later');\n        },\n        on_close: function() {\n            var that = this;\n            $('a.pricing-details-close').on('click', function (event) {\n                that.popup().addClass('invisible');\n                event.preventDefault();\n            }).addClass('unbind_later');\n        },\n        popup: function() {\n            return $('#pricing_details_popup');\n        }\n    };\n}();\n\nmodule.exports = {\n    PricingDetails: PricingDetails,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/javascript/binary_japan/trade_japan/pricing_details.js\n ** module id = 141\n ** module chunks = 0\n **/"],"sourceRoot":""}